{"version":3,"sources":["webpack:///./src/views/identifier-center/pages/organization/detail/balanceoverview/index.vue","webpack:///src/views/identifier-center/pages/organization/detail/balanceoverview/index.vue","webpack:///./src/views/identifier-center/pages/organization/detail/balanceoverview/index.vue?4841","webpack:///./src/views/identifier-center/pages/organization/detail/balanceoverview/index.vue?72e0","webpack:///./src/common/utils/export-utils.js","webpack:///./src/views/identifier-center/pages/organization/detail/balanceoverview/index.vue?91b5","webpack:///./src/views/identifier-center/pages/organization/utils/common.js","webpack:///./src/components/portal-header/index.vue?35d5","webpack:///./src/views/business-center/pages/settlement/api/revenue-settlement.js","webpack:///./src/views/business-center/pages/settlement/utils/amount-utils.js","webpack:///./src/components/portal-header/index.vue","webpack:///src/components/portal-header/index.vue","webpack:///./src/components/portal-header/index.vue?53d5","webpack:///./src/components/portal-header/index.vue?45e4","webpack:///./src/views/identifier-center/api/api-organization.js"],"names":["render","_vm","this","_c","_self","staticClass","attrs","titleConfig","ref","searchList","formConfigList","searchLoading","on","reset","search","staticStyle","exportData","isExportDisabled","_v","_s","$t","slot","columns","paginationConfig","getTableData","refreshTableFlag","scopedSlots","_u","key","fn","scope","$event","viewDetail","data","row","organizationName","parentOrgName","staticRenderFns","name","components","TablePage","PortalHeader","PortalForm","props","propShortCode","type","requied","total","pageIndex","pageSize","shortCode","accountType","accountTypeList","label","prop","align","width","__slotName","queryFormRules","time","required","message","trigger","created","computed","title","desc","comp","bind","placeholder","options","hidden","methods","list","queryChildren","accountTypeId","pageNo","fileType","exportUtils","then","res","item","success","catch","header","finally","formatBalance","id","identityId","organizationId","path","query","showBalanceWithUnit","component","async","callBack","opt","blobType","reader","FileReader","readAsText","_this","onload","errorData","JSON","parse","result","$modal","msgError","responseDesc","rollupStart","Date","date","dateFormat","temp","toLowerCase","headers","split","blob","Blob","elink","document","createElement","download","style","display","href","URL","createObjectURL","body","appendChild","click","revokeObjectURL","removeChild","dealApiRes","fnApi","receivedField","arg","getbatchData","fnMap","keys","Object","fetchFns","values","Promise","all","resultEntries","map","index","fromEntries","transOptions","valueField","labelField","isPure","option","value","getItemFromListByField","field","find","e","getLabelFromOptions","deepClone","sourceData","cache","Map","get","obj","Function","prototype","apply","arguments","args","call","undefined","Array","RegExp","flags","set","hasOwnProperty","getRevenueSettlementList","request","url","method","getRevenueSettlementDetail","execOrgAutoSweep","queryWorkflowDetail","batchProcess","queryDict","getAmountUnitFun","queryOrgAndProfile","AmountUnit","constructor","amountUnitList","initAmountUnit","format","string","currencyCode","amountUnit","num","Number","money","parseFloat","toFixed","toLocaleString","charIndex","lastIndexOf","symbol","moneyLength","slice","length","getCurrency","currency","class","showBottomLine","projectObj","_t","_e","default","getOrganizationList","buildUrlWithObj","queryOrgListByPage","checkShortCode","organizationChangeStatus","changeOrganizationName","loadLanguageList","checkRoleRelationship","getOrganizationDetail","getOrganizationChildOrgDetail","getOrganizationStatus","updateRuleProfile","checkMerchantName","checkOrganizationName","ignoreError","queryProductList","queryAssignProduct","addOrganization","queryOrgCommiAgreement","checkIdentifierBtn","generateIdentifier","deleteIdentifier","getIdentityTypeEnum","getIdentitySubTypeEnum","queryRuleProfileList","downloadChargeProfile","responseType","queryChargeProfileList","ChargeProfileRuleList","queryRuleProfileDetail","queryChargeProfileDetail","updateChargeProfile","downloadBalanceOverview","queryBalanceOverviewPage","getAccountType","queryAccountType","querySubscribeProducts","trustLevelAndSegment","queryAddProducts","changeOrgProduct","checkInputKyc","queryOrgNameRegex","closeOrg"],"mappings":"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","file":"js/chunk-166f7266.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"review-transaction\"},[_c('div',[_c('portal-header',{attrs:{\"projectObj\":_vm.titleConfig}}),_c('portal-form',{ref:\"balanceForm\",attrs:{\"form-data\":_vm.searchList,\"form-config-list\":_vm.formConfigList,\"needOperateBtn\":true,\"needBottomLine\":false,\"searchBtnLoading\":_vm.searchLoading},on:{\"reset-btn-click\":_vm.reset,\"search-btn-click\":_vm.search}})],1),_c('div',{staticClass:\"table-list-container\"},[_c('div',{staticClass:\"divider-line\"}),_c('div',{staticStyle:{\"margin\":\"20px 0\"}},[_c('el-dropdown',{on:{\"command\":_vm.exportData}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":_vm.isExportDisabled}},[_vm._v(\" \"+_vm._s(_vm.$t('common.button.export'))+\" \"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\",staticStyle:{\"font-size\":\"12px\"}})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"CSV\"}},[_vm._v(\"CSV\")]),_c('el-dropdown-item',{attrs:{\"command\":\"PDF\"}},[_vm._v(\"PDF\")])],1)],1)],1),_c('table-page',{staticClass:\"table-page\",attrs:{\"size\":\"small\",\"has-pagination\":true,\"columns\":_vm.columns,\"pagination\":_vm.paginationConfig,\"getTableData\":_vm.getTableData,\"is-search\":_vm.refreshTableFlag},scopedSlots:_vm._u([{key:\"organizationName\",fn:function(scope){return [_c('el-link',{attrs:{\"underline\":true},on:{\"click\":function($event){return _vm.viewDetail(scope.data.row)}}},[_vm._v(_vm._s(scope.data.row.organizationName))])]}},{key:\"parentOrganizationName\",fn:function(scope){return [_c('el-link',{attrs:{\"underline\":true},on:{\"click\":function($event){return _vm.viewDetail(scope.data.row, true)}}},[_vm._v(_vm._s(scope.data.row.parentOrgName))])]}}])})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"review-transaction\">\n    <div>\n      <portal-header :projectObj=\"titleConfig\" />\n      <portal-form\n        ref=\"balanceForm\"\n        :form-data=\"searchList\"\n        :form-config-list=\"formConfigList\"\n        :needOperateBtn=\"true\"\n        :needBottomLine=\"false\"\n        :searchBtnLoading=\"searchLoading\"\n        @reset-btn-click=\"reset\"\n        @search-btn-click=\"search\"\n      />\n    </div>\n    <div class=\"table-list-container\">\n      <div class=\"divider-line\"></div>\n      <div style=\"margin: 20px 0\">\n        <el-dropdown @command=\"exportData\">\n          <el-button type=\"primary\" size=\"small\" :disabled=\"isExportDisabled\">\n            {{ $t('common.button.export') }}\n            <i class=\"el-icon-arrow-down el-icon--right\" style=\"font-size: 12px\"></i>\n          </el-button>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item command=\"CSV\">CSV</el-dropdown-item>\n            <el-dropdown-item command=\"PDF\">PDF</el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n      </div>\n\n      <table-page\n        size=\"small\"\n        class=\"table-page\"\n        :has-pagination=\"true\"\n        :columns=\"columns\"\n        :pagination=\"paginationConfig\"\n        :getTableData=\"getTableData\"\n        :is-search=\"refreshTableFlag\"\n      >\n        <template slot=\"organizationName\" slot-scope=\"scope\">\n          <el-link :underline=\"true\" @click=\"viewDetail(scope.data.row)\">{{ scope.data.row.organizationName }}</el-link>\n        </template>\n        <template slot=\"parentOrganizationName\" slot-scope=\"scope\">\n          <el-link :underline=\"true\" @click=\"viewDetail(scope.data.row, true)\">{{\n            scope.data.row.parentOrgName\n          }}</el-link>\n        </template>\n      </table-page>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TablePage from '@/components/tablePage';\nimport PortalHeader from '@/components/portal-header/index.vue';\nimport PortalForm from '@/components/portal-form';\nimport {\n  downloadBalanceOverview,\n  getAccountType,\n  queryBalanceOverviewPage,\n} from '@/views/identifier-center/api/api-organization';\n\nimport { exportUtils } from '@/common/utils/export-utils';\nimport { dealApiRes, transOptions } from '@/views/identifier-center/pages/organization/utils/common';\nimport AmountUnit from '@/views/business-center/pages/settlement/utils/amount-utils.js';\nexport default {\n  name: 'BalanceOverview',\n  components: { TablePage, PortalHeader, PortalForm },\n  props: {\n    propShortCode: {\n      type: String,\n      requied: true,\n    },\n  },\n  data() {\n    return {\n      searchLoading: false,\n      refreshTableFlag: false,\n      isExportDisabled: true,\n      paginationConfig: {\n        total: 0,\n        pageIndex: 1,\n        pageSize: 10,\n      },\n      searchList: {\n        shortCode: '',\n        accountType: '',\n      },\n      accountTypeList: [],\n      columns: [\n        { label: 'Level', prop: 'level', align: 'left', width: 100 },\n        {\n          label: 'Organization Name',\n          prop: 'organizationName',\n          align: 'left',\n          __slotName: 'organizationName',\n          width: 200,\n        },\n        {\n          label: 'Parent Organization Name',\n          prop: 'parentOrgName',\n          align: 'left',\n          __slotName: 'parentOrganizationName',\n          width: 250,\n        },\n        { label: 'Account Type Alias', prop: 'accountAlias', align: 'left', width: 200 },\n        {\n          label: 'Current Balance',\n          prop: 'currentBalanceSymbol',\n          align: 'right',\n          width: 200,\n        },\n        {\n          label: 'Available Balance',\n          prop: 'availableBalanceSymbol',\n          align: 'right',\n          width: 200,\n        },\n        {\n          label: 'Reserved Balance',\n          prop: 'reservedBalanceSymbol',\n          align: 'right',\n          width: 200,\n        },\n        {\n          label: 'Unclear Balance',\n          prop: 'unclearBalanceSymbol',\n          align: 'right',\n          width: 200,\n        },\n      ],\n\n      queryFormRules: {\n        time: [{ required: true, message: 'Please select time', trigger: 'change' }],\n      },\n    };\n  },\n  created() {\n    this.init();\n  },\n  computed: {\n    titleConfig() {\n      return {\n        title: 'Balance Overview',\n        desc: 'You can query and export account balance information about the current organization and its child organizations.',\n      };\n    },\n    formConfigList() {\n      return [\n        {\n          label: 'Organization Short Code',\n          key: 'shortCode',\n          comp: 'el-input',\n          bind: {\n            placeholder: this.$t('common.placeholder.enter'),\n          },\n        },\n        {\n          label: 'Account Type',\n          key: 'accountType',\n          comp: 'el-select',\n          options: this.accountTypeList,\n          bind: {\n            placeholder: this.$t('common.placeholder.select'),\n          },\n          hidden: false,\n        },\n      ];\n    },\n  },\n  methods: {\n    async init() {\n      await this.initAccountTypeList();\n    },\n    async initAccountTypeList() {\n      let list = await dealApiRes(getAccountType, 'dics');\n      list = list || [];\n      list = list.map(transOptions('code', 'name'));\n      this.accountTypeList = list;\n    },\n    reset() {\n      this.$refs.balanceForm.resetFields();\n      this.paginationConfig = {\n        total: 0,\n        pageIndex: 1,\n        pageSize: 10,\n      };\n      this.refreshTableFlag = true;\n      this.isExportDisabled = true;\n    },\n    search() {\n      this.$refs['balanceForm'].validate((isValid) => {\n        if (isValid) {\n          this.refreshTableFlag = true;\n          this.paginationConfig = {\n            total: 0,\n            pageIndex: 1,\n            pageSize: 10,\n          };\n        }\n      });\n    },\n\n    exportData(fileType) {\n      let shortCode = this.searchList.shortCode;\n      let queryChildren = false;\n      if (!shortCode) {\n        shortCode = this.propShortCode;\n        queryChildren = true;\n      }\n      let paramObj = {\n        shortCode,\n        queryChildren,\n        accountTypeId: this.searchList.accountType,\n        pageSize: this.paginationConfig.total,\n        pageNo: 1, // 固定为 1,\n        fileType: fileType,\n      };\n\n      exportUtils(downloadBalanceOverview, paramObj, { fileType });\n    },\n\n    getTableData() {\n      let shortCode = this.searchList.shortCode;\n      let queryChildren = false;\n      if (!shortCode) {\n        shortCode = this.propShortCode;\n        queryChildren = true;\n      }\n      let param = {\n        shortCode,\n        queryChildren,\n        accountTypeId: this.searchList.accountType,\n        pageSize: this.paginationConfig.pageSize,\n        pageNo: this.paginationConfig.pageIndex,\n      };\n      return queryBalanceOverviewPage(param)\n        .then((res) => {\n          res.list =\n            res.accounts.map((item) => ({\n              ...item,\n              ...JSON.parse(sessionStorage.getItem(this.$route.params)),\n            })) || [];\n          res.list.forEach((item) => {\n            item.currentBalanceSymbol = this.formatBalance(item.accountBalance, 'currentBalance');\n            item.availableBalanceSymbol = this.formatBalance(item.accountBalance, 'availableBalance');\n            item.reservedBalanceSymbol = this.formatBalance(item.accountBalance, 'reservedBalance');\n            item.unclearBalanceSymbol = this.formatBalance(item.accountBalance, 'unclearBalance');\n          });\n          if (res.list.length) {\n            this.isExportDisabled = false;\n          } else {\n            this.isExportDisabled = true;\n          }\n          if (!res.header) {\n            res.header = {\n              success: false,\n            };\n            res.total = 0;\n          }\n          res.totalRecords = res.total;\n          return res;\n        })\n        .catch(() => {\n          this.isExportDisabled = true;\n          const res = {\n            header: {},\n            list: [],\n          };\n          return res;\n        })\n        .finally(() => {\n          this.refreshTableFlag = false;\n        });\n    },\n    formatBalance(obj, key) {\n      return obj[key] ? AmountUnit.format(obj[key].amount / 100, obj[key].currencyCode) : '-';\n    },\n    viewDetail(row, parent) {\n      let id = row.identityId;\n      let propShortCode = row.shortCode;\n      if (parent) {\n        id = row.parentOrgId;\n        propShortCode = row.parentShortCode;\n      }\n      if (id && propShortCode) {\n        const params = {\n          identityId: id,\n          organizationId: id,\n          propShortCode,\n        };\n        this.openNewWindow({ path: 'detail', query: { data: encodeURIComponent(JSON.stringify(params)) } });\n      }\n    },\n    showBalanceWithUnit(data) {\n      if (!data.amount) {\n        data.amount = 0;\n      }\n      return data.currencyCode === 'USD'\n        ? `$${(+data.amount).toFixed(2).replace(/\\d{1,3}(?=(\\d{3})+(\\.\\d*)?$)/g, '$&,')}`\n        : `${(+data.amount).toFixed(2).replace(/\\d{1,3}(?=(\\d{3})+(\\.\\d*)?$)/g, '$&,')} ${data.currencyCode}`;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.table-list-container {\n  padding-top: 0;\n  padding-bottom: 0;\n  /deep/ .el-divider--horizontal {\n    margin-top: 0;\n  }\n}\n.align-right {\n  text-align: right;\n}\n/deep/ .el-drawer__body {\n  padding-left: 20px;\n}\n/deep/ .el-link.el-link--default {\n  color: $--primary_color;\n  &:hover {\n    color: $--primary_color--hover;\n  }\n}\n.review-transaction {\n  padding-bottom: 24px;\n  background-color: $--text_color--white;\n\n  .divider-line {\n    height: 1px;\n    background-color: $--fill_color--regular;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=521f9a9c&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=521f9a9c&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"521f9a9c\",\n  null\n  \n)\n\nexport default component.exports","import { dateFormat } from '@/common/utils/date-time-utils';\n\nexport async function exportUtils(callBack, data, opt) {\n  const { fileType, blobType = 'application/ms-excel' } = opt;\n  const res = await callBack(data);\n  if (res.type === 'application/json') {\n    const reader = new FileReader();\n    reader.readAsText(res);\n    const _this = this;\n    reader.onload = function () {\n      const errorData = JSON.parse(reader.result);\n      _this.$modal.msgError(errorData.header.responseDesc);\n    };\n  } else {\n    const rollupStart = new Date();\n    const date = dateFormat(rollupStart, 'YYYYMMDDHHmmss');\n    let temp = 'FINANCIAL_RECONCILIATION_' + date + '.' + fileType.toLowerCase();\n    if (res.headers) {\n      temp = res.headers['content-disposition'].split(';')[1].split('filename=')[1];\n    }\n    const blob = new Blob([res], { type: blobType }); // 解析后端返回的乱码\n    const elink = document.createElement('a');\n    elink.download = temp;\n    elink.style.display = 'none';\n    elink.href = URL.createObjectURL(blob);\n    document.body.appendChild(elink);\n    elink.click();\n    URL.revokeObjectURL(elink.href);\n    document.body.removeChild(elink);\n  }\n}\n","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=521f9a9c&prod&scoped=true&lang=scss&\"","/**\n *\n * @param {Function<Promise>} fnApi 请求api方法\n * @param {String} receivedField 需要用的字段名称\n * @param  {...any} arg fnApi的请求参数\n * @returns\n */\nexport const dealApiRes = (fnApi, receivedField, ...arg) => {\n  return fnApi(...arg)\n    .then((res) => {\n      if (res.header && res.header.success) {\n        return res[receivedField];\n      }\n      return null;\n    })\n    .catch(() => {\n      return null;\n    });\n};\n\n/**\n *\n * @param {Function<Promise>} fnApi 请求api方法\n * @param {String} receivedField 需要用的字段名称\n * @param  {...any} arg fnApi的请求参数\n * @returns\n */\nexport const dealApiResAndParse = (fnApi, receivedField, ...arg) => {\n  return dealApiRes(fnApi, receivedField, ...arg)\n    .then((res) => {\n      if (!res) {\n        return null;\n      }\n      return JSON.parse(res);\n    })\n    .catch((err) => {\n      return null;\n    });\n};\n\n/**\n *  以key-value的形式执行 Promise.all，得到对应结构的结果\n * @param {{[String]: Function<Promise>}} fnMap\n * @returns\n */\nexport const getbatchData = (fnMap) => {\n  const keys = Object.keys(fnMap);\n  const fetchFns = Object.values(fnMap);\n\n  return Promise.all(fetchFns).then((res) => {\n    const resultEntries = keys.map((key, index) => {\n      return [key, res[index]];\n    });\n    return Object.fromEntries(resultEntries);\n  });\n};\n\n/**\n * 把一个list转换成 select options 结构\n * @param {String} valueField 原数据中value对应的字段\n * @param {String} labelField 原数据中label对应的字段\n * @param {Boolean} isPure 是否只返回 label，value两个字段\n * @returns {{lable:String, value:any}}\n */\nexport const transOptions = (valueField, labelField, isPure = false) => {\n  return (item) => {\n    const option = {\n      label: item[labelField],\n      value: item[valueField],\n    };\n\n    if (isPure) {\n      return option;\n    }\n\n    return {\n      ...item,\n      ...option,\n    };\n  };\n};\n\n/**\n * 从源list数据中获取对应字段的一项\n * @param {Array<Object>} list 源数据\n * @param {String} field 通过该字段取值\n * @param {any} value\n * @returns\n */\nexport const getItemFromListByField = (list, value, field) => {\n  const item = list.find((e) => e[field] === value);\n  return item;\n};\n\n/**\n * 从源list数据中获取对应字段的一项的label\n * @param {Array<Object>} list 源数据\n * @param {String} field 通过该字段取值\n * @param {any} value\n * @returns\n */\nexport const getLabelFromOptions = (list, value) => {\n  const item = getItemFromListByField(list, value, 'value') || {};\n  return item['label'];\n};\n\nexport const deepClone = (sourceData, cache) => {\n  if (!cache) {\n    cache = new Map();\n  }\n  if (!(sourceData instanceof Object)) {\n    return sourceData;\n  }\n  //  iframe 不考虑跨\n  if (cache.get(sourceData)) {\n    return cache.get(sourceData);\n  }\n  let obj;\n  if (sourceData instanceof Function) {\n    if (sourceData.prototype) {\n      // 函数\n      obj = function () {\n        return sourceData.apply(this, arguments);\n      };\n    } else {\n      obj = (...args) => {\n        return sourceData.call(undefined, ...args);\n      };\n    }\n  } else if (sourceData instanceof Array) {\n    obj = [];\n  } else if (sourceData instanceof Date) {\n    obj = new Date(sourceData - 0);\n  } else if (sourceData instanceof RegExp) {\n    obj = new RegExp(sourceData.sourceData, sourceData.flags);\n  } else {\n    obj = {};\n  }\n  cache.set(sourceData, obj);\n  for (let key in sourceData) {\n    if (Object.hasOwnProperty.call(sourceData, key)) {\n      obj[key] = deepClone(sourceData[key], cache);\n    }\n  }\n  return obj;\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=73566ca8&prod&lang=scss&scoped=true&\"","import request from '@/common/utils/request';\n\nexport function getRevenueSettlementList(data) {\n  return request({\n    url: '/fintech/v1/settlement/revenue/org/queryOrgRevenuePlans',\n    method: 'post',\n    data,\n  });\n}\n\nexport function getRevenueSettlementDetail(data) {\n  return request({\n    url: '/fintech/v1/settlement/revenue/org/queryOrgRevenuePlanDetail',\n    method: 'post',\n    data,\n  });\n}\nexport function execOrgAutoSweep(data) {\n  return request({\n    url: '/fintech/v1/settlement/revenue/org/execOrgAutoSweep',\n    method: 'post',\n    data,\n  });\n}\n\nexport function queryWorkflowDetail(data) {\n  return request({\n    url: '/fintech/v1/workflow/process/details',\n    method: 'post',\n    data,\n  });\n}\n\nexport function batchProcess(data) {\n  return request({\n    url: '/fintech/v1/workflow/mytask/task/batchProcess',\n    method: 'post',\n    data,\n  });\n}\nexport function queryDict(data) {\n  return request({\n    url: '/fintech/v1/settlement/dict/query',\n    method: 'post',\n    data,\n  });\n}\nexport function getAmountUnitFun() {\n  return request({\n    url: '/fintech/v1/trust/currencyDisplay/query',\n    method: 'get',\n  });\n}\nexport function queryOrgAndProfile(data) {\n  return request({\n    url: '/fintech/v1/settlement/revenue/org/queryOrgAndProfile',\n    method: 'post',\n    data,\n  });\n}\n","import { getAmountUnitFun } from '@/views/business-center/pages/settlement/api/revenue-settlement';\n\nclass AmountUnit {\n  constructor() {\n    this.amountUnitList = '';\n    this.initAmountUnit();\n  }\n  // 数字字符串转数字金额\n  format(string, currencyCode) {\n    let amountUnit = '';\n    let num = Number(string);\n    let money = parseFloat(num.toFixed(2)).toLocaleString();\n    let charIndex = money.lastIndexOf('.');\n    if (this.amountUnitList !== '') {\n      for (let item in this.amountUnitList) {\n        if (item == 'en;1005;' + currencyCode) {\n          amountUnit = this.amountUnitList[item].symbol;\n        }\n      }\n    } else {\n      amountUnit = '';\n    }\n    if (charIndex === -1) {\n      return amountUnit + money + '.00';\n    }\n    let moneyLength = money.slice(charIndex + 1).length;\n    return `${amountUnit + money}${moneyLength === 1 ? '0' : ''}`;\n  }\n\n  getCurrency(currencyCode) {\n    if (this.amountUnitList !== '') {\n      let currency;\n      for (let item in this.amountUnitList) {\n        if (item === `en;1005;${currencyCode}`) {\n          currency = this.amountUnitList[item];\n          break;\n        }\n      }\n      return currency;\n    }\n  }\n\n  async initAmountUnit() {\n    this.amountUnitList = await getAmountUnitFun();\n  }\n}\n\nexport default new AmountUnit();\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"page-header\",class:{ 'no-bottom-border': !_vm.showBottomLine, 'no-desc-height': !_vm.projectObj.desc }},[_c('div',{staticClass:\"header-left\"},[(_vm.projectObj.title)?_c('div',{staticClass:\"page-title\"},[_vm._v(\" \"+_vm._s(_vm.projectObj.title)+\" \"),_vm._t(\"title-suffix\")],2):_vm._e(),(!!_vm.projectObj.desc)?_c('div',{staticClass:\"page-desc\"},[_vm._v(\" \"+_vm._s(_vm.projectObj.desc)+\" \")]):_vm._e()]),_c('div',{staticClass:\"header-right\"},[_vm._t(\"header-right\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page-header\" :class=\"{ 'no-bottom-border': !showBottomLine, 'no-desc-height': !projectObj.desc }\">\n    <!-- left -->\n    <div class=\"header-left\">\n      <div class=\"page-title\" v-if=\"projectObj.title\">\n        {{ projectObj.title }}\n        <slot name=\"title-suffix\"></slot>\n      </div>\n      <div class=\"page-desc\" v-if=\"!!projectObj.desc\">\n        {{ projectObj.desc }}\n      </div>\n    </div>\n    <!-- right -->\n    <div class=\"header-right\">\n      <slot name=\"header-right\"></slot>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'PortalHeader',\n  components: {},\n  props: {\n    projectObj: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n    // 是否显示header下边的线\n    showBottomLine: {\n      type: Boolean,\n      default: true,\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n// 页面头部部分\n.page-header {\n  position: relative;\n  width: 100%;\n  padding: 20px;\n  box-sizing: border-box;\n  border-bottom: 1px solid $--fill_color--regular;\n  background-color: $--text_color--white;\n}\n// 页面标题\n.page-title {\n  line-height: 32px;\n  font-size: 24px;\n  font-weight: 700;\n  color: $--text_color--emphasis;\n}\n// 页面标题描述文字\n.page-desc {\n  line-height: 16px;\n  margin-top: 8px;\n  font-size: 12px;\n  font-weight: 400;\n  color: $--line_color--strong;\n}\n.no-bottom-border {\n  border-bottom: none !important;\n}\n// 无desc时高度为66px\n.no-desc-height {\n  min-height: 66px !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=73566ca8&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=73566ca8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"73566ca8\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/common/utils/request';\nimport { buildUrlWithObj } from '@/common/utils/url-utils';\n\n// 查询组织列表\nexport function getOrganizationList(data) {\n  return request({\n    url: buildUrlWithObj('/fintech/v1/organization/list', data),\n    method: 'get',\n  });\n}\n// 查询组织列表\nexport function queryOrgListByPage(data) {\n  if (data.pageNo) {\n    data.pageIndex = data.pageNo;\n    delete data.pageNo;\n  }\n  return request({\n    url: '/fintech/v1/organization/queryOrgListByPage',\n    method: 'POST',\n    data,\n  });\n}\n\n// 验证Short Code\nexport function checkShortCode(shortCode) {\n  return request({\n    url: `/fintech/v1/identity/verify/${shortCode}`,\n    method: 'post',\n    data: {},\n  });\n}\n// 修改组织状态\nexport function organizationChangeStatus(data) {\n  return request({\n    url: 'fintech/v1/organization/changeStatus',\n    method: 'post',\n    data,\n  });\n}\n// 修改组织名字\nexport function changeOrganizationName(data) {\n  return request({\n    url: '/fintech/v1/organization/changeOrgName',\n    method: 'post',\n    data,\n  });\n}\n// 加载Language列表\nexport function loadLanguageList() {\n  return request({\n    url: '/fintech/v1/organization/languages',\n    method: 'get',\n  });\n}\n\n// 加载Org Role列表\nexport function queryOrgRoleList(data) {\n  return request({\n    url: '/fintech/v1/organization/roles',\n    method: 'post',\n    data,\n  });\n}\n\n// 检查角色关联关系\nexport function checkRoleRelationship(data) {\n  return request({\n    url: '/fintech/v1/orgOperator/checkRoles',\n    method: 'post',\n    data,\n  });\n}\n\n// 查询组织明细\nexport function getOrganizationDetail(data) {\n  return request({\n    url: buildUrlWithObj('/fintech/v1/organization/detail', data),\n    method: 'get',\n  });\n}\n\n// 查询子组织明细\nexport function getOrganizationChildOrgDetail(data) {\n  return request({\n    url: '/fintech/v1/organization/getChildOrgDetail',\n    method: 'post',\n    data,\n  });\n}\n\n// 查询组织树结构\nexport function getOrgTreeData(data) {\n  return request({\n    url: '/fintech/v1/organization/getOrgTree',\n    method: 'post',\n    data,\n  });\n}\n// 查询组织状态\nexport function getOrganizationStatus(data) {\n  return request({\n    url: buildUrlWithObj('/fintech/v1/organization/status', data),\n    method: 'get',\n  });\n}\n\n// 修改RuleProfile\nexport function updateRuleProfile(data) {\n  return request({\n    url: '/fintech/v1/organization/updateRuleProfile',\n    method: 'post',\n    data,\n  });\n}\n\n// 查询组织账户信息\nexport function queryOrgAccount(data) {\n  return request({\n    url: '/fintech/v1/organization/account',\n    method: 'post',\n    data,\n  });\n}\n// 验证Merchant Name\nexport function checkMerchantName(data) {\n  return request({\n    url: '/fintech/v1/identity/verify/merchantName',\n    method: 'post',\n    data,\n  });\n}\n// 修改组织名称 校验 参数 orgnizationName\nexport function checkOrganizationName(data) {\n  return request({\n    url: '/fintech/v1/organization/checkOrganizationName',\n    method: 'post',\n    data,\n    ignoreError: true,\n  });\n}\n\n// 加载产品列表\nexport function queryProductList(data) {\n  return request({\n    url: '/fintech/v1/organization/products',\n    method: 'post',\n    data,\n  });\n}\n\n// 第二页加载产品列表\nexport function queryAssignProduct(data) {\n  return request({\n    url: '/fintech/v1/organization/assign/product',\n    method: 'post',\n    data,\n  });\n}\n\n// 新建组织\nexport function addOrganization(data) {\n  return request({\n    url: '/fintech/v1/organization/create',\n    method: 'post',\n    data,\n  });\n}\n\n// 查询组织操作员列表\nexport function getOrgOperList(data) {\n  return request({\n    url: buildUrlWithObj('/fintech/v1/orgOperator/list', data),\n    method: 'get',\n  });\n}\n\n// 验证User Name\nexport function checkUserName(data) {\n  return request({\n    url: '/fintech/v1/identity/verify/userName',\n    method: 'post',\n    data,\n  });\n}\n\nexport function queryOrgCommiAgreement(data) {\n  return request({\n    url: '/fintech/v1/settlement/queryOrgCommiAgreement',\n    method: 'post',\n    data,\n    ignoreError: true,\n  });\n}\n\n// Charge Profile 下拉框数据接口\nexport function getChargeProfile(data) {\n  return request({\n    url: '/fintech/v1/organization/getChargeProfile',\n    method: 'post',\n    data,\n  });\n}\n// Rule Profile  下拉框数据接口，并指定默认值\nexport function getRuleProfile(data) {\n  return request({\n    url: '/fintech/v1/organization/getRuleProfile',\n    method: 'post',\n    data,\n  });\n}\n// 判断是否要显示Generate Another Identifier 按钮接口(返回true显示)\nexport function checkIdentifierBtn(data) {\n  return request({\n    url: '/fintech/v1/identity/checkRule',\n    method: 'post',\n    data,\n  });\n}\n// Generate Another Identifier接口（逻辑）\nexport function generateIdentifier(data) {\n  return request({\n    url: '/fintech/v1/identity/generateIdentifier',\n    method: 'post',\n    data,\n  });\n}\n//  Identifier code 回收\nexport function deleteIdentifier(data) {\n  return request({\n    url: '/fintech/v1/identity/deleteIdentifier',\n    method: 'post',\n    data,\n  });\n}\n\nexport function getIdentityTypeEnum() {\n  return request({\n    url: '/fintech/v1/organization/getIdentityTypeEnum',\n    method: 'get',\n  });\n}\n\nexport function getIdentitySubTypeEnum() {\n  return request({\n    url: '/fintech/v1/organization/getIdentitySubTypeEnum',\n    method: 'get',\n  });\n}\n\n// 修改组织RuleProfile 下拉框接口\nexport function queryRuleProfileList(data) {\n  return request({\n    url: '/fintech/v1/organization/queryRuleProfileList',\n    method: 'post',\n    data,\n  });\n}\n\n// chargeProfile详情接口\nexport function downloadChargeProfile(data) {\n  return request({\n    url: '/fintech/v1/organization/downloadChargeProfile',\n    method: 'post',\n    data,\n    responseType: 'blob',\n  });\n}\n// 修改组织chargeProfile 下拉框接口\nexport function queryChargeProfileList(data) {\n  return request({\n    url: '/fintech/v1/organization/queryChargeProfileList',\n    method: 'post',\n    data,\n  });\n}\n// chargeProfile详情页左侧可选的chargeRule接口\nexport function ChargeProfileRuleList(id) {\n  return request({\n    url: '/fintech/v1/organization/ChargeProfileRuleList/' + id,\n    method: 'get',\n  });\n}\n// ruleProfile详情接口\nexport function queryRuleProfileDetail(id) {\n  return request({\n    url: '/fintech/v1/organization/queryRuleProfileDetail/' + id,\n    method: 'get',\n  });\n}\n// chargeProfile详情接口 等se确认 json\nexport function queryChargeProfileDetail(data) {\n  return request({\n    url: '/fintech/v1/organization/queryChargeProfileDetail',\n    method: 'post',\n    data,\n  });\n}\n\n// chargeProfile修改接口\nexport function updateChargeProfile(data) {\n  return request({\n    url: '/fintech/v1/organization/updateChargeProfile',\n    method: 'post',\n    data,\n  });\n}\n// 查询子组织\nexport function queryChildren(data) {\n  return request({\n    url: '/fintech/v1/organization/queryChildren',\n    method: 'post',\n    data,\n  });\n}\n//  Balance Overview  列表导出接口\nexport function downloadBalanceOverview(data) {\n  return request({\n    url: '/fintech/v1/organization/downloadBalanceOverview',\n    method: 'post',\n    data,\n    responseType: 'blob',\n  });\n}\n\n/**\n *\n * @param {String} data.shortCode\n * @param {String} [data.accountTypeId]\n * @param {Boolean} data.queryChildren\n * @param {Number} data.pageNo\n * @param {Number} data.pageSize\n * @example\n * 参数说明:\n * a.若界面上Short Code为空，则查询当前组织和子组织的账户信息，queryChildren为true，使用当前组织的shortCode填充Short Code查询条件\n * b.若界面上Short Code非空，则查询输入的Short Code的账户信息，queryChildren为false\n *\n */\nexport function queryBalanceOverviewPage(data) {\n  return request({\n    url: '/fintech/v1/organization/queryBalanceOverviewPage',\n    method: 'post',\n    data,\n  });\n}\n\n// Balance Overview Account Type下拉框接口   get请求\nexport function getAccountType() {\n  return request({\n    url: '/fintech/v1/organization/queryAccountType',\n    method: 'get',\n  });\n}\n\n// 用于组织创建  post请求\nexport function queryAccountType(data) {\n  return request({\n    url: '/fintech/v1/organization/queryAccountType',\n    method: 'post',\n    data,\n  });\n}\n\n/**\n * @description 查询组织关联产品\n * @param {String} data.identityId 参数一\n * @returns {ProductBean[]} 结构参考 mock fintech/v1/organization/querySubscribeProducts\n */\nexport function querySubscribeProducts(data) {\n  return request({\n    url: '/fintech/v1/organization/querySubscribeProducts',\n    method: 'post',\n    data,\n  });\n}\n\n// 获取第二页默认信息\nexport function trustLevelAndSegment(data) {\n  return request({\n    url: '/fintech/v1/organization/trustLevelAndSegment',\n    method: 'post',\n    data,\n  });\n}\n\n/**\n * 查询组织弹框选择产品\n * @param {String} data.identityId 参数一\n * @returns {ProductBean[]}\n */\nexport function queryAddProducts(data) {\n  return request({\n    url: '/fintech/v1/organization/queryAddProducts',\n    method: 'post',\n    data,\n  });\n}\n\n/**\n * 查询组织详情产品 chargeProfile List\n * @param {String} data.identityId 参数一\n * @param {String} data.productId 参数二\n * @returns {ChargeProfile[]}\n * @example\n * public class ChargeProfile {\n    private static final long serialVersionUID = 1L;\n    private String id;\n    private String chargeProfileName;\n    private boolean defaultChargeProfile;\n}\n */\nexport function queryOrgProductChangeProfile(data) {\n  return request({\n    url: '/fintech/v1/queryOrgProductChangeProfile',\n    method: 'post',\n    data,\n  });\n}\n\n/**\n * 查询组织详情产品 chargeProfile List\n * @param {Product[]} data.newOrganizationProducts 参数一\n * @returns {ChargeProfile[]}\n * @example\n * Product字段\n *  private String productId;\n    private LocalDateTime effectiveTime;\n    private LocalDateTime expireTime;\n    private Long chargeProfileId;\n    private String status;\n}\n */\nexport function changeOrgProduct(data) {\n  return request({\n    url: '/fintech/v1/changeOrgProduct',\n    method: 'post',\n    data,\n  });\n}\n\n// 检查输入的kycData\nexport function checkInputKyc(data) {\n  return request({\n    url: '/fintech/v1/organization/checkInputKyc',\n    method: 'post',\n    data,\n  });\n}\n\n// 获取组织名正则\nexport function queryOrgNameRegex(data) {\n  return request({\n    url: '/fintech/v1/organization/queryOrganizationKYC',\n    method: 'post',\n    data,\n  });\n}\n\n// 关闭组织\nexport function closeOrg(data) {\n  return request({\n    url: '/fintech/v1/organization/close',\n    method: 'post',\n    data,\n  });\n}\n"],"sourceRoot":""}