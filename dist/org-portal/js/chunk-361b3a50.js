(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-361b3a50"],{"02e3":function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"y",(function(){return a})),n.d(t,"z",(function(){return o})),n.d(t,"w",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"u",(function(){return l})),n.d(t,"v",(function(){return d})),n.d(t,"x",(function(){return s})),n.d(t,"g",(function(){return f})),n.d(t,"s",(function(){return p})),n.d(t,"n",(function(){return g})),n.d(t,"r",(function(){return m})),n.d(t,"j",(function(){return h})),n.d(t,"l",(function(){return b})),n.d(t,"q",(function(){return y})),n.d(t,"m",(function(){return O})),n.d(t,"p",(function(){return C})),n.d(t,"k",(function(){return k})),n.d(t,"i",(function(){return I})),n.d(t,"h",(function(){return L})),n.d(t,"t",(function(){return D})),n.d(t,"d",(function(){return j})),n.d(t,"o",(function(){return Y})),n.d(t,"a",(function(){return K})),n.d(t,"b",(function(){return v}));let r={required:!0,message:"Please enter content",trigger:"blur"},i={required:!0,message:"Please check content",trigger:"blur"},o={required:!0,message:"Please select content",trigger:"change"},a={pattern:/^[0-9a-zA-Z]*$/,message:"Must be number and letters.",trigger:"blur"},u={pattern:/^[+-]?[0-9]*$/,message:"Must be integer number.",trigger:"blur"},l={pattern:/[0-9]{4}/,message:"The MSISDN must contain at least 4 dligits",trigger:"blur"},c={pattern:/^[^@~`！!#$%^*（）()\-+=|,/<>《》?？;':\"“\[\]{}\\&]*$/,message:"Cannot contain special characters (~`!#$%^*()-+=|,/<>?;':\"[]{}\\&)",trigger:"blur"},d={pattern:/^[^@~`！!#$^*（）()\-+=|,/<>《》?？;':\"“\[\]{}\\&]*$/,message:"Cannot contain special characters (~`!#$^*()-+=|,/<>?;':\"[]{}\\&)",trigger:"blur"},s={pattern:/^[\w- ]+$/,message:"Please do not enter any special characters.",trigger:"blur"};j({minLen:0,maxLen:11});const f=j({minLen:0,maxLen:18}),p=(j({minLen:3,maxLen:3}),j({minLen:6,maxLen:16})),g=(j({minLen:8,maxLen:10}),j({minLen:8,maxLen:11}),j({minLen:4,maxLen:12})),m=j({minLen:6,maxLen:12}),h=j({minLen:0,maxLen:19}),b=j({minLen:0,maxLen:24}),y=j({minLen:0,maxLen:64}),O=(j({minLen:0,maxLen:100}),j({minLen:0,maxLen:256})),C=j({minLen:0,maxLen:512}),k=(j({minLen:8,maxLen:50}),j({minLen:1,maxLen:18})),I=j({minLen:0,maxLen:32}),L=j({minLen:0,maxLen:30}),D=j({minLen:9,maxLen:18});j({minLen:2,maxLen:256});function j({minLen:e=0,maxLen:t=100}){let n="";return n=e>0?`Must be between ${e} and ${t} characters`:`Must be less than ${t} characters`,{min:e,max:t,message:n,trigger:"blur"}}const Y=j({minLen:0,maxLen:4});function K(e){let t=[];for(let n in e)e[n]&&e[n].toString().startsWith("%")&&1===e[n].length||!e[n]?t.push(!1):t.push(!0);return!t.every(e=>!1===e)}function v(e){return{validator:(t,n,r)=>{n&&n.startsWith("%")&&1===n.length?r(new Error(""+e)):r()},trigger:"blur"}}},"3cf3":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return v}));var r=n("0bbd");const i="/fintech/v1";function o(){return Object(r["a"])({url:i+"/organization/languages",method:"get"})}function a(){return Object(r["a"])({url:i+"/customer/region",method:"get"})}function u(e){return Object(r["a"])({url:i+"/customer/checkTrustLevelChange",method:"post",data:e})}function l(e){return Object(r["a"])({url:i+"/customer/changeCustomerKYCInfo",method:"post",data:e})}function c(e){return Object(r["a"])({url:i+"/customer/changeBasicProduct",method:"post",data:e})}function d(){return Object(r["a"])({url:i+"/customer/queryCustomerKYC",method:"get"})}function s(e){return Object(r["a"])({url:i+"/customerDetailsInfo/kycInfo",method:"post",data:e})}function f(e){return Object(r["a"])({url:i+"/customer/editCustomerKYC",method:"post",data:e})}function p(){return Object(r["a"])({url:i+"/SpOperator/querySpOperatorKYC",method:"get"})}function g(e){return Object(r["a"])({url:`${i}/spOperator/kycInfo/${e}`,method:"get"})}function m(e){return Object(r["a"])({url:i+"/organization/queryOrgOperatorKYC",method:"post",data:e})}function h(e){return e.isSelfOrgOper?(delete e.isSelfOrgOper,Object(r["a"])({url:i+"/orgOperator/updateSelfKYC",method:"post",data:e})):Object(r["a"])({url:i+"/orgOperator/updateKYC",method:"post",data:e})}function b(e){return Object(r["a"])({url:i+"/orgOperator/queryKYC",method:"post",data:e})}function y(e){return Object(r["a"])({url:i+"/orgOperator/queryKYCWhenEdit",method:"post",data:e})}function O(){return new Promise(e=>{e({header:{responseCode:"SYS00000",referenceDatas:{},success:!0},change:!1})})}function C(){return Object(r["a"])({url:i+"/group/queryCreateGroupKYC",method:"get"})}function k(e){return Object(r["a"])({url:i+"/group/viewGroupKYC",method:"post",data:e})}function I(e){return Object(r["a"])({url:i+"/group/changeBasicProduct",method:"post",data:e})}function L(e){return Object(r["a"])({url:i+"/group/editGroupKYC",method:"post",data:e})}function D(e){return Object(r["a"])({url:i+"/group/checkTrustLevelChange",method:"post",data:e})}function j(e){return Object(r["a"])({url:i+"/group/changeGroupKYC",method:"post",data:e})}function Y(e={}){return Object(r["a"])({url:i+"/organization/queryOrganizationKYC",method:"post",data:e})}function K(e){return Object(r["a"])({url:i+"/organization/changeBasicProduct",method:"post",data:e})}function v(e){return Object(r["a"])({url:i+"/organization/KYCInfo",method:"post",data:e})}function V(e){return Object(r["a"])({url:i+"/organization/queryOrganizationKYCWhenEdit",method:"post",data:e})}function E(e){return Object(r["a"])({url:i+"/organization/changeOrganizationKYCInfo",method:"post",data:e})}function $(e){return Object(r["a"])({url:i+"/organization/checkTrustLevelChange",method:"post",data:e})}function x(){return Object(r["a"])({url:i+"/bank/queryBankKYC",method:"get"})}function F(e){return Object(r["a"])({url:`${i}/bank/kycInfo/${e}`,method:"get"})}t["a"]={getRegionData:a,checkTrustLevelChange:u,updateIdentityKYC:l,changeBasicProduct:c,getCustomerKYCConfig:d,getCustomerKYCDetail:s,getCustomerKYCEditInfo:f,getSpOperatorKYCConfig:p,getSpOperatorKYCDetail:g,getOrgOperatorKYCConfig:m,getOrgOperatorKYCDetail:b,getGroupKYCConfig:C,getGroupKYCDetail:k,getBankKYCConfig:x,getBankKYCDetail:F,getGroupKYCConfigOnChangeBasicProduct:I,getOrgKYCConfig:Y,getOrgKYCDetail:v,getOrgKYCEditInfo:V,changeOrgBasicProduct:K,updateOrgIdentityKYC:E,checkOrgTrustLevelChange:$,getOrgOperatorKYCEditInfo:y,checkOrgOperatorTrustLevelChange:O,updateOrgOperatorKYCConfig:h,getGroupKYCEditInfo:L,checkGroupTrustLevelChange:D,updateGroupIdentityKYC:j}},"8ac9":function(e,t,n){"use strict";var r=function(){var e=this,t=e._self._c;return t("el-dialog",e._g(e._b({class:["portal-dialog",e.customFooter?"custom-footer":"",e.subtitle?"has-subtitle":""],attrs:{visible:e.dialogVisible,title:e.title,width:e.width,"close-on-click-modal":e.closeOnClickModal,"show-close":e.showClose,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t},opened:e.openedDialog,closed:e.closedDialog}},"el-dialog",e.$attrs,!1),e.$listeners),[e.subtitle?t("span",{staticClass:"subtitle"},[e._v(e._s(e.subtitle))]):e._e(),e._t("title"),e._t("content"),e.customFooter?e._t("footer"):t("div",{attrs:{slot:"footer"},slot:"footer"},[e.showCancel?t("button",{class:["cancel-button",e.cancelBtnDisable?"disabled":""],on:{click:e.handleCancelClick}},[e._v(" "+e._s(e.cancelText)+" ")]):e._e(),e.showSubmit?t("el-button",{attrs:{type:"primary",disabled:e.confirmBtnDisable,loading:e.submitLoading,size:"small"},on:{click:e.handleConfirmClick}},[e._v(e._s(e.confirmText))]):e._e()],1)],2)},i=[],o={name:"PortalDialog",props:{visible:{type:Boolean,default:!1},title:{type:String,default:""},width:{type:String,default:"448px"},customFooter:{type:Boolean,default:!1},cancelText:{type:String,default:"Cancel"},confirmText:{type:String,default:"Confirm"},closeOnClickModal:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},cancelBtnDisable:{type:Boolean,default:!1},confirmBtnDisable:{type:Boolean,default:!1},showSubmit:{type:Boolean,default:!0},subtitle:{type:String,default:""},showCancel:{type:Boolean,default:!0},submitLoading:{type:Boolean,default:!1}},data(){return{dialogVisible:!1}},watch:{visible:{handler(e){this.dialogVisible=e},immediate:!0},dialogVisible:{handler(e){this.$emit("show-dialog",e),this.$emit("update:visible",e)}}},methods:{handleClose(){this.dialogVisible=!1,this.$emit("handle-close")},handleCancelClick(){this.$emit("cancel-btn-click")},handleConfirmClick(){this.$emit("confirm-btn-click")},openedDialog(){this.$emit("opened-dialog")},closedDialog(){this.$emit("closed-dialog")}}},a=o,u=(n("df6c"),n("2877")),l=Object(u["a"])(a,r,i,!1,null,"081459b7",null);t["a"]=l.exports},c004:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"s",(function(){return m})),n.d(t,"m",(function(){return y})),n.d(t,"j",(function(){return O})),n.d(t,"h",(function(){return C})),n.d(t,"i",(function(){return k})),n.d(t,"o",(function(){return Y})),n.d(t,"n",(function(){return K})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return $})),n.d(t,"t",(function(){return x})),n.d(t,"p",(function(){return F})),n.d(t,"r",(function(){return T})),n.d(t,"q",(function(){return w}));var r=n("2ef0");const i={INPUT:"00",SELECT:"01",DATE:"02",TIME:"03",RADIO:"04",CHECKBOX:"05",PICTURE:"06"},o={FIXED_DATE:"0",DAY:"1",MONTH:"2",YEAR:"3",ANNIVERSARY:"4",BIRTHDAY:"5"},a="kycRuleExtList",u="kycGroupList",l=1017,c=1016,d={idDetailList:100,certificatelList:200,contactList:300,directorDetailList:500,bankCardList:1006},s=Object.keys(d),f=Object.values(d),p=f.reduce((e,t,n)=>(e[t]=s[n],e),{}),g={100:"ID",200:"Certificate",300:"Contact",500:"Director",1006:"Bank"};function m(e){return f.includes(e)}function h(e,t,n){e.multiRelevancyMandatory=!1,e.multiDisabled=("create"!==n||0!==t)&&"edit"!==n,e.fieldValue=(["edit","create"].includes(n)?e["value"]:e["displayValue"])||""}function b(e){let{dataDictItems:t}=e;t&&t.sort((e,t)=>e.displayOrder-t.displayOrder)}function y(e){let t={};const n=Object.keys(e);return n.forEach(n=>{let r=e[n];s.includes(n)?(r=r[0],r&&r.groupId&&r.realDisplayName&&(t[r.groupId]=r)):n===u&&(r=r.filter(e=>!f.includes(e.groupId)).filter(e=>e.realDisplayName&&e.groupId),r.forEach(e=>{t[e.groupId]=e}))}),t}function O(e){let t={};const n=Object.values(e);return n.forEach(e=>{const{groupId:n,kycFields:i,realDisplayName:o,description:a,displayOrder:u}=e;i.sort((e,t)=>e.displayOrder-t.displayOrder);const l=i.filter(e=>"true"===e.enable&&e.fieldId&&e.fieldName&&e.fieldType).map((e,t)=>{let r={...e,propPath:`${n}.kycFields.${t}.fieldValue`};return h(r,t,"create"),r.dataDictItems&&Array.isArray(r.dataDictItems)&&(r.dataDictItemsMap=r.dataDictItems.reduce((e,t)=>(e[t["value"]]=t["defaultName"],e),{})),b(r),r}),c={groupId:n,realDisplayName:o,description:a,displayOrder:u,kycFields:l};m(n)&&(c.fieldValues=[Object(r["cloneDeep"])(l)],c.isArrayGroupField=!0),t[n]=c}),Object(r["cloneDeep"])(t)}function C(e,t){let n=Object(r["cloneDeep"])(e),i=t["kycGroupList"];return i.forEach(e=>{const{kycGroupId:t,kycFieldId:r,inputValue:i=""}=e;let{kycFields:o=[]}=n[t]||{};for(let n=0;n<o.length;n++)if(o[n].fieldId===r){o[n]["value"]=i;break}}),n}function k(e={},t,n){let i=Object(r["cloneDeep"])(e),o={[u]:[]};const a=Object.keys(i);return a.forEach(e=>{if(f.includes(parseInt(e))){let r=p[e],a=I(i[e],t,n);a.length&&a[0].kycFields.length&&(o[r]=a)}else o[u]=o[u].concat(L(i[e],t))}),o}function I(e,t,n){const{fieldValues:r,groupId:i}=e,o=r.map((e,r)=>{let o={kycGroupId:i},a=e.filter(e=>D(e));if("update"===t){let t=a[0]||{},u=n[i];t["groupRecordId"]?o.recordId=t["groupRecordId"]:u[r]&&(o.recordId=u[r]),0!==a.length&&(a=e)}return o.kycFields=a.map(e=>{let n={inputValue:j(e)||null,kycFieldId:e.fieldId};return"update"===t&&"1"===e.sensitive&&(n["sensitive"]="1"),n}),o});return o}function L(e,t){let{groupId:n,kycFields:r}=e;"update"===t||(r=r.filter(e=>D(e)));const i=r.map(e=>({inputValue:j(e)||null,kycFieldId:e.fieldId,kycGroupId:n}));return i}function D(e){const t=e.fieldValue;return Array.isArray(t)?t.length:t}function j(e){const t=e.fieldValue;return Array.isArray(t)?t.join(","):t}function Y(e={}){let t={},n=Object.keys(e).map(e=>parseInt(e));return n.forEach(n=>{if(m(n)){let r=e[n].fieldValues,i=r.map(e=>e[0].groupRecordId);t[n]=i}}),t}function K(e,t){let n=!0,r=e[u],i=t[u];for(let u=0;u<i.length;u++){const{kycFieldId:e,kycGroupId:t,inputValue:o}=i[u],a=r.find(n=>n["kycFieldId"]===e&&n["kycGroupId"]===t);if(!a||a["inputValue"]!==o){n=!1;break}}if(!1===n)return n;delete t[u],delete e[u];const o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return n=!1,n;for(let u=0;u<o.length;u++){const r=o[u],i=t[r],a=e[r];if(i.length!==a.length){n=!1;break}for(let e=0;e<i.length;e++){const{recordId:t,kycFields:r}=i[e];if(!t){n=!1;break}{const e=a.find(e=>e["recordId"]===t)||{},i=e["kycFields"];let o=!1;for(let t=0;t<r.length;t++){const{inputValue:e,kycFieldId:a}=r[t],u=i.find(e=>e["kycFieldId"]===a);if(!u||u["inputValue"]!==e){o=!0,n=!1;break}}if(!0===o)break}}}return n}function v(e={},t){let n={};const i=Object.keys(e),o=Object(r["cloneDeep"])(e);for(let r=0;r<i.length;r++){const e=i[r],a=o[e];if(Array.isArray(a)&&0!==a.length)if(s.includes(e)){let r=V(a,t);r&&(n[d[e]]=r)}else if(e===u){let e=E(a,t);n={...n,...e}}}return n}function V(e=[],t){let n=Object(r["cloneDeep"])(e)[0];if(!n.realDisplayName||!n.groupId)return null;n.kycFields=n.kycFields.filter(e=>"true"===e.enable&&e.fieldId&&e.fieldName&&e.fieldType);const i=[];return n.kycFields.forEach((e,n)=>{h(e,n,t),b(e),e["inputValue"]=null,e["displayValue"]=null,e["fieldValue"]="",i.push(e.fieldId)}),delete n["recordId"],n.kycFields.sort((e,t)=>e.displayOrder-t.displayOrder),n.fieldValues=e.map(e=>{let n=Object(r["cloneDeep"])(e.kycFields);return n.forEach(n=>{i.includes(n.fieldId)&&(n["enable"]="true"),"edit"===t&&(n["groupRecordId"]=e.recordId)}),n=n.filter(e=>"true"===e.enable&&e.fieldId&&e.fieldType),n}),n.fieldValues=n.fieldValues.filter(e=>e.length),n.fieldValues.forEach(e=>{e.sort((e,t)=>e.displayOrder-t.displayOrder)}),n.fieldValues.forEach((e,r)=>{e.forEach((e,i)=>{e.propPath=`${n.groupId}.fieldValues.${r}.${i}.fieldValue`,h(e,i,t),b(e)})}),Object(r["cloneDeep"])(n)}function E(e=[],t){let n={},i=e.filter(e=>!f.includes(e.groupId)).filter(e=>e.realDisplayName&&e.groupId);return i.forEach(e=>{const r=e.groupId;e.kycFields=e.kycFields.filter(e=>"true"===e.enable&&e.fieldId&&e.fieldName&&e.fieldType),e.kycFields.sort((e,t)=>e.displayOrder-t.displayOrder),e.kycFields.forEach((e,n)=>{e.propPath=`${r}.kycFields.${n}.fieldValue`,h(e,n,t),b(e)}),n[r]=e}),Object(r["cloneDeep"])(n)}function $(e={}){return v(e,"edit")}function x(e=[]){Array.isArray(e)&&(e.sort((e,t)=>e.displayOrder-t.displayOrder),e.forEach(e=>{const{regionInfoTreeDatas:t}=e;Array.isArray(t)&&x(t)}))}function F(e=[]){let t={};return t=e.reduce((e,t)=>(e[t["regionCode"]]=t["fullName"],Array.isArray(t.regionInfoTreeDatas)?Object.assign(e,F(t.regionInfoTreeDatas)):e),{}),t}function T(e){return e["isModifyed"]||e["isNewlyIncreased"]||e["isDeleted"]||!1}function w(e){return e["isDeleted"]||!1}},c5ea:function(e,t,n){},df6c:function(e,t,n){"use strict";n("c5ea")}}]);
//# sourceMappingURL=chunk-361b3a50.js.map