{"version":3,"sources":["webpack:///./src/views/identifier-center/pages/customer/create/components/product-dialog.vue","webpack:///src/views/identifier-center/pages/customer/create/components/product-dialog.vue","webpack:///./src/views/identifier-center/pages/customer/create/components/product-dialog.vue?e434","webpack:///./src/views/identifier-center/pages/customer/create/components/product-dialog.vue?95dc","webpack:///./src/views/identifier-center/validator/organization.js","webpack:///./src/views/identifier-center/pages/organization/detail/components/content-item-edit-dialog.vue?2588","webpack:///./src/views/identifier-center/pages/organization/utils/common.js","webpack:///./src/views/identifier-center/pages/organization/utils/organizatoin-enums.js","webpack:///./src/views/identifier-center/pages/customer/create/components/product-dialog.vue?b4fa","webpack:///./src/views/identifier-center/validator/organization-info.js","webpack:///./src/views/identifier-center/pages/organization/detail/components/product-info.vue","webpack:///src/views/identifier-center/pages/organization/detail/components/product-info.vue","webpack:///./src/views/identifier-center/pages/organization/detail/components/product-info.vue?cc92","webpack:///./src/views/identifier-center/pages/organization/detail/components/product-info.vue?63ae","webpack:///./src/views/identifier-center/pages/organization/detail/components/content-item-edit-dialog.vue","webpack:///src/views/identifier-center/pages/organization/detail/components/content-item-edit-dialog.vue","webpack:///./src/views/identifier-center/pages/organization/detail/components/content-item-edit-dialog.vue?6853","webpack:///./src/views/identifier-center/pages/organization/detail/components/content-item-edit-dialog.vue?0a8e","webpack:///./src/views/identifier-center/pages/organization/detail/components/product-info.vue?f1d4","webpack:///./src/views/identifier-center/pages/organization/detail/components/org-product-table.vue","webpack:///src/views/identifier-center/pages/organization/detail/components/org-product-table.vue","webpack:///./src/views/identifier-center/pages/organization/detail/components/org-product-table.vue?545c","webpack:///./src/views/identifier-center/pages/organization/detail/components/org-product-table.vue?8ff5"],"names":["render","_vm","this","_c","_self","class","checkBoxClass","hasPagination","staticClass","attrs","addForm","title","productVisible","cancel","on","$event","_v","_s","$t","_l","getObjFlatValue","uncommitSelectionache","idKey","item","index","key","removeSelected","productName","ref","isCheck","refreshTableFlag","columns","paginationConfig","getTableData","multipleChecks","expands","fetchData","onSelectionChange","slot","directives","name","rawName","submit","staticRenderFns","components","TablePage","props","type","default","hasCheckBox","isCheckMemory","isShowCloseBtn","tableData","initChecks","options","submitCallBack","childSearch","smallAutoColumn","validate","bigAutoColumn","watch","data","total","pageIndex","pageSize","multipleSelection","multipleSelectionCache","searchLoading","param","initChecksCache","firstLoadTableEnd","computed","formConfigList","formData","methods","getCheckedSelection","filterListByField","arr","result","window","handleSelect","filters","obj2str","created","mounted","activated","component","DATE_FORMAT","COMP_DISPLAY","DAYJS_DISPLAY","COMP_VALUE","DAYJS","phoneNumberRuleObj","pattern","message","trigger","emailRuleObj","catchQueryCodeError","callback","Error","parentShortCodeChartValidateObj","identityInfo","assignInfo","required","validator","rule","value","msg","parentOrgName","conLen","length","minLen","maxLen","getIdentityInfoRules","parentShortCode","checkParentShortCodeExist","shortCode","inputRequiredValidateObj","len4To12StrValidateObj","checkShortCodeExist","merchName","checkRegex","orgNameRegex","checkOrgNameExist","notificationChannel","selectRequiredValidateObj","phoneNumber","len64StrValidateObj","checkPhoneNumber","email","checkEmail","language","selectedProdList","checkProductObj","productVlidator","product","validatorFn","checkShortCode","then","res","header","success","check","catch","err","settingAssignInfo","identityModel","subAgentExpansionModel","getOrganizationList","organizationInfo","parentId","organizationId","organizationName","parentIdentityModel","productProperties","ORG_IDENTITY_MODEL","checkMerchantName","merchantName","RegExp","test","scope","checkNotification","channelCode","billPayValidationCheckRule","validationExpression","len256StrValidateObj","validationMode","allowPartialPayement","getAssignInfoRules","ruleProfile","aggregatorModel","centralOwnedModel","getCurRowProductDateRules","row","target","dateValidator","effectiveErrorMessage","expireErrorMessage","effectiveTime","dayjs","expireTime","isPassed","dealApiRes","fnApi","receivedField","arg","getbatchData","fnMap","keys","Object","fetchFns","values","Promise","all","resultEntries","map","fromEntries","transOptions","valueField","labelField","isPure","option","label","getItemFromListByField","list","field","find","e","getLabelFromOptions","deepClone","sourceData","cache","Map","get","obj","Function","prototype","apply","arguments","args","call","undefined","Array","Date","flags","set","hasOwnProperty","IDENTITY_STATUS_TYPE","NEW","PENDING_ACTIVE","ACTIVE","SUSPENDED","FROZEN","CLOSED","CAPPED","DORMANT","getIdentityStatusName","val","STATUS_MAP","isAllowedEdit","status","STATUS_ALLOWED_MAP","IDENTITY_MODEL","CAN_MAKE_AGGREGATOR","CAN_MAKE_OWNED","CAN_MAKE_ALLTYPE","NONEHIERARCHY","AGGREGATOR","CENTRAL_OWNED","getSubAgentModelName","checkOrgNameFun","async","properties","STATUS","SUCCUSS","PENDING","ERROR","propItem","REG_FRONT","validateStatus","checkOrganizationName","flag","description","checkOrgNameValidateObj","BasicInfoRule","identityStatus","remark","newOrganizationName","showBillValid","_e","productObj","productFormRules","mode","isEditModel","staticStyle","productBtnClickHandle","_b","productColumnsConfig","getAllProduct","scopedSlots","_u","fn","isNewItem","$index","productList","rules","dateRule","pickerProdTimeStart","checkEffectived","onDatePickerChange","model","$$v","$set","expression","domProps","formatDisplayDate","pickerProdTimeEnd","productStatus","productStatusList","code","PRODUCT_STATUS","showProductStatus","chargeProfileId","chargeProfiles","chargeProfileName","getChargeProfileLabelById","deletNewProductFromSelected","cancelCurrentRowOperation","setRowOperationModel","getProductStyleOptions","showBillReferenceNumberValidation","isViewMode","getValidationMode","payBillValidateForm","validationModeOptions","showRegularExpression","resetEvn","submitLoading","submitEvn","showProductPopup","popupConf","getProduct","addProduct","PRODUCT_DATE_ORIGINFORMAT","OrgProductTable","productDialog","identityId","enum","isReceiveData","receiveProductData","inject","selectedProduct","time","unit","closedProducts","closedProductColumns","prop","align","__slotName","searchForm","formConf","comp","bind","clearable","placeholder","payBillCheckRule","width","fixed","height","handler","deep","immediate","init","products","refreshProuduct","confirmButtonText","cancelButtonText","closeOnClickModal","productId","newOrganizationProducts","receiverIdentityId","params","notifyText","changeOrgProduct","finally","changeEditModel","confirm","getOptionsLabelByValue","validationModeChange","disabledDate","_g","showDialog","conf","showClose","beforeClose","open","close","opened","closed","$attrs","$listeners","dialogForm","validationRules","itemClass","itemBind","eleClass","elementBind","visible","config","text","dialogFormConfig","tableKey","headerStyle","outSideTableData","size","border","maxHeight","sortFun","formatter","formatterHandle","_t","sortArr","pageParam","pageOffset","pagination","pageSizes","color","propertyArray","newRow","propertyVal"],"mappings":"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CAC,aACAT,0BAGA,SACA,CACAxI,0DACAsI,+BACAC,aACA,iBAEA,CACAvI,sDACAsI,qBACAC,aACAC,2BACA,iBAEA,CACAxI,mDACAsI,kBACAC,aACAC,wBACA,iBAEA,CACAxI,gDACAsI,qBACAC,aACAC,2BACA,iBAEA,CAAAxI,0CAAAsI,mBAAAC,aAAA,iBACA,CACAvI,qCACAsI,cACAC,aACAC,oBACA,kBAGA,yBACAnT,aACAA,QACA2K,wCACA,gBACAuI,aACAC,uBACAS,gBAEA,IAEA5T,aACA,IAIAuP,gBACA,8EAGA+B,yBACA,qCACA,CACAuC,cAGA,IAGAlD,oBACA,2CACA,UAGAY,oCACA,+BACA,OACA1B,WACA,uBACA,wDAEA,oBAGA+B,wBACA,4CACA,OACAF,kBACAA,wBACAA,wBAGAF,aACA,yBAEAxC,mBACA,OACA0C,oCACA,GACA,CACArJ,8BACAE,wBACAC,+BAEAmG,mBAKAvL,UACA,oBAGA,aAEAvB,OACA,kCACAiS,WACA,6BACA,4CAEAC,QACAC,cAEAtB,oBACAoB,WACA,sDACA,yCACA,gCACA,mCACA,mCASA,OARAtU,kBACAA,eAEAA,2BACAA,wBACAA,sCAEAA,8BACA,KAGAuU,QACAC,eAGArR,SACAsR,OACA,oBAGA,oBACA,SACA1B,4BAEA,4CACA2B,oBACA,qCACA,yCACA,IAGAA,YAEA,yCACA,gCACA,mCACA,mCAQA,OAPA1U,kBACAA,eAEAA,2BACAA,wBAEAA,8BACA,IAGA,yCAEA,0BAEA+S,gBAGA,SAEA,IAGA2B,YAEA,yCACA,gCAEA,mCACA,mCAGA,OAFA1U,kBACAA,eACA,IAEA,wBAEA2U,kBACA,oBAEArD,qBACA,yBACA,iCACA,oBAEAI,+BACA,kDACA,iCAEA9B,wBACA,iBAGA,yBAFA,0BAKA,mBACA,OACAvI,QACAC,YAEA+D,SAGA,oBACA,IACA,SACA0H,4BAEA,wCAEA3L,SACAA,oBACA,UAOA,OANA,oBAEAA,qBACApH,2DAGA,GAEAqS,WACA,uDACAuC,4BACAC,0BACAC,qBACAtT,iBACA,UACA,uBACA,yBACA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","file":"js/chunk-63c3d4b1.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{class:{\n    'portal-add-popup': true,\n    [_vm.checkBoxClass]: true,\n    'portal-add-popup--no-pagination': !_vm.hasPagination,\n  }},[_c('el-dialog',{staticClass:\"search\",attrs:{\"title\":_vm.addForm.title,\"visible\":_vm.productVisible,\"width\":\"800px\",\"close-on-click-modal\":false,\"before-close\":_vm.cancel},on:{\"update:visible\":function($event){_vm.productVisible=$event}}},[_c('div',{staticClass:\"topTitle\"},[_vm._v(_vm._s(_vm.$t('IDC.orgCustomer.selectedProduct')))]),_c('div',{staticClass:\"selected-container\"},[_c('div',{staticClass:\"show-selected-div\"},_vm._l((_vm.getObjFlatValue(_vm.uncommitSelectionache, _vm.addForm.idKey)),function(item,index){return _c('el-tag',{key:index,attrs:{\"type\":\"info\",\"closable\":true},on:{\"close\":function($event){return _vm.removeSelected(item)}}},[_vm._v(\" \"+_vm._s(item.productName)+\" \")])}),1)]),_c('table-page',{ref:\"data-table\",attrs:{\"size\":\"small\",\"idKey\":\"productId\",\"is-check\":_vm.isCheck,\"is-check-memory\":true,\"is-search\":_vm.refreshTableFlag,\"has-pagination\":_vm.hasPagination,\"columns\":_vm.addForm.columns,\"pagination\":_vm.paginationConfig,\"getTableData\":_vm.getTableData,\"init-checks\":_vm.multipleChecks,\"id-key\":_vm.addForm.idKey,\"expand-row-keys\":_vm.expands,\"sortArr\":['productName', 'productDesc']},on:{\"fetchData\":_vm.fetchData,\"selection-change\":_vm.onSelectionChange}}),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"id\":\"cancel\",\"size\":\"small\"},on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.$t('common.button.cancel'))+\" \")]),_c('el-button',{directives:[{name:\"preventReClick\",rawName:\"v-preventReClick\"}],attrs:{\"id\":\"confirm\",\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\" \"+_vm._s(_vm.$t('common.button.confirm'))+\" \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    :class=\"{\n      'portal-add-popup': true,\n      [checkBoxClass]: true,\n      'portal-add-popup--no-pagination': !hasPagination,\n    }\"\n  >\n    <el-dialog\n      class=\"search\"\n      :title=\"addForm.title\"\n      :visible.sync=\"productVisible\"\n      width=\"800px\"\n      :close-on-click-modal=\"false\"\n      :before-close=\"cancel\"\n    >\n      <div class=\"topTitle\">{{ $t('IDC.orgCustomer.selectedProduct') }}</div>\n      <div class=\"selected-container\">\n        <div class=\"show-selected-div\">\n          <el-tag\n            type=\"info\"\n            v-for=\"(item, index) in getObjFlatValue(uncommitSelectionache, addForm.idKey)\"\n            :key=\"index\"\n            :closable=\"true\"\n            @close=\"removeSelected(item)\"\n          >\n            {{ item.productName }}\n          </el-tag>\n        </div>\n      </div>\n      <table-page\n        ref=\"data-table\"\n        size=\"small\"\n        idKey=\"productId\"\n        :is-check=\"isCheck\"\n        :is-check-memory=\"true\"\n        :is-search=\"refreshTableFlag\"\n        :has-pagination=\"hasPagination\"\n        :columns=\"addForm.columns\"\n        :pagination=\"paginationConfig\"\n        :getTableData=\"getTableData\"\n        :init-checks=\"multipleChecks\"\n        :id-key=\"addForm.idKey\"\n        @fetchData=\"fetchData\"\n        @selection-change=\"onSelectionChange\"\n        :expand-row-keys=\"expands\"\n        :sortArr=\"['productName', 'productDesc']\"\n      >\n      </table-page>\n      <div slot=\"footer\">\n        <el-button id=\"cancel\" @click=\"cancel\" size=\"small\">{{ $t('common.button.cancel') }} </el-button>\n        <el-button id=\"confirm\" @click=\"submit\" size=\"small\" v-preventReClick type=\"primary\">\n          {{ $t('common.button.confirm') }}\n        </el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport TablePage from '@/components/tablePage';\n\nexport default {\n  name: 'addPrompt',\n  components: { TablePage },\n  props: {\n    productVisible: {\n      type: Boolean,\n      default: false,\n    },\n    hasCheckBox: {\n      type: Boolean,\n      default: true,\n    },\n    hasPagination: {\n      type: Boolean,\n      default: false,\n    },\n    isCheck: {\n      type: Boolean,\n      default: false,\n    },\n    isCheckMemory: {\n      type: Boolean,\n      default: false,\n    },\n    isShowCloseBtn: {\n      type: Boolean,\n      default: false,\n    },\n    tableData: {\n      type: Array,\n      default: () => [],\n    },\n    initChecks: {\n      type: Array,\n      default: () => [],\n    },\n    options: {\n      type: Object,\n      default: () => ({}),\n    },\n    addForm: {\n      type: Object,\n      default: () => {},\n    },\n    submitCallBack: {\n      type: String,\n      default: () => '',\n    },\n    childSearch: {\n      type: Function,\n      default: null,\n    },\n    smallAutoColumn: {\n      type: Number,\n      default: 3,\n      validate: (value) => {\n        return !(24 % value);\n      },\n    },\n    bigAutoColumn: {\n      type: Number,\n      default: 4,\n      validate: (value) => {\n        return !(24 % value);\n      },\n    },\n  },\n  watch: {\n    productVisible(val) {\n      if (val) {\n        this.refreshTableFlag = true;\n        this.multipleSelection = this.getCheckedSelection();\n      }\n      this.firstLoadTableEnd = false;\n    },\n  },\n  data() {\n    return {\n      expands: [],\n      paginationConfig: {\n        total: (this.addForm && this.addForm.columns && this.addForm.columns.length) || 0,\n        pageIndex: 1,\n        pageSize: 5,\n      },\n      multipleSelection: [],\n      multipleSelectionCache: {},\n      uncommitSelectionache: {},\n      refreshTableFlag: false,\n      searchLoading: false,\n      param: {},\n      multipleChecks: this.initChecks,\n      initChecksCache: this.initChecks,\n      firstLoadTableEnd: false,\n    };\n  },\n  computed: {\n    formConfigList() {\n      return this.addForm && this.addForm.searchForm && this.addForm.searchForm.formConf;\n    },\n    formData() {\n      return this.addForm && this.addForm.searchForm && this.addForm.searchForm.formData;\n    },\n    checkBoxClass() {\n      const hasCheckBox = this.hasCheckBox;\n      if (hasCheckBox) {\n        return 'checkbox-on';\n      }\n      return 'checkbox-off';\n    },\n  },\n  methods: {\n    getCheckedSelection() {\n      const idKey = this.addForm.idKey || 'id';\n      const ids = this.initChecks.map((item) => item[idKey]);\n      const rows = this.getObjFlatValue(this.multipleSelectionCache, idKey);\n      if (!rows) return [];\n      return rows.filter((row) => ids.includes(row[idKey]));\n    },\n    fetchData(data) {\n      this.paginationConfig.total = data.total;\n      this.searchLoading = false;\n      this.$emit('data-fetcher', data);\n    },\n    filterListByField(list, field) {\n      return list.reduce((pre, next) => {\n        if (!pre.length) {\n          return [...pre, next];\n        }\n        const hasVal = pre.some((row) => row[field] === next[field]);\n        if (hasVal) {\n          return pre;\n        }\n        return [...pre, next];\n      }, []);\n    },\n    getObjFlatValue(obj, idKey) {\n      let arr = Object.values(obj);\n      arr = arr.reduce((pre, next) => {\n        if (!pre.length) {\n          return [...next];\n        }\n        return [...pre, ...next];\n      }, []);\n      arr = this.filterListByField(arr, idKey);\n      return arr;\n    },\n    onSelectionChange(val) {\n      const idKey = this.addForm.idKey;\n      const curPageNum = this.paginationConfig.pageIndex;\n      let initChecksCache = this.initChecksCache;\n      let curPageSelection = this.multipleSelectionCache[curPageNum] || [];\n      // 当前 selection idKey list\n      const ids = val.map((item) => item[idKey]);\n      // 需要从缓存当前页的selection中删除项\n      const deletedRows = curPageSelection.filter((item) => !ids.includes(item[idKey]));\n      const deletedRowsIds = deletedRows.map((item) => item[idKey]);\n      // 把 deletedRows 从 initChecksCache 中移除\n      initChecksCache = initChecksCache.filter((item) => !deletedRowsIds.includes(item[idKey]));\n\n      this.initChecksCache = [...initChecksCache];\n      this.multipleSelectionCache[curPageNum] = [...val];\n      // 把 multipleSelectionCache 转化成数组 multipleSelection，待submit提交使用\n      // {1:[{a:'a'}],2:[{b:'b'}]} => [{a:'a'},{b:'b'}]\n      this.multipleSelection = this.getObjFlatValue(this.multipleSelectionCache, idKey);\n      // 未提交选中项，切页缓存\n      this.uncommitSelectionache = { ...this.multipleSelectionCache };\n    },\n    async getTableData(param) {\n      let result = null;\n      const idKey = this.addForm.idKey;\n      if (this.tableData.length > 0) {\n        result = this.tableData;\n      } else {\n        if (this.param.searchKey) {\n          param.searchKey = this.param.searchKey;\n        }\n        result = await this.childSearch(param);\n      }\n      // 未提交选中项数组，跟 selection 数据结构一致\n      const uncommitSelectionacheArr = this.getObjFlatValue(this.uncommitSelectionache, idKey);\n      // multipleChecks\n      const initChecksCache = this.firstLoadTableEnd ? this.initChecksCache : this.initChecks;\n      this.firstLoadTableEnd = true;\n      const allCheckedSelection = [...initChecksCache, ...uncommitSelectionacheArr];\n      const checkedIds = allCheckedSelection.map((check) => check[idKey]);\n      const resList = result.list || [];\n      // 判断tableList 是否包含选择项\n      const hasInterSection = resList.some((row) => checkedIds.includes(row[idKey]));\n      let multipleChecks = [];\n      if (hasInterSection) {\n        multipleChecks = allCheckedSelection;\n      }\n      // 等待空闲时间渲染checkbox选中\n      window.requestIdleCallback(() => {\n        this.multipleChecks = multipleChecks;\n      });\n\n      this.refreshTableFlag = false;\n      return result;\n    },\n    submit() {\n      const options = this.options;\n      this.$emit('submit-call-back', this.multipleSelection, options);\n      this.$emit('update:productVisible', false);\n      this.multipleChecks = [];\n    },\n    cancel() {\n      this.$emit('update:productVisible', false);\n      this.multipleChecks = [];\n    },\n    handleSelect(scope) {\n      // 表格显示下拉控制\n      let productId = scope.data.row.productId;\n      if (this.expands.indexOf(productId) === -1) {\n        this.expands.push(productId);\n      } else {\n        this.expands.splice(this.expands.indexOf(productId), 1);\n      }\n    },\n    removeSelected(record) {\n      this.$refs['data-table'].$refs.tableRef.toggleRowSelection(record);\n    },\n  },\n  filters: {\n    obj2str(val) {\n      const arr = [];\n      arr.push(Object.values(val)[1]);\n      return arr.join(',');\n    },\n  },\n  created() {},\n  mounted() {},\n  activated() {},\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.checkbox-off {\n  --checkbox-head-offset: 30px;\n}\n.checkbox-on {\n  --checkbox-head-offset: 0;\n}\n.portal-add-popup {\n  /deep/ .table-region .el-table__header .has-gutter .cell {\n    padding-left: 0 !important;\n  }\n  /deep/ .has-gutter th {\n    padding-left: 16px !important;\n  }\n  /deep/ .has-gutter th.el-table-column--selection {\n    padding-left: var(--checkbox-head-offset) !important;\n  }\n  .table-page-container {\n    margin-top: 20px;\n    margin-bottom: 20px;\n    /deep/ .table-region.el-table-column--selection .cell {\n      padding-left: 0 !important;\n    }\n  }\n  /deep/ .table-page-container .table-region .el-table-column--selection .cell {\n    padding-left: 0 !important;\n  }\n  .selected-container {\n    height: 94px;\n    background-color: $base-menu-light-background;\n    border: 1px solid;\n    border-color: $--fill_color--dark;\n    border-radius: 4px;\n    margin-bottom: 20px;\n    padding: 4px;\n    overflow-y: scroll;\n  }\n}\n.portal-add-popup--no-pagination {\n  /deep/ .table-region {\n    max-height: 280px;\n    overflow-y: auto;\n  }\n}\n/deep/ .el-tag.el-tag--info {\n  margin-right: 4px;\n  border: none;\n}\n/deep/ .form-flex-container {\n  padding: 0 !important;\n}\n/deep/ .table-page-container .table-region .el-table .cell {\n  position: relative;\n}\n\n/deep/ .el-checkbox__input {\n  position: absolute;\n  left: 0;\n  top: -12px;\n}\n\n/deep/ .el-table__header-wrapper table th:first-child div.cell::after {\n  display: none !important;\n}\n/deep/ .el-table__body {\n  margin-bottom: 0 !important;\n}\n/deep/ .form-flex-container .col-flex-button-list {\n  box-sizing: content-box;\n}\n/deep/ .form-flex-container .row-flex-wrap {\n  flex-wrap: nowrap;\n}\n.topTitle {\n  padding-bottom: 8px;\n}\n.selected-container {\n  /deep/ .el-tag .el-icon-close {\n    color: #c7c7c7;\n    &::before {\n      background-color: transparent;\n      border-radius: 0;\n      color: inherit;\n      font-size: 14px;\n      content: '\\e78d';\n    }\n  }\n  /deep/ .el-tag.el-tag--info .el-tag__close:hover {\n    color: #8f8f8f;\n    background-color: transparent;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./product-dialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./product-dialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./product-dialog.vue?vue&type=template&id=40730a68&scoped=true&\"\nimport script from \"./product-dialog.vue?vue&type=script&lang=js&\"\nexport * from \"./product-dialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./product-dialog.vue?vue&type=style&index=0&id=40730a68&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40730a68\",\n  null\n  \n)\n\nexport default component.exports","import {\n  inputRequiredValidateObj,\n  len19StrValidateObj,\n  len24StrValidateObj,\n  len4To12StrValidateObj,\n  len64StrValidateObj,\n  len6To16StrValidateObj,\n  len256StrValidateObj,\n  nonSpecialCharExceptPercentSignValidateObj,\n  selectRequiredValidateObj,\n} from '@/common/validator/common';\nimport { checkMerchantName, checkShortCode, getOrganizationList } from '@/views/identifier-center/api/api-organization';\nimport dayjs from 'dayjs';\n\nexport const DATE_FORMAT = {\n  COMP_DISPLAY: 'dd/MM/yyyy HH:mm',\n  DAYJS_DISPLAY: 'DD/MM/YYYY HH:mm',\n  COMP_VALUE: 'yyyy-MM-dd HH:mm',\n  DAYJS: 'YYYY-MM-DD HH:mm',\n};\n\nconst phoneNumberRuleObj = {\n  pattern: /^((13[5-9])|(1[4-9][0-9]))[0-9]{8}$/,\n  message: 'Please Enter a correct IMSI.',\n  trigger: 'blur',\n};\n\nconst emailRuleObj = {\n  type: 'email',\n  message: 'Please enter only letters(a-z),numbers(0-9),periods(.),and at(@).',\n  trigger: 'blur',\n};\nconst catchQueryCodeError = (callback) => callback(new Error('Query short code exception.'));\n\nlet getSearchOrgRules = () => {\n  return {\n    shortCode: [nonSpecialCharExceptPercentSignValidateObj, len24StrValidateObj],\n    identityId: [nonSpecialCharExceptPercentSignValidateObj, len19StrValidateObj],\n  };\n};\n// 包含selectRequiredValidateObj + len4To12StrValidateObj\nlet parentShortCodeChartValidateObj = (identityInfo, assignInfo) => {\n  return {\n    required: true,\n    trigger: ['blur', 'change'],\n    validator(rule, value, callback) {\n      let msg = '';\n      if (!value) {\n        msg = 'Please select content';\n        identityInfo.parentOrgName = '';\n        return callback(new Error(msg));\n      }\n      const conLen = value.length;\n      const minLen = 4;\n      const maxLen = 12;\n\n      if (conLen >= 4 && conLen <= maxLen) {\n        return callback();\n      }\n      msg = `Must be between ${minLen} and ${maxLen} characters`;\n      identityInfo.parentOrgName = '';\n      callback(new Error(msg));\n    },\n  };\n};\n\nlet getIdentityInfoRules = (identityInfo, assignInfo) => {\n  return {\n    parentShortCode: [\n      parentShortCodeChartValidateObj(identityInfo, assignInfo),\n      checkParentShortCodeExist(identityInfo, assignInfo),\n      { trigger: 'change' },\n    ],\n    shortCode: [inputRequiredValidateObj, len4To12StrValidateObj, checkShortCodeExist()],\n    merchName: [inputRequiredValidateObj, checkRegex(identityInfo.orgNameRegex), checkOrgNameExist()],\n    notificationChannel: [selectRequiredValidateObj],\n    phoneNumber: [phoneNumberRuleObj, len64StrValidateObj, checkPhoneNumber(identityInfo)],\n    email: [emailRuleObj, len64StrValidateObj, checkEmail(identityInfo)],\n    language: [selectRequiredValidateObj],\n    selectedProdList: [checkProductObj(identityInfo)],\n  };\n};\n\nconst checkProductObj = (identityInfo) => {\n  const productVlidator = (rule, value, callback) => {\n    const product = identityInfo.selectedProdList;\n    if (!product || !product.length) {\n      return callback(new Error('Please select one product.'));\n    }\n    callback();\n  };\n  return {\n    validator: productVlidator,\n  };\n};\n\nexport let checkShortCodeExist = () => {\n  const validatorFn = (rule, value, callback) => {\n    checkShortCode(value)\n      .then((res) => {\n        if (!res.header || !res.header.success) {\n          callback(new Error('Query short code error.'));\n          return;\n        }\n        if (res.check === 'Invalid') {\n          callback(new Error('The Organization short code is invalid.'));\n        } else if (res.check === 'Exist') {\n          callback(new Error('The Organization Short Code Already Exsists.'));\n        } else {\n          callback();\n        }\n      })\n      .catch((err) => catchQueryCodeError(callback));\n  };\n  return {\n    validator: validatorFn,\n    trigger: 'blur',\n  };\n};\n\nexport let checkShortCodeInvalid = () => {\n  const validatorCodeFn = (rule, value, callback) => {\n    if (!value) {\n      return callback();\n    }\n    checkShortCode(value)\n      .then((res) => {\n        if (!res.header || !res.header.success) {\n          callback(new Error('Query short code error.'));\n          return;\n        }\n\n        if (res.check === 'Invalid') {\n          callback(new Error('The Organization short code is invalid.'));\n        } else {\n          callback();\n        }\n      })\n      .catch((err) => catchQueryCodeError(callback));\n  };\n  return {\n    validator: validatorCodeFn,\n    trigger: 'blur',\n  };\n};\n\nlet checkParentShortCodeExist = (identityInfo, assignInfo) => {\n  const validator = (rule, value, callback) => {\n    checkShortCode(value)\n      .then((res) => {\n        if (!res.header || !res.header.success) {\n          identityInfo.parentOrgName = '';\n          callback(new Error('Query short code error.'));\n          return;\n        }\n\n        if (res.check === 'Exist') {\n          settingAssignInfo(identityInfo, assignInfo, callback);\n        } else if (res.check === 'Invalid') {\n          identityInfo.parentOrgName = '';\n          callback(new Error('The short code is invalid.'));\n        } else {\n          identityInfo.parentOrgName = '';\n          callback(new Error('The short code is not existed.'));\n        }\n      })\n      .catch((err) => catchQueryCodeError(callback));\n  };\n  return {\n    validator,\n    trigger: 'blur',\n  };\n};\n\nlet settingAssignInfo = (identityInfo, assignInfo, callback) => {\n  // 清空Hierarchy数据\n  assignInfo.identityModel = '';\n  assignInfo.subAgentExpansionModel = '';\n\n  getOrganizationList({ shortCode: identityInfo.parentShortCode })\n    .then((res) => {\n      if (res.header && res.header.success && res.organizationInfo) {\n        let organizationInfo = res.organizationInfo;\n        if (organizationInfo.subAgentExpansionModel === '') {\n          identityInfo.parentOrgName = '';\n          callback(new Error('The short code does not allow sub-organizations.'));\n        } else if (organizationInfo.subAgentExpansionModel === '0003') {\n          identityInfo.parentOrgName = '';\n          callback(new Error('The short code does not allow sub-organizations.'));\n        } else if (organizationInfo.subAgentExpansionModel === '0002') {\n          identityInfo.parentId = organizationInfo.organizationId;\n          identityInfo.parentOrgName = organizationInfo.organizationName;\n          assignInfo.parentIdentityModel = organizationInfo.subAgentExpansionModel;\n          callback();\n        } else {\n          if (\n            organizationInfo.subAgentExpansionModel !=\n            '000' + identityInfo.selectedProdList[0].productProperties.ORG_IDENTITY_MODEL\n          ) {\n            callback(new Error('SelectedProduct not match subAgentExpansionModel.'));\n          } else {\n            identityInfo.parentId = organizationInfo.organizationId;\n            identityInfo.parentOrgName = organizationInfo.organizationName;\n            assignInfo.parentIdentityModel = organizationInfo.subAgentExpansionModel;\n            callback();\n          }\n        }\n      }\n    })\n    .catch(() => {\n      identityInfo.parentOrgName = '';\n      callback(new Error('Query organization list exception.'));\n    });\n};\n\nlet checkOrgNameExist = () => {\n  const validator = (rule, value, callback) => {\n    checkMerchantName({ merchantName: value })\n      .then((res) => {\n        if (res.header && res.header.success) {\n          if (res.check === 'Invalid') {\n            callback(new Error('The organization name is invalid.'));\n          } else if (res.check === 'Exist') {\n            callback(new Error('The organization name is existed.'));\n          } else {\n            callback();\n          }\n        } else {\n          callback(new Error('Query organization name error.'));\n        }\n      })\n      .catch(() => {\n        callback(new Error('Query organization name exception.'));\n      });\n  };\n  return {\n    validator,\n    trigger: 'blur',\n  };\n};\n\nlet checkRegex = (data) => {\n  return {\n    validator: (rule, value, callback) => {\n      if (!new RegExp(data).test(value)) {\n        callback(new Error(data + '.'));\n      } else {\n        callback();\n      }\n    },\n    trigger: 'blur',\n  };\n};\n\nlet checkPhoneNumber = (scope) => {\n  return checkNotification(scope, '1001');\n};\n\nlet checkEmail = (scope) => {\n  return checkNotification(scope, '1011');\n};\n\nlet checkNotification = (scope, channelCode) => {\n  return {\n    validator: (rule, value, callback) => {\n      if (value === '' && scope.notificationChannel === channelCode) {\n        callback(new Error('Please enter content'));\n      } else {\n        callback();\n      }\n    },\n    trigger: 'blur',\n  };\n};\n\nconst billPayValidationCheckRule = {\n  validationExpression: [inputRequiredValidateObj, len256StrValidateObj],\n  validationMode: [selectRequiredValidateObj],\n  allowPartialPayement: [selectRequiredValidateObj],\n};\n\nlet getAssignInfoRules = () => {\n  return {\n    identityModel: [selectRequiredValidateObj],\n    subAgentExpansionModel: [selectRequiredValidateObj],\n    ruleProfile: [selectRequiredValidateObj],\n    aggregatorModel: [selectRequiredValidateObj],\n    centralOwnedModel: [selectRequiredValidateObj],\n    ...billPayValidationCheckRule,\n  };\n};\n\nlet getSearchOrgOperRules = () => {\n  return {\n    identityId: [nonSpecialCharExceptPercentSignValidateObj, len19StrValidateObj],\n    operatorId: [nonSpecialCharExceptPercentSignValidateObj],\n    operatorName: [nonSpecialCharExceptPercentSignValidateObj, len6To16StrValidateObj],\n  };\n};\n\n// 产品失效时间 和失效时间校验\nconst getCurRowProductDateRules = (scope, row, target) => {\n  let dateValidator = (rule, value, callback) => {\n    // 清空 tool tips\n    if (target === 'effectiveTime') {\n      row.effectiveErrorMessage = '';\n    } else {\n      row.expireErrorMessage = '';\n    }\n\n    if (!row) {\n      return callback();\n    }\n\n    const expireErrorMessage = 'The date must be later than  Effective Date.';\n    const effectiveErrorMessage = 'The date must be earlier than  Expiry Date.';\n    //  生效时间小于过期时间\n    const effectiveTime = dayjs(row.effectiveTime, DATE_FORMAT.DAYJS);\n    const expireTime = dayjs(row.expireTime, DATE_FORMAT.DAYJS);\n    const isPassed = effectiveTime < expireTime;\n\n    if (isPassed) {\n      return callback();\n    }\n\n    if (target === 'effectiveTime') {\n      row.effectiveErrorMessage = effectiveErrorMessage;\n      return callback(new Error(effectiveErrorMessage));\n    }\n\n    if (target === 'expireTime') {\n      row.expireErrorMessage = expireErrorMessage;\n      return callback(new Error(expireErrorMessage));\n    }\n    callback(new Error('Invalid time.'));\n  };\n  return [\n    { required: true, message: 'Please enter context' },\n    { validator: dateValidator, trigger: 'change' },\n  ];\n};\n\nconst formatStr = (value) => {\n  let strArr = (value && value.split('-')) || null;\n  return strArr ? `${strArr[1]}/${strArr[0]}/${strArr[2]}` : false;\n};\n\nconst formOrgChange = () => {\n  return {\n    distributionId: [selectRequiredValidateObj],\n    templateId: [selectRequiredValidateObj],\n    description: [inputRequiredValidateObj],\n  };\n};\n\nexport {\n  getSearchOrgRules,\n  getSearchOrgOperRules,\n  getIdentityInfoRules,\n  getAssignInfoRules,\n  getCurRowProductDateRules,\n  formOrgChange,\n  formatStr,\n};\n","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./content-item-edit-dialog.vue?vue&type=style&index=0&id=08488c31&prod&scoped=true&lang=scss&\"","/**\n *\n * @param {Function<Promise>} fnApi 请求api方法\n * @param {String} receivedField 需要用的字段名称\n * @param  {...any} arg fnApi的请求参数\n * @returns\n */\nexport const dealApiRes = (fnApi, receivedField, ...arg) => {\n  return fnApi(...arg)\n    .then((res) => {\n      if (res.header && res.header.success) {\n        return res[receivedField];\n      }\n      return null;\n    })\n    .catch(() => {\n      return null;\n    });\n};\n\n/**\n *\n * @param {Function<Promise>} fnApi 请求api方法\n * @param {String} receivedField 需要用的字段名称\n * @param  {...any} arg fnApi的请求参数\n * @returns\n */\nexport const dealApiResAndParse = (fnApi, receivedField, ...arg) => {\n  return dealApiRes(fnApi, receivedField, ...arg)\n    .then((res) => {\n      if (!res) {\n        return null;\n      }\n      return JSON.parse(res);\n    })\n    .catch((err) => {\n      return null;\n    });\n};\n\n/**\n *  以key-value的形式执行 Promise.all，得到对应结构的结果\n * @param {{[String]: Function<Promise>}} fnMap\n * @returns\n */\nexport const getbatchData = (fnMap) => {\n  const keys = Object.keys(fnMap);\n  const fetchFns = Object.values(fnMap);\n\n  return Promise.all(fetchFns).then((res) => {\n    const resultEntries = keys.map((key, index) => {\n      return [key, res[index]];\n    });\n    return Object.fromEntries(resultEntries);\n  });\n};\n\n/**\n * 把一个list转换成 select options 结构\n * @param {String} valueField 原数据中value对应的字段\n * @param {String} labelField 原数据中label对应的字段\n * @param {Boolean} isPure 是否只返回 label，value两个字段\n * @returns {{lable:String, value:any}}\n */\nexport const transOptions = (valueField, labelField, isPure = false) => {\n  return (item) => {\n    const option = {\n      label: item[labelField],\n      value: item[valueField],\n    };\n\n    if (isPure) {\n      return option;\n    }\n\n    return {\n      ...item,\n      ...option,\n    };\n  };\n};\n\n/**\n * 从源list数据中获取对应字段的一项\n * @param {Array<Object>} list 源数据\n * @param {String} field 通过该字段取值\n * @param {any} value\n * @returns\n */\nexport const getItemFromListByField = (list, value, field) => {\n  const item = list.find((e) => e[field] === value);\n  return item;\n};\n\n/**\n * 从源list数据中获取对应字段的一项的label\n * @param {Array<Object>} list 源数据\n * @param {String} field 通过该字段取值\n * @param {any} value\n * @returns\n */\nexport const getLabelFromOptions = (list, value) => {\n  const item = getItemFromListByField(list, value, 'value') || {};\n  return item['label'];\n};\n\nexport const deepClone = (sourceData, cache) => {\n  if (!cache) {\n    cache = new Map();\n  }\n  if (!(sourceData instanceof Object)) {\n    return sourceData;\n  }\n  //  iframe 不考虑跨\n  if (cache.get(sourceData)) {\n    return cache.get(sourceData);\n  }\n  let obj;\n  if (sourceData instanceof Function) {\n    if (sourceData.prototype) {\n      // 函数\n      obj = function () {\n        return sourceData.apply(this, arguments);\n      };\n    } else {\n      obj = (...args) => {\n        return sourceData.call(undefined, ...args);\n      };\n    }\n  } else if (sourceData instanceof Array) {\n    obj = [];\n  } else if (sourceData instanceof Date) {\n    obj = new Date(sourceData - 0);\n  } else if (sourceData instanceof RegExp) {\n    obj = new RegExp(sourceData.sourceData, sourceData.flags);\n  } else {\n    obj = {};\n  }\n  cache.set(sourceData, obj);\n  for (let key in sourceData) {\n    if (Object.hasOwnProperty.call(sourceData, key)) {\n      obj[key] = deepClone(sourceData[key], cache);\n    }\n  }\n  return obj;\n};\n","import { STATUS_MAP } from '@/views/task-center/page/task-detail/utils/data-dic.js';\n\nexport const IDENTITY_STATUS_TYPE = {\n  NEW: '00',\n  PENDING_ACTIVE: '02',\n  ACTIVE: '03',\n  SUSPENDED: '04',\n  FROZEN: '05',\n  CLOSED: '06',\n  CAPPED: '07',\n  DORMANT: '08',\n};\n\nexport function getIdentityStatusName(val) {\n  return STATUS_MAP[val] || '-';\n}\nexport function isAllowedEdit(status) {\n  const STATUS_ALLOWED_MAP = {\n    [IDENTITY_STATUS_TYPE.ACTIVE]: 'ACTIVE',\n    [IDENTITY_STATUS_TYPE.SUSPENDED]: 'SUSPENDED',\n    [IDENTITY_STATUS_TYPE.FROZEN]: 'FROZEN',\n  };\n  return STATUS_ALLOWED_MAP[status];\n}\n\nexport const IDENTITY_MODEL = {\n  CAN_MAKE_AGGREGATOR: '0000',\n  CAN_MAKE_OWNED: '0001',\n  CAN_MAKE_ALLTYPE: '0002',\n  NONEHIERARCHY: '0003',\n  AGGREGATOR: '0100',\n  CENTRAL_OWNED: '0101',\n};\n\nexport const getSubAgentModelName = (val) => {\n  switch (val) {\n    case IDENTITY_MODEL.CAN_MAKE_AGGREGATOR:\n      return 'Can Make Aggregator';\n    case IDENTITY_MODEL.CAN_MAKE_OWNED:\n      return 'Can Make Owned';\n    case IDENTITY_MODEL.CAN_MAKE_ALLTYPE:\n      return 'Can Make AllType';\n    case IDENTITY_MODEL.NONEHIERARCHY:\n      return 'NoneHierarchy';\n    case IDENTITY_MODEL.AGGREGATOR:\n      return 'Aggregator';\n    case IDENTITY_MODEL.CENTRAL_OWNED:\n      return 'Central Owned';\n    default:\n      return;\n  }\n};\n","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./product-dialog.vue?vue&type=style&index=0&id=40730a68&prod&lang=scss&scoped=true&\"","import { inputRequiredValidateObj, selectRequiredValidateObj } from '@/common/validator/common';\nimport { checkOrganizationName } from '@/views/identifier-center/api/api-organization';\n\nconst checkOrgNameFun = async (organizationName, callback, properties) => {\n  const STATUS = {\n    SUCCUSS: 'el-form-item--valiate-succuss',\n    PENDING: 'el-form-item--valiate-pending',\n    ERROR: 'el-form-item--valiate-error',\n  };\n  const propItem = properties[0]; // 组织名称名称排在properties首位，不做其他计算\n\n  // 弹框报错风格修改，不需要message\n  const message = 'The organization name is invalid.';\n\n  const REG_FRONT = /^([0-9A-Za-z\\\\_\\\\^\\\\|\\\\/ ]{2,128})$/; // 同后台正则一致\n  propItem.validateStatus = STATUS.PENDING;\n  if (!REG_FRONT.test(organizationName)) {\n    propItem.validateStatus = STATUS.ERROR;\n    callback(new Error(message));\n    return;\n  }\n  propItem.validateStatus = STATUS.PENDING;\n  try {\n    const res = await checkOrganizationName({ organizationName });\n\n    if (res.header && res.header.success && res.flag === true) {\n      propItem.validateStatus = STATUS.SUCCUSS;\n      callback();\n      return;\n    }\n\n    if (res.flag === false) {\n      let message = res.description;\n      propItem.validateStatus = STATUS.ERROR;\n      callback(new Error(message));\n      return;\n    }\n\n    propItem.validateStatus = STATUS.ERROR;\n    callback(new Error(message));\n  } catch (err) {\n    propItem.validateStatus = STATUS.ERROR;\n    callback(new Error('Check organization name exception.'));\n  }\n};\n\nconst checkOrgNameValidateObj = (properties) => ({\n  trigger: 'blur',\n  validator(rule, value, callback) {\n    checkOrgNameFun(value, callback, properties);\n  },\n});\n\nconst BasicInfoRule = (properties) => {\n  return {\n    identityStatus: [selectRequiredValidateObj],\n    ruleProfile: [selectRequiredValidateObj],\n    remark: [inputRequiredValidateObj],\n    newOrganizationName: [inputRequiredValidateObj, checkOrgNameValidateObj(properties)],\n  };\n};\n\nexport { BasicInfoRule };\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"panel\"},[(_vm.showBillValid)?_c('div',{staticClass:\"panel-header\"},[_vm._v(_vm._s(_vm.$t('IDC.organizationDetail.productDesc')))]):_vm._e(),_c('el-form',{ref:\"productForm\",attrs:{\"label-width\":\"100px\",\"label-position\":\"top\",\"model\":_vm.productObj,\"rules\":_vm.productFormRules}},[_c('div',{staticClass:\"content-wrapper\"},[_c('div',{staticClass:\"sub-block\"},[(_vm.mode === 'edit' && !_vm.isEditModel)?_c('el-row',{staticStyle:{\"margin\":\"20px 0\"}},[_c('el-col',[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.productBtnClickHandle}},[_c('i',{staticClass:\"el-icon-edit el-icon--right\"}),_vm._v(\" \"+_vm._s(_vm.$t('common.button.edit'))+\" \")])],1)],1):_vm._e(),_c('div',{staticClass:\"sub-block__title sub-block__title--normal\"},[_vm._v(_vm._s(_vm.$t('IDC.organization.product')))]),(_vm.isEditModel)?_c('el-row',{staticStyle:{\"margin\":\"20px 0\"}},[_c('el-col',[_c('el-button',{attrs:{\"size\":\"small\",\"plain\":\"\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.productBtnClickHandle}},[_vm._v(_vm._s(_vm.$t('common.button.add')))])],1)],1):_vm._e(),_c('div',{staticClass:\"product-table-container\"},[_c('org-product-table',_vm._b({ref:\"producuntRef\",staticClass:\"product-table\",attrs:{\"columns\":_vm.productColumnsConfig,\"out-side-table-data\":_vm.getAllProduct},scopedSlots:_vm._u([{key:\"effectiveTime\",fn:function(scope){return [(!_vm.isEditModel || (!scope.data.row.isEditModel && !scope.data.row.isNewItem))?_c('span',{domProps:{\"textContent\":_vm._s(_vm.formatDisplayDate(scope.data.row.effectiveTime))}}):_c('el-form-item',{attrs:{\"prop\":scope.data.$index < _vm.productObj.productList.length\n                    ? 'productList.' + scope.data.$index + '.effectiveTime'\n                    : 'selectedProduct.' + (scope.data.$index - _vm.productObj.productList.length) + '.effectiveTime',\"rules\":_vm.rules.dateRule(scope.data.row, 'effectiveTime')}},[_c('el-tooltip',{attrs:{\"effect\":\"light\",\"placement\":\"top-start\",\"popper-class\":\"product-datepicker-tooltip\",\"arrow-offset\":40,\"content\":scope.data.row.effectiveErrorMessage,\"disabled\":!scope.data.row.effectiveErrorMessage}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"value-format\":_vm.DATE_FORMAT.COMP_VALUE,\"format\":_vm.DATE_FORMAT.COMP_DISPLAY,\"type\":\"datetime\",\"size\":\"small\",\"placeholder\":_vm.$t('common.placeholder.enter'),\"picker-options\":_vm.pickerProdTimeStart(scope.data.row),\"disabled\":_vm.checkEffectived(scope.data.row)},on:{\"change\":function($event){return _vm.onDatePickerChange(scope, 'effectiveTime')}},model:{value:(scope.data.row.effectiveTime),callback:function ($$v) {_vm.$set(scope.data.row, \"effectiveTime\", $$v)},expression:\"scope.data.row.effectiveTime\"}})],1)],1)]}},{key:\"expireTime\",fn:function(scope){return [(!_vm.isEditModel || (!scope.data.row.isEditModel && !scope.data.row.isNewItem))?_c('span',{domProps:{\"textContent\":_vm._s(_vm.formatDisplayDate(scope.data.row.expireTime))}}):_c('el-form-item',{attrs:{\"prop\":scope.data.$index < _vm.productObj.productList.length\n                    ? 'productList.' + scope.data.$index + '.expireTime'\n                    : 'selectedProduct.' + (scope.data.$index - _vm.productObj.productList.length) + '.expireTime',\"rules\":_vm.rules.dateRule(scope.data.row, 'expireTime')}},[_c('el-tooltip',{attrs:{\"effect\":\"light\",\"placement\":\"top-start\",\"popper-class\":\"product-datepicker-tooltip\",\"arrow-offset\":40,\"content\":scope.data.row.expireErrorMessage,\"disabled\":!scope.data.row.expireErrorMessage}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"value-format\":_vm.DATE_FORMAT.COMP_VALUE,\"format\":_vm.DATE_FORMAT.COMP_DISPLAY,\"type\":\"datetime\",\"size\":\"small\",\"placeholder\":_vm.$t('common.placeholder.enter'),\"picker-options\":_vm.pickerProdTimeEnd(scope.data.row)},on:{\"change\":function($event){return _vm.onDatePickerChange(scope, 'expireTime')}},model:{value:(scope.data.row.expireTime),callback:function ($$v) {_vm.$set(scope.data.row, \"expireTime\", $$v)},expression:\"scope.data.row.expireTime\"}})],1)],1)]}},{key:\"status\",fn:function(scope){return [(!_vm.isEditModel || (!scope.data.row.isEditModel && !scope.data.row.isNewItem))?_c('div',{staticClass:\"col-status\"},[(scope.data.row.productStatus === _vm.PRODUCT_STATUS.ACTIVE.code)?_c('svg-icon',{staticClass:\"status status-active\",attrs:{\"icon-class\":\"circle\"}}):(scope.data.row.productStatus === _vm.PRODUCT_STATUS.SUSPENDED.code)?_c('svg-icon',{staticClass:\"status status-deaf\",attrs:{\"icon-class\":\"circle\"}}):(scope.data.row.productStatus === _vm.PRODUCT_STATUS.CLOSED.code)?_c('svg-icon',{staticClass:\"status status-inactive\",attrs:{\"icon-class\":\"circle\"}}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.showProductStatus(scope.data.row.productStatus))+\" \")],1):_c('el-select',{attrs:{\"size\":\"small\"},model:{value:(scope.data.row.productStatus),callback:function ($$v) {_vm.$set(scope.data.row, \"productStatus\", $$v)},expression:\"scope.data.row.productStatus\"}},_vm._l((_vm.productStatusList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item.code}})}),1)]}},{key:\"chargeProfile\",fn:function(scope){return [(!_vm.isEditModel || (!scope.data.row.isEditModel && !scope.data.row.isNewItem))?_c('span',{domProps:{\"textContent\":_vm._s(_vm.getChargeProfileLabelById(scope.data.row.chargeProfiles, scope.data.row.chargeProfileId))}}):_c('el-select',{attrs:{\"placeholder\":_vm.$t('common.placeholder.select'),\"size\":\"small\"},model:{value:(scope.data.row.chargeProfileId),callback:function ($$v) {_vm.$set(scope.data.row, \"chargeProfileId\", $$v)},expression:\"scope.data.row.chargeProfileId\"}},_vm._l((scope.data.row.chargeProfiles),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.chargeProfileName,\"value\":item.chargeProfileId}})}),1)]}},{key:\"operation\",fn:function(scope){return [(scope.data.row.isNewItem)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":() => _vm.deletNewProductFromSelected(scope.data.row)}},[_vm._v(\"Delete\")]):(scope.data.row.isEditModel)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":() => _vm.cancelCurrentRowOperation(scope.data.row)}},[_vm._v(\"Cancel\")]):(!scope.data.row.isEditModel)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":() => _vm.setRowOperationModel(scope.data.row, true)}},[_vm._v(\"Edit\")]):_vm._e()]}},{key:\"productName\",fn:function(scope){return [_c('span',{domProps:{\"textContent\":_vm._s(scope.data.row.productName)}})]}}])},'org-product-table',_vm.getProductStyleOptions,false))],1)],1),(_vm.showBillReferenceNumberValidation)?_c('div',[_c('div',{staticClass:\"title\"},[_vm._v(\"Bill Reference Number Validation\")]),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"Validation Mode\",\"prop\":\"payBillValidateForm.validationMode\"}},[(_vm.isViewMode)?_c('span',{domProps:{\"textContent\":_vm._s(_vm.getValidationMode(_vm.productObj.payBillValidateForm.validationMode))}}):_c('el-select',{attrs:{\"placeholder\":_vm.$t('common.placeholder.select'),\"size\":\"small\"},model:{value:(_vm.productObj.payBillValidateForm.validationMode),callback:function ($$v) {_vm.$set(_vm.productObj.payBillValidateForm, \"validationMode\", $$v)},expression:\"productObj.payBillValidateForm.validationMode\"}},_vm._l((_vm.validationModeOptions),function(item,index){return _c('el-option',{key:index,attrs:{\"value\":item.value,\"label\":item.label}})}),1)],1)],1),(_vm.showRegularExpression)?_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"Regular Expression\",\"prop\":\"payBillValidateForm.validationExpression\"}},[(_vm.isViewMode)?_c('span',{domProps:{\"textContent\":_vm._s(_vm.productObj.payBillValidateForm.validationExpression)}}):_c('el-input',{attrs:{\"placeholder\":_vm.$t('common.placeholder.enter'),\"size\":\"small\"},model:{value:(_vm.productObj.payBillValidateForm.validationExpression),callback:function ($$v) {_vm.$set(_vm.productObj.payBillValidateForm, \"validationExpression\", $$v)},expression:\"productObj.payBillValidateForm.validationExpression\"}})],1)],1):_vm._e()],1),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"Allow Partial Bill Payment\",\"prop\":\"payBillValidateForm.allowPartialPayement\"}},[(_vm.isViewMode)?_c('span',{domProps:{\"textContent\":_vm._s(_vm.productObj.payBillValidateForm.allowPartialPayement === '1' ? 'YES' : 'NO')}}):_c('div',[_c('el-radio',{attrs:{\"label\":\"1\",\"size\":\"small\"},model:{value:(_vm.productObj.payBillValidateForm.allowPartialPayement),callback:function ($$v) {_vm.$set(_vm.productObj.payBillValidateForm, \"allowPartialPayement\", $$v)},expression:\"productObj.payBillValidateForm.allowPartialPayement\"}},[_vm._v(\"YES\")]),_c('el-radio',{attrs:{\"label\":\"0\",\"size\":\"small\"},model:{value:(_vm.productObj.payBillValidateForm.allowPartialPayement),callback:function ($$v) {_vm.$set(_vm.productObj.payBillValidateForm, \"allowPartialPayement\", $$v)},expression:\"productObj.payBillValidateForm.allowPartialPayement\"}},[_vm._v(\"NO\")])],1)])],1)],1)],1):_vm._e(),_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[(_vm.isEditModel)?_c('el-form-item',{attrs:{\"label\":_vm.$t('IDC.groupDetail.label.Remark'),\"prop\":\"remark\"}},[_c('el-input',{attrs:{\"rows\":4,\"type\":\"textarea\",\"placeholder\":\"Please enter\"},model:{value:(_vm.productObj.remark),callback:function ($$v) {_vm.$set(_vm.productObj, \"remark\", $$v)},expression:\"productObj.remark\"}})],1):_vm._e()],1)])]),(_vm.isEditModel)?_c('div',{staticClass:\"flex flex-jus-end\"},[_c('el-button',{staticClass:\"cancel-button\",attrs:{\"id\":\"cancel\",\"size\":\"small\"},on:{\"click\":_vm.resetEvn}},[_vm._v(\"Cancel \")]),_c('el-button',{directives:[{name:\"preventReClick\",rawName:\"v-preventReClick\"}],attrs:{\"id\":\"submitProduct\",\"type\":\"primary\",\"size\":\"small\",\"loading\":_vm.submitLoading},on:{\"click\":_vm.submitEvn}},[_vm._v(\" Submit \")])],1):_vm._e(),_c('product-dialog',{attrs:{\"productVisible\":_vm.showProductPopup,\"addForm\":_vm.popupConf,\"isCheck\":true,\"isCheckMemory\":true,\"hasPagination\":false,\"childSearch\":_vm.getProduct},on:{\"update:productVisible\":function($event){_vm.showProductPopup=$event},\"update:product-visible\":function($event){_vm.showProductPopup=$event},\"submit-call-back\":_vm.addProduct}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"panel\">\n    <div v-if=\"showBillValid\" class=\"panel-header\">{{ $t('IDC.organizationDetail.productDesc') }}</div>\n    <!-- Select Product -->\n    <el-form label-width=\"100px\" label-position=\"top\" ref=\"productForm\" :model=\"productObj\" :rules=\"productFormRules\">\n      <div class=\"content-wrapper\">\n        <div class=\"sub-block\">\n          <el-row style=\"margin: 20px 0\" v-if=\"mode === 'edit' && !isEditModel\">\n            <el-col>\n              <el-button size=\"small\" type=\"primary\" plain @click=\"productBtnClickHandle\">\n                <i class=\"el-icon-edit el-icon--right\"></i>\n                {{ $t('common.button.edit') }}\n              </el-button>\n            </el-col>\n          </el-row>\n          <div class=\"sub-block__title sub-block__title--normal\">{{ $t('IDC.organization.product') }}</div>\n          <el-row style=\"margin: 20px 0\" v-if=\"isEditModel\">\n            <el-col>\n              <el-button size=\"small\" plain type=\"primary\" icon=\"el-icon-plus\" @click=\"productBtnClickHandle\">{{\n                $t('common.button.add')\n              }}</el-button>\n            </el-col>\n          </el-row>\n          <!---- productList----->\n          <div class=\"product-table-container\">\n            <org-product-table\n              class=\"product-table\"\n              ref=\"producuntRef\"\n              :columns=\"productColumnsConfig\"\n              :out-side-table-data=\"getAllProduct\"\n              v-bind=\"getProductStyleOptions\"\n            >\n              <!-- effectiveDate-->\n              <template slot=\"effectiveTime\" slot-scope=\"scope\">\n                <span\n                  v-if=\"!isEditModel || (!scope.data.row.isEditModel && !scope.data.row.isNewItem)\"\n                  v-text=\"formatDisplayDate(scope.data.row.effectiveTime)\"\n                ></span>\n                <el-form-item\n                  v-else\n                  :prop=\"\n                    scope.data.$index < productObj.productList.length\n                      ? 'productList.' + scope.data.$index + '.effectiveTime'\n                      : 'selectedProduct.' + (scope.data.$index - productObj.productList.length) + '.effectiveTime'\n                  \"\n                  :rules=\"rules.dateRule(scope.data.row, 'effectiveTime')\"\n                >\n                  <el-tooltip\n                    effect=\"light\"\n                    placement=\"top-start\"\n                    popper-class=\"product-datepicker-tooltip\"\n                    :arrow-offset=\"40\"\n                    :content=\"scope.data.row.effectiveErrorMessage\"\n                    :disabled=\"!scope.data.row.effectiveErrorMessage\"\n                  >\n                    <el-date-picker\n                      v-model=\"scope.data.row.effectiveTime\"\n                      :value-format=\"DATE_FORMAT.COMP_VALUE\"\n                      :format=\"DATE_FORMAT.COMP_DISPLAY\"\n                      type=\"datetime\"\n                      size=\"small\"\n                      :placeholder=\"$t('common.placeholder.enter')\"\n                      :picker-options=\"pickerProdTimeStart(scope.data.row)\"\n                      @change=\"onDatePickerChange(scope, 'effectiveTime')\"\n                      :disabled=\"checkEffectived(scope.data.row)\"\n                      style=\"width: 100%\"\n                    ></el-date-picker>\n                  </el-tooltip>\n                </el-form-item>\n              </template>\n\n              <!-- expiredTime-->\n              <template slot=\"expireTime\" slot-scope=\"scope\">\n                <span\n                  v-if=\"!isEditModel || (!scope.data.row.isEditModel && !scope.data.row.isNewItem)\"\n                  v-text=\"formatDisplayDate(scope.data.row.expireTime)\"\n                ></span>\n                <el-form-item\n                  v-else\n                  :prop=\"\n                    scope.data.$index < productObj.productList.length\n                      ? 'productList.' + scope.data.$index + '.expireTime'\n                      : 'selectedProduct.' + (scope.data.$index - productObj.productList.length) + '.expireTime'\n                  \"\n                  :rules=\"rules.dateRule(scope.data.row, 'expireTime')\"\n                >\n                  <el-tooltip\n                    effect=\"light\"\n                    placement=\"top-start\"\n                    popper-class=\"product-datepicker-tooltip\"\n                    :arrow-offset=\"40\"\n                    :content=\"scope.data.row.expireErrorMessage\"\n                    :disabled=\"!scope.data.row.expireErrorMessage\"\n                  >\n                    <el-date-picker\n                      v-model=\"scope.data.row.expireTime\"\n                      :value-format=\"DATE_FORMAT.COMP_VALUE\"\n                      :format=\"DATE_FORMAT.COMP_DISPLAY\"\n                      type=\"datetime\"\n                      size=\"small\"\n                      @change=\"onDatePickerChange(scope, 'expireTime')\"\n                      :placeholder=\"$t('common.placeholder.enter')\"\n                      :picker-options=\"pickerProdTimeEnd(scope.data.row)\"\n                      style=\"width: 100%\"\n                    ></el-date-picker>\n                  </el-tooltip>\n                </el-form-item>\n              </template>\n\n              <!--  status-->\n              <template slot=\"status\" slot-scope=\"scope\">\n                <div\n                  class=\"col-status\"\n                  v-if=\"!isEditModel || (!scope.data.row.isEditModel && !scope.data.row.isNewItem)\"\n                >\n                  <svg-icon\n                    icon-class=\"circle\"\n                    class=\"status status-active\"\n                    v-if=\"scope.data.row.productStatus === PRODUCT_STATUS.ACTIVE.code\"\n                  ></svg-icon>\n                  <svg-icon\n                    icon-class=\"circle\"\n                    class=\"status status-deaf\"\n                    v-else-if=\"scope.data.row.productStatus === PRODUCT_STATUS.SUSPENDED.code\"\n                  ></svg-icon>\n                  <svg-icon\n                    icon-class=\"circle\"\n                    class=\"status status-inactive\"\n                    v-else-if=\"scope.data.row.productStatus === PRODUCT_STATUS.CLOSED.code\"\n                  ></svg-icon>\n                  {{ showProductStatus(scope.data.row.productStatus) }}\n                </div>\n                <el-select v-else v-model=\"scope.data.row.productStatus\" size=\"small\">\n                  <el-option\n                    v-for=\"(item, index) in productStatusList\"\n                    :key=\"index\"\n                    :label=\"item.name\"\n                    :value=\"item.code\"\n                  ></el-option>\n                </el-select>\n              </template>\n\n              <template slot=\"chargeProfile\" slot-scope=\"scope\">\n                <span\n                  v-if=\"!isEditModel || (!scope.data.row.isEditModel && !scope.data.row.isNewItem)\"\n                  v-text=\"getChargeProfileLabelById(scope.data.row.chargeProfiles, scope.data.row.chargeProfileId)\"\n                ></span>\n                <el-select\n                  v-else\n                  v-model=\"scope.data.row.chargeProfileId\"\n                  :placeholder=\"$t('common.placeholder.select')\"\n                  size=\"small\"\n                >\n                  <el-option\n                    v-for=\"(item, index) in scope.data.row.chargeProfiles\"\n                    :key=\"index\"\n                    :label=\"item.chargeProfileName\"\n                    :value=\"item.chargeProfileId\"\n                  ></el-option>\n                </el-select>\n              </template>\n\n              <template slot=\"operation\" slot-scope=\"scope\">\n                <el-button\n                  type=\"text\"\n                  size=\"small\"\n                  v-if=\"scope.data.row.isNewItem\"\n                  @click=\"() => deletNewProductFromSelected(scope.data.row)\"\n                  >Delete</el-button\n                >\n                <el-button\n                  type=\"text\"\n                  size=\"small\"\n                  v-else-if=\"scope.data.row.isEditModel\"\n                  @click=\"() => cancelCurrentRowOperation(scope.data.row)\"\n                  >Cancel</el-button\n                >\n                <el-button\n                  v-else-if=\"!scope.data.row.isEditModel\"\n                  type=\"text\"\n                  size=\"small\"\n                  @click=\"() => setRowOperationModel(scope.data.row, true)\"\n                  >Edit</el-button\n                >\n              </template>\n              <template slot=\"productName\" slot-scope=\"scope\">\n                <span v-text=\"scope.data.row.productName\"></span>\n              </template>\n            </org-product-table>\n          </div>\n        </div>\n\n        <div v-if=\"showBillReferenceNumberValidation\">\n          <div class=\"title\">Bill Reference Number Validation</div>\n          <!-- validationMode -->\n          <el-row :gutter=\"20\">\n            <el-col :span=\"8\">\n              <el-form-item label=\"Validation Mode\" prop=\"payBillValidateForm.validationMode\">\n                <span v-text=\"getValidationMode(productObj.payBillValidateForm.validationMode)\" v-if=\"isViewMode\" />\n                <el-select\n                  v-else\n                  v-model=\"productObj.payBillValidateForm.validationMode\"\n                  :placeholder=\"$t('common.placeholder.select')\"\n                  size=\"small\"\n                >\n                  <el-option\n                    v-for=\"(item, index) in validationModeOptions\"\n                    :value=\"item.value\"\n                    :label=\"item.label\"\n                    :key=\"index\"\n                  ></el-option>\n                </el-select>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"8\" v-if=\"showRegularExpression\">\n              <el-form-item label=\"Regular Expression\" prop=\"payBillValidateForm.validationExpression\">\n                <span v-if=\"isViewMode\" v-text=\"productObj.payBillValidateForm.validationExpression\" />\n                <el-input\n                  v-model=\"productObj.payBillValidateForm.validationExpression\"\n                  :placeholder=\"$t('common.placeholder.enter')\"\n                  size=\"small\"\n                  v-else\n                />\n              </el-form-item>\n            </el-col>\n          </el-row>\n\n          <!-- allowPartialPayement -->\n          <el-row :gutter=\"20\">\n            <el-col :span=\"8\">\n              <el-form-item label=\"Allow Partial Bill Payment\" prop=\"payBillValidateForm.allowPartialPayement\">\n                <span\n                  v-text=\"productObj.payBillValidateForm.allowPartialPayement === '1' ? 'YES' : 'NO'\"\n                  v-if=\"isViewMode\"\n                />\n                <div v-else>\n                  <el-radio v-model=\"productObj.payBillValidateForm.allowPartialPayement\" label=\"1\" size=\"small\"\n                    >YES</el-radio\n                  >\n                  <el-radio v-model=\"productObj.payBillValidateForm.allowPartialPayement\" label=\"0\" size=\"small\"\n                    >NO</el-radio\n                  >\n                </div>\n              </el-form-item>\n            </el-col>\n          </el-row>\n        </div>\n\n        <!---- Remark---->\n        <div style=\"margin-top: 20px\">\n          <el-form-item :label=\"$t('IDC.groupDetail.label.Remark')\" prop=\"remark\" v-if=\"isEditModel\">\n            <el-input :rows=\"4\" type=\"textarea\" v-model=\"productObj.remark\" placeholder=\"Please enter\"></el-input>\n          </el-form-item>\n        </div>\n      </div>\n    </el-form>\n    <div class=\"flex flex-jus-end\" v-if=\"isEditModel\">\n      <el-button id=\"cancel\" class=\"cancel-button\" size=\"small\" @click=\"resetEvn\">Cancel </el-button>\n      <el-button\n        id=\"submitProduct\"\n        type=\"primary\"\n        size=\"small\"\n        :loading=\"submitLoading\"\n        @click=\"submitEvn\"\n        v-preventReClick\n      >\n        Submit\n      </el-button>\n    </div>\n    <product-dialog\n      :productVisible.sync=\"showProductPopup\"\n      :addForm=\"popupConf\"\n      :isCheck=\"true\"\n      :isCheckMemory=\"true\"\n      :hasPagination=\"false\"\n      :childSearch=\"getProduct\"\n      @submit-call-back=\"addProduct\"\n    ></product-dialog>\n  </div>\n</template>\n<script>\nimport productDialog from '@/views/identifier-center/pages/customer/create/components/product-dialog';\nimport OrgProductTable from '@/views/identifier-center/pages/organization/detail/components/org-product-table';\nimport {\n  changeOrgProduct,\n  queryAddProducts,\n  querySubscribeProducts,\n} from '@/views/identifier-center/api/api-organization';\n\nimport {\n  dealApiRes,\n  deepClone,\n  getItemFromListByField,\n  getLabelFromOptions,\n} from '@/views/identifier-center/pages/organization/utils/common';\nimport { dateFormat } from '@/common/utils/date-time-utils';\nimport { DATE_FORMAT, getCurRowProductDateRules } from '@/views/identifier-center/validator/organization';\nimport dayjs from 'dayjs';\nimport { inputRequiredValidateObj, selectRequiredValidateObj } from '@/common/validator/common';\n\nconst PRODUCT_STATUS = {\n  ACTIVE: {\n    code: '01',\n    name: 'Active',\n  },\n  SUSPENDED: {\n    code: '02',\n    name: 'Suspended',\n  },\n  CLOSED: {\n    code: '03',\n    name: 'Closed',\n  },\n};\n\nconst PRODUCT_DATE_ORIGINFORMAT = 'YYYY-MM-DD HH:mm';\n\nexport default {\n  name: 'ProductInfo',\n  components: { OrgProductTable, productDialog },\n  props: {\n    identityId: {\n      type: String,\n      required: true,\n    },\n    mode: {\n      type: String,\n      default: 'edit',\n      enum: ['edit', 'review'],\n    },\n    showBillValid: {\n      // 其他地方引用product有不需要BillValid的情况\n      type: Boolean,\n      default: true,\n    },\n    isReceiveData: {\n      type: Boolean,\n      default: false,\n    },\n    receiveProductData: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  inject: ['orgDetailView'],\n  data() {\n    return {\n      DATE_FORMAT,\n      PRODUCT_STATUS,\n      isEditModel: false,\n\n      submitLoading: false,\n      productObj: {\n        remark: '',\n        productList: [],\n        selectedProduct: [],\n        time: {\n          unit: null,\n          value: null,\n        },\n        payBillValidateForm: {\n          validationMode: '',\n          allowPartialPayement: '',\n          validationExpression: '',\n        },\n      },\n      validationModeOptions: [\n        {\n          label: 'External Validation',\n          value: '2',\n        },\n        {\n          label: 'Internal and External',\n          value: '3',\n        },\n        {\n          label: 'Internal Validation',\n          value: '1',\n        },\n        {\n          label: 'No Validation',\n          value: '0',\n        },\n      ],\n      closedProducts: [],\n      closedProductColumns: [\n        { label: this.$t('IDC.organization.table.productName'), prop: 'productName', align: 'left' },\n        { label: this.$t('IDC.organization.table.effectiveDate'), prop: 'effectiveTime', align: 'left' },\n        { label: this.$t('IDC.organization.table.expiryDate'), prop: 'expireTime', align: 'left' },\n        {\n          label: this.$t('IDC.organization.table.chargeProfile'),\n          prop: 'chargeProfile',\n          align: 'left',\n          __slotName: 'chargeProfile',\n        },\n        { label: this.$t('common.label.description'), prop: 'productDesc', align: 'left' },\n        { label: this.$t('common.label.status'), prop: 'status', align: 'left', __slotName: 'status' },\n      ],\n      showProductPopup: false,\n      popupConf: {\n        idKey: 'productId',\n        title: 'Add Product',\n        label: 'Product Name',\n        columns: [\n          { label: 'Product Name', prop: 'productName', align: 'left' },\n          { label: 'Description', prop: 'productDesc', align: 'left' },\n        ],\n        searchForm: {\n          formData: {\n            name: null,\n          },\n          formConf: [\n            {\n              label: 'Product Name',\n              key: 'name',\n              prop: 'name',\n              comp: 'el-input',\n              bind: {\n                clearable: true,\n                placeholder: this.$t('common.placeholder.enter'),\n              },\n            },\n          ],\n        },\n      },\n\n      rules: {\n        dateRule: (row, target) => getCurRowProductDateRules(this, row, target),\n      },\n      payBillCheckRule: {},\n    };\n  },\n  computed: {\n    productColumnsConfig() {\n      let productNameColumnNoraml = {\n        label: this.$t('IDC.organization.table.productName'),\n        prop: 'productName',\n        align: 'left',\n        'min-width': 200,\n      };\n      let productNameColumnFixed = {\n        label: this.$t('IDC.organization.table.productName'),\n        prop: 'productName',\n        align: 'left',\n        width: 200,\n        fixed: 'left',\n        __slotName: 'productName',\n      };\n\n      const columns = [\n        {\n          label: this.$t('IDC.organization.businessOperationsGroup'),\n          prop: 'businessOperationsGroup',\n          align: 'left',\n          'min-width': 250,\n        },\n        {\n          label: this.$t('IDC.organization.table.effectiveDate'),\n          prop: 'effectiveTime',\n          align: 'left',\n          __slotName: 'effectiveTime',\n          'min-width': 220,\n        },\n        {\n          label: this.$t('IDC.organization.table.expiryDate'),\n          prop: 'expireTime',\n          align: 'left',\n          __slotName: 'expireTime',\n          'min-width': 220,\n        },\n        {\n          label: this.$t('IDC.organization.chargeProfile'),\n          prop: 'chargeProfile',\n          align: 'left',\n          __slotName: 'chargeProfile',\n          'min-width': 200,\n        },\n        { label: this.$t('common.label.description'), prop: 'productDesc', align: 'left', 'min-width': 200 },\n        {\n          label: this.$t('common.label.status'),\n          prop: 'status',\n          align: 'left',\n          __slotName: 'status',\n          'min-width': 150,\n        },\n      ];\n      if (this.isEditModel) {\n        columns.unshift(productNameColumnNoraml);\n        columns.push({\n          label: this.$t('common.label.operation'),\n          'min-width': 100,\n          align: 'left',\n          __slotName: 'operation',\n          fixed: 'right',\n        });\n        return columns;\n      } else {\n        columns.unshift(productNameColumnFixed);\n        return columns;\n      }\n    },\n\n    getAllProduct() {\n      return [].concat(this.productObj.productList, this.productObj.selectedProduct);\n    },\n\n    getProductStyleOptions() {\n      if (this.getAllProduct.length >= 10) {\n        return {\n          height: '520',\n        };\n      }\n      return {};\n    },\n\n    productStatusList() {\n      const statusList = Object.values(this.PRODUCT_STATUS);\n      return statusList;\n    },\n\n    showBillReferenceNumberValidation() {\n      const productList = this.getAllProduct || [];\n      return (\n        productList.some((item) => {\n          if (item.productProperties) {\n            return item.productProperties.BILL_REF_NUM_RULE != undefined;\n          }\n        }) && this.showBillValid\n      );\n    },\n    showRegularExpression() {\n      const payBillValidateForm = this.productObj.payBillValidateForm;\n      return (\n        payBillValidateForm.validationMode &&\n        payBillValidateForm.validationMode !== '0' &&\n        payBillValidateForm.validationMode !== '2'\n      );\n    },\n    isViewMode() {\n      return !this.isEditModel;\n    },\n    productFormRules() {\n      return {\n        payBillValidateForm: this.isViewMode\n          ? {}\n          : {\n              validationExpression: [inputRequiredValidateObj],\n              validationMode: [selectRequiredValidateObj],\n              allowPartialPayement: [selectRequiredValidateObj],\n            },\n        remark: [inputRequiredValidateObj],\n      };\n    },\n  },\n\n  created() {\n    if (this.isReceiveData) {\n      return;\n    }\n    this.init();\n  },\n  watch: {\n    'orgDetailView.payBillCheckRule': {\n      handler(val) {\n        this.payBillCheckRule = { ...val };\n        this.productObj.payBillValidateForm = { ...val };\n      },\n      deep: true,\n      immediate: true,\n    },\n    receiveProductData: {\n      handler(value) {\n        this.productObj.productList = deepClone(value).map((item) => {\n          const effectiveDate = item.effectiveDate.replace('T', ' ');\n          const expireDate = item.expireDate.replace('T', ' ');\n          const effectiveTime = dateFormat(effectiveDate, DATE_FORMAT.DAYJS, PRODUCT_DATE_ORIGINFORMAT);\n          const expireTime = dateFormat(expireDate, DATE_FORMAT.DAYJS, PRODUCT_DATE_ORIGINFORMAT);\n          item.effectiveTime = effectiveTime;\n          item.expireTime = expireTime;\n          // tool tip error init\n          item.effectiveErrorMessage = '';\n          item.expireErrorMessage = '';\n          item.chargeProfiles = item.chargeProfiles || [];\n\n          item.originRow = deepClone(item);\n          return item;\n        });\n      },\n      deep: true,\n      immediate: true,\n    },\n  },\n  methods: {\n    init() {\n      this.initProduct();\n    },\n\n    async initProduct() {\n      const params = {\n        identityId: this.identityId,\n      };\n      let products = await dealApiRes(querySubscribeProducts, 'list', params);\n      products = deepClone(products);\n      this.productObj.productList.length = 0;\n      this.productObj.selectedProduct.length = 0;\n      if (!products) {\n        return;\n      }\n      products = products.map((item) => {\n        // format date time\n        const effectiveDate = item.effectiveDate.replace('T', ' ');\n        const expireDate = item.expireDate.replace('T', ' ');\n        const effectiveTime = dateFormat(effectiveDate, DATE_FORMAT.DAYJS, PRODUCT_DATE_ORIGINFORMAT);\n        const expireTime = dateFormat(expireDate, DATE_FORMAT.DAYJS, PRODUCT_DATE_ORIGINFORMAT);\n        item.effectiveTime = effectiveTime;\n        item.expireTime = expireTime;\n        // tool tip error init\n        item.effectiveErrorMessage = '';\n        item.expireErrorMessage = '';\n\n        item.originRow = deepClone(item);\n        return item;\n      });\n\n      this.productObj.productList.push(...products);\n    },\n    async initClosedProduct() {\n      const params = {\n        identityId: this.identityId,\n      };\n      // 差closed接口\n      let products = [];\n\n      if (!products) {\n        return;\n      }\n      products = products.map((item) => {\n        // format date time\n        const effectiveDate = item.effectiveDate.replace('T', ' ');\n        const expireDate = item.expireDate.replace('T', ' ');\n\n        const effectiveTime = dateFormat(effectiveDate, DATE_FORMAT.DAYJS, PRODUCT_DATE_ORIGINFORMAT);\n        const expireTime = dateFormat(expireDate, DATE_FORMAT.DAYJS, PRODUCT_DATE_ORIGINFORMAT);\n        item.effectiveTime = effectiveTime;\n        item.expireTime = expireTime;\n        return item;\n      });\n      this.closedProducts = products;\n    },\n    refreshProuduct() {\n      this.initProduct();\n    },\n    showProductStatus(code) {\n      const statusTypes = Object.values(PRODUCT_STATUS);\n      const curStatusObj = getItemFromListByField(statusTypes, code, 'code') || {};\n      return curStatusObj.name || '-';\n    },\n    getChargeProfileLabelById(list, id) {\n      const chargeProfile = getItemFromListByField(list, id, 'chargeProfileId') || {};\n      return chargeProfile.chargeProfileName || '-';\n    },\n    productBtnClickHandle() {\n      if (!this.isEditModel) {\n        this.changeEditModel(true);\n      } else {\n        this.showProductPopup = true;\n      }\n    },\n    async getProduct() {\n      let res = {\n        header: {\n          success: false,\n        },\n        list: [],\n      };\n\n      this.prodLoading = true;\n      try {\n        const params = {\n          identityId: this.identityId,\n        };\n        const list = await dealApiRes(queryAddProducts, 'list', params);\n\n        res.list = list;\n        res.header.success = true;\n      } catch (error) {}\n      this.prodLoading = false;\n\n      res.list = res.list.filter(\n        (item) => !this.getAllProduct.find((selected) => selected.productId === item.productId)\n      );\n\n      return res;\n    },\n    resetEvn() {\n      this.$confirm('Are you sure to cancel the operation?', {\n        confirmButtonText: 'Confirm',\n        cancelButtonText: 'Cancel',\n        closeOnClickModal: false,\n        type: 'warning',\n      }).then(() => {\n        this.refreshProuduct();\n        this.changeEditModel(false);\n        this.productObj.payBillValidateForm = { ...this.payBillCheckRule };\n        this.$emit('product-cancel');\n      });\n    },\n    submitEvn() {\n      this.$refs.productForm.validate((valid) => {\n        if (!valid) {\n          return;\n        }\n        const products = this.getAllProduct.map((item) => {\n          return {\n            productId: item.productId,\n            effectiveTime: item.effectiveTime,\n            expireTime: item.expireTime,\n            chargeProfileId: item.chargeProfileId,\n            status: item.productStatus,\n          };\n        });\n        if (this.isReceiveData) {\n          const params = {\n            products,\n            remark: this.productObj.remark,\n          };\n          this.$emit('product-submit', params);\n          return;\n        }\n        this.submitLoading = true;\n        const payBillValidateForm = this.productObj.payBillValidateForm;\n        const params = {\n          newOrganizationProducts: products,\n          receiverIdentityId: this.identityId,\n        };\n        if (this.showBillReferenceNumberValidation) {\n          params.payBillCheckRule = {\n            validationMode: payBillValidateForm.validationMode,\n            validationExpression: payBillValidateForm.validationExpression,\n            allowPartialPayement: payBillValidateForm.allowPartialPayement,\n            notifyText: payBillValidateForm.notifyText,\n          };\n        }\n        changeOrgProduct(params)\n          .then((res) => {\n            if (res.header && res.header.success) {\n              if (res.taskId) {\n                this.$message.success('The request must be approved by another operator.');\n              } else {\n                this.$message.success('Submit Successful');\n              }\n              this.refreshProuduct();\n              this.changeEditModel(false);\n              if (this.showBillReferenceNumberValidation) {\n                this.payBillCheckRule = { ...payBillValidateForm };\n              }\n            }\n          })\n          .finally(() => {\n            this.submitLoading = false;\n          });\n      });\n    },\n    changeEditModel(val) {\n      this.isEditModel = val;\n    },\n    setRowOperationModel(row, model) {\n      if (!row || typeof model === 'undefined') {\n        return;\n      }\n      this.$set(row, 'isEditModel', model);\n    },\n    cancelCurrentRowOperation(row) {\n      if (!row) {\n        return;\n      }\n      const originRow = row.originRow;\n      if (originRow) {\n        row.effectiveTime = originRow.effectiveTime;\n        row.expireTime = originRow.expireTime;\n        row.chargeProfile = originRow.chargeProfile;\n        row.productStatus = originRow.productStatus;\n      }\n      this.setRowOperationModel(row, false);\n    },\n    deletNewProductFromSelected(row) {\n      if (!row) {\n        return;\n      }\n      this.$modal\n        .confirm('Are you sure to delete it?', 'Delete', {\n          confirmButtonText: 'Confirm',\n          cancelButtonText: 'Cancel',\n          closeOnClickModal: false,\n          type: 'warning',\n        })\n        .then(() => {\n          let idx = this.productObj.selectedProduct.findIndex((item) => item === row);\n          if (idx != -1) {\n            this.productObj.selectedProduct.splice(idx, 1);\n          }\n        });\n    },\n    addProduct(rows) {\n      let selectedProduct = deepClone(this.productObj.selectedProduct);\n      let list = deepClone(rows);\n      list = list.map((item) => {\n        const selected = selectedProduct.find((s) => s.productId === item.productId);\n        if (selected) {\n          item.isEditModel = selected.isEditModel;\n        } else {\n          item.isEditModel = false;\n        }\n\n        const effectiveTime = dateFormat(item.effectiveDate, DATE_FORMAT.DAYJS, PRODUCT_DATE_ORIGINFORMAT);\n        const expireTime = dateFormat(item.expireDate, DATE_FORMAT.DAYJS, PRODUCT_DATE_ORIGINFORMAT);\n        item.effectiveTime = effectiveTime;\n        item.expireTime = expireTime;\n        item.isNewItem = true;\n        // 添加新产品 默认附 active 状态\n        item.productStatus = PRODUCT_STATUS.ACTIVE.code;\n\n        item.effectiveErrorMessage = '';\n        item.expireErrorMessage = '';\n\n        item.originRow = deepClone(item);\n        return item;\n      });\n      this.productObj.selectedProduct.push(...list);\n    },\n    getOptionsLabelByValue(list, val) {\n      const label = getLabelFromOptions(list, val);\n      return label || '-';\n    },\n    formatDisplayDate(date) {\n      const display = dateFormat(date, DATE_FORMAT.DAYJS_DISPLAY, PRODUCT_DATE_ORIGINFORMAT);\n      return display;\n    },\n    validationModeChange(val) {\n      if (!val || val === 'No Validation') {\n        this.regularExpression = '';\n      }\n    },\n    pickerProdTimeStart(row = {}) {\n      return {\n        disabledDate(time) {\n          // 已生效：不可改生效时间\n          // 未生效：可以修改生效时间\n          // 失效时间 > 生效时间 > 现在\n          const isLessNow = time.getTime() <= Date.now();\n\n          const effectiveTime = dayjs(row.effectiveTime, DATE_FORMAT.DAYJS);\n          const isEffectived = Date.now() > new Date(effectiveTime);\n\n          if (isLessNow || isEffectived) {\n            return true;\n          }\n          return time.getTime() < Date.now();\n        },\n      };\n    },\n    pickerProdTimeEnd(row = {}) {\n      return {\n        disabledDate(time) {\n          const isLessNow = time.getTime() < Date.now();\n          return isLessNow;\n        },\n      };\n    },\n    checkEffectived(row = {}) {\n      if (row.effectiveTime) {\n        const effectiveTime = dayjs(row.effectiveTime, DATE_FORMAT.DAYJS);\n        return Date.now() > new Date(effectiveTime);\n      } else {\n        return false;\n      }\n    },\n    onDatePickerChange(scope, target) {\n      let prop;\n      if (target === 'effectiveTime') {\n        prop = 'expireTime';\n      } else {\n        prop = 'effectiveTime';\n      }\n\n      const propPath =\n        scope.data.$index < this.productObj.productList.length\n          ? 'productList.' + scope.data.$index + '.' + prop\n          : 'selectedProduct.' + (scope.data.$index - this.productObj.productList.length) + '.' + prop;\n\n      this.$nextTick(() => {\n        if (prop === 'effectiveTime') {\n          scope.data.row.effectiveErrorMessage = '';\n        } else {\n          scope.data.row.expireErrorMessage = '';\n        }\n        this.$refs.productForm.clearValidate([propPath]);\n      });\n    },\n    getValidationMode(val) {\n      switch (val) {\n        case '0':\n          return 'No Validation';\n        case '1':\n          return 'Internal Validation';\n        case '2':\n          return 'External Validation';\n        case '3':\n          return 'Internal and External';\n      }\n    },\n  },\n};\n</script>\n<style scoped lang=\"scss\">\n.panel {\n  padding: 20px;\n\n  .panel-header {\n    color: #8f8f8f;\n    font-size: 12px;\n  }\n  .product-table-container {\n    .product-table {\n      /deep/ .el-form-item {\n        margin-bottom: 0 !important;\n      }\n    }\n  }\n}\n.form-item-group {\n  display: flex;\n  width: 100%;\n}\n.content-wrapper {\n  box-sizing: border-box;\n  margin-top: 20px;\n  margin-bottom: 20px;\n\n  .sub-block {\n    &__title {\n      position: relative;\n      color: $--text_color--strong;\n      font-weight: bold;\n      text-indent: 6px;\n      margin: 20px 0 20px;\n\n      &::before {\n        content: '';\n        width: 2px;\n        height: 16px;\n        display: block;\n        position: absolute;\n        background-color: $--primary_color;\n        top: 50%;\n        transform: translateY(-50%);\n      }\n    }\n    &__title--normal {\n      text-indent: 0;\n\n      &::before {\n        display: none;\n      }\n    }\n  }\n  /deep/ .el-table {\n    td.el-table__cell {\n      .col-status {\n        display: flex;\n        flex-direction: row;\n        justify-content: flex-start;\n        align-items: center;\n        .status {\n          margin-right: 8px;\n          width: 6px;\n          height: 6px;\n        }\n        .status-deaf {\n          fill: $--status_color--secondary-warning;\n        }\n        .status-active {\n          fill: $--status_color--notice;\n        }\n        .status-inactive {\n          fill: $--text_color--gray;\n        }\n      }\n    }\n  }\n}\n\n.title {\n  margin: 20px 0px 20px 0;\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./product-info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./product-info.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./product-info.vue?vue&type=template&id=154f17b4&scoped=true&\"\nimport script from \"./product-info.vue?vue&type=script&lang=js&\"\nexport * from \"./product-info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./product-info.vue?vue&type=style&index=0&id=154f17b4&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"154f17b4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',_vm._g(_vm._b({staticClass:\"portal-dialog\",attrs:{\"destroy-on-close\":true,\"visible\":_vm.showDialog,\"title\":_vm.conf.title,\"width\":_vm.width,\"close-on-click-modal\":_vm.closeOnClickModal,\"show-close\":_vm.showClose,\"before-close\":_vm.beforeClose},on:{\"update:visible\":function($event){_vm.showDialog=$event},\"open\":_vm.open,\"close\":_vm.close,\"opened\":_vm.opened,\"closed\":_vm.closed}},'el-dialog',_vm.$attrs,false),_vm.$listeners),[_c('el-form',{ref:\"dialog-form\",attrs:{\"model\":_vm.dialogForm,\"rules\":_vm.validationRules}},[_c('section',[_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.conf.label))]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.conf.value))]),_vm._l((_vm.props),function(prop){return _c('el-form-item',_vm._b({key:prop.key,class:[prop.validateStatus, prop.itemClass],attrs:{\"label\":prop.label,\"prop\":prop.key}},'el-form-item',prop.itemBind,false),[(prop.type === 'select')?_c('el-select',{attrs:{\"size\":\"small\",\"placeholder\":\"Please select\"},model:{value:(_vm.dialogForm[prop.key]),callback:function ($$v) {_vm.$set(_vm.dialogForm, prop.key, $$v)},expression:\"dialogForm[prop.key]\"}},_vm._l((prop.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1):(prop.type === 'input')?_c('el-input',_vm._b({class:prop.eleClass,attrs:{\"size\":\"small\",\"placeholder\":\"Please enter the content\"},model:{value:(_vm.dialogForm[prop.key]),callback:function ($$v) {_vm.$set(_vm.dialogForm, prop.key, $$v)},expression:\"dialogForm[prop.key]\"}},'el-input',prop.elementBind,false)):(prop.type === 'textarea')?_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":3,\"placeholder\":\"Please enter\"},model:{value:(_vm.dialogForm[prop.key]),callback:function ($$v) {_vm.$set(_vm.dialogForm, prop.key, $$v)},expression:\"dialogForm[prop.key]\"}}):_vm._e()],1)})],2),_c('section',[_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticClass:\"btn-option\",attrs:{\"size\":\"small\",\"plain\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Cancel\")]),_c('el-button',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.submitLoading),expression:\"submitLoading\"},{name:\"preventReClick\",rawName:\"v-preventReClick\"}],staticClass:\"btn-option\",attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submit(_vm.conf.prop)}}},[_vm._v(\"Submit\")])],1)])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog\n    class=\"portal-dialog\"\n    :destroy-on-close=\"true\"\n    :visible.sync=\"showDialog\"\n    :title=\"conf.title\"\n    :width=\"width\"\n    v-bind=\"$attrs\"\n    v-on=\"$listeners\"\n    :close-on-click-modal=\"closeOnClickModal\"\n    :show-close=\"showClose\"\n    :before-close=\"beforeClose\"\n    @open=\"open\"\n    @close=\"close\"\n    @opened=\"opened\"\n    @closed=\"closed\"\n  >\n    <el-form ref=\"dialog-form\" :model=\"dialogForm\" :rules=\"validationRules\">\n      <section>\n        <div class=\"label\">{{ conf.label }}</div>\n        <div class=\"value\">{{ conf.value }}</div>\n\n        <el-form-item\n          :label=\"prop.label\"\n          v-for=\"prop in props\"\n          :key=\"prop.key\"\n          :prop=\"prop.key\"\n          v-bind=\"prop.itemBind\"\n          :class=\"[prop.validateStatus, prop.itemClass]\"\n        >\n          <el-select\n            size=\"small\"\n            placeholder=\"Please select\"\n            v-if=\"prop.type === 'select'\"\n            v-model=\"dialogForm[prop.key]\"\n          >\n            <el-option v-for=\"item in prop.options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n            </el-option>\n          </el-select>\n          <el-input\n            size=\"small\"\n            v-model=\"dialogForm[prop.key]\"\n            placeholder=\"Please enter the content\"\n            v-bind=\"prop.elementBind\"\n            :class=\"prop.eleClass\"\n            v-else-if=\"prop.type === 'input'\"\n          ></el-input>\n          <el-input\n            v-else-if=\"prop.type === 'textarea'\"\n            type=\"textarea\"\n            :rows=\"3\"\n            v-model=\"dialogForm[prop.key]\"\n            placeholder=\"Please enter\"\n          ></el-input>\n        </el-form-item>\n      </section>\n      <section>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button class=\"btn-option\" size=\"small\" plain @click=\"cancel\">Cancel</el-button>\n          <el-button\n            class=\"btn-option\"\n            size=\"small\"\n            type=\"primary\"\n            @click=\"submit(conf.prop)\"\n            v-loading=\"submitLoading\"\n            v-preventReClick\n            >Submit</el-button\n          >\n        </div>\n      </section>\n    </el-form>\n  </el-dialog>\n</template>\n\n<script>\nimport { BasicInfoRule } from '@/views/identifier-center/validator/organization-info';\n\nexport default {\n  name: 'ContentItemEditDialog',\n  props: {\n    visible: {\n      type: Boolean,\n      default: true,\n    },\n    submitLoading: {\n      type: Boolean,\n      default: false,\n    },\n    title: {\n      type: String,\n      default: '',\n    },\n    width: {\n      type: String,\n      default: '448px',\n    },\n    closeOnClickModal: {\n      type: Boolean,\n      default: true,\n    },\n    showClose: {\n      type: Boolean,\n      default: true,\n    },\n    config: {\n      type: Object,\n      default: () => {},\n    },\n\n    data: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      showDialog: false,\n      dialogForm: {},\n      conf: {},\n      props: [],\n      text: '',\n      validationRules: {},\n    };\n  },\n  watch: {\n    visible: {\n      handler(value) {\n        this.showDialog = value;\n      },\n      immediate: true,\n    },\n    config: {\n      handler(value) {\n        if (value) {\n          this.conf = JSON.parse(JSON.stringify(value)) || {};\n          if (this.conf.properties && this.conf.properties.length) {\n            const props = this.conf.properties;\n            const dialogFormConfig = {};\n            for (const prop of props) {\n              if (prop.useDefult) {\n                dialogFormConfig[prop.key] = prop.default;\n              }\n            }\n            this.dialogForm = dialogFormConfig;\n            this.props = props;\n            this.validationRules = BasicInfoRule(this.props);\n            this.$forceUpdate();\n          }\n        }\n      },\n      immediate: true,\n      deep: true,\n    },\n    showDialog: {\n      handler(value) {\n        this.$nextTick(() => {\n          this.$refs['dialog-form'] && this.$refs['dialog-form'].clearValidate();\n          this.$emit('show-dialog', value);\n          this.$emit('update:visible', value);\n        });\n      },\n      immediate: true,\n    },\n  },\n  created() {},\n  activated() {},\n  methods: {\n    beforeClose() {\n      this.close();\n    },\n    open() {},\n    opened() {},\n    close() {\n      this.showDialog = false;\n      this.$refs['dialog-form'].resetFields();\n    },\n    closed() {},\n    cancel() {\n      this.close();\n    },\n    submit(prop) {\n      this.$refs['dialog-form'].validate((valid) => {\n        if (valid) {\n          this.$emit('on-submit', prop, this.dialogForm);\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n/deep/ .el-dialog__header {\n  padding-top: 24px;\n}\n/deep/ .el-dialog .el-dialog__body {\n  padding-bottom: 24px;\n}\n/deep/.el-form {\n  .el-form-item {\n    margin-bottom: 20px;\n    &:after {\n      content: '';\n      margin-top: 24px;\n      width: 100%;\n      height: 0;\n      border-bottom: 1px solid $--fill_color--regular;\n    }\n    .el-form-item__label {\n      line-height: 19px;\n      margin-bottom: 8px;\n    }\n    .el-form-item__content {\n      line-height: 19px;\n    }\n  }\n  .el-form-item:last-child {\n    &:after {\n      content: none;\n    }\n  }\n}\nsection {\n  .label {\n    line-height: 19px;\n    color: $--text_color--secondary;\n  }\n  .value {\n    margin: 8px 0 20px 0;\n    line-height: 19px;\n    color: $--text_color--strong;\n  }\n  .btn-option {\n    margin-left: 8px;\n  }\n}\nsection:last-child {\n  display: flex;\n  flex-direction: row-reverse;\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./content-item-edit-dialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./content-item-edit-dialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./content-item-edit-dialog.vue?vue&type=template&id=08488c31&scoped=true&\"\nimport script from \"./content-item-edit-dialog.vue?vue&type=script&lang=js&\"\nexport * from \"./content-item-edit-dialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./content-item-edit-dialog.vue?vue&type=style&index=0&id=08488c31&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08488c31\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./product-info.vue?vue&type=style&index=0&id=154f17b4&prod&scoped=true&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-table',_vm._b({key:_vm.tableKey,ref:\"tableRef\",staticClass:\"orgTable\",attrs:{\"empty-text\":\"No records found.\",\"header-cell-style\":_vm.headerStyle,\"data\":_vm.outSideTableData,\"size\":_vm.size,\"border\":_vm.border,\"row-key\":_vm.idKey,\"max-height\":_vm.maxHeight}},'el-table',_vm.$attrs,false),[_vm._l((_vm.columns),function(item,index){return [_c('el-table-column',_vm._b({key:index,attrs:{\"sortable\":_vm.sortFun(item),\"width\":item.width || '',\"formatter\":item.formatter || _vm.formatterHandle},scopedSlots:_vm._u([(item.__slotName)?{key:\"default\",fn:function(scope){return [_vm._t(item.__slotName,null,{\"data\":scope})]}}:null],null,true)},'el-table-column',item,false))]})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-table\n    ref=\"tableRef\"\n    class=\"orgTable\"\n    empty-text=\"No records found.\"\n    :header-cell-style=\"headerStyle\"\n    :data=\"outSideTableData\"\n    :size=\"size\"\n    :border=\"border\"\n    v-bind=\"$attrs\"\n    :row-key=\"idKey\"\n    :key=\"tableKey\"\n    :max-height=\"maxHeight\"\n  >\n    <template v-for=\"(item, index) in columns\">\n      <el-table-column\n        :sortable=\"sortFun(item)\"\n        :key=\"index\"\n        v-bind=\"item\"\n        :width=\"item.width || ''\"\n        :formatter=\"item.formatter || formatterHandle\"\n      >\n        <template v-if=\"item.__slotName\" v-slot=\"scope\">\n          <slot :name=\"item.__slotName\" :data=\"scope\"></slot>\n        </template>\n      </el-table-column>\n    </template>\n  </el-table>\n</template>\n\n<script>\nexport default {\n  name: 'org-product-table',\n  props: {\n    // 表格列\n    columns: {\n      type: Array,\n      default: () => [],\n    },\n    // 表格规格大小\n    size: {\n      type: String,\n      default: 'medium',\n    },\n\n    /**\n     * 表格行数据的唯一键\n     */\n    idKey: {\n      type: String,\n      default: 'id',\n    },\n    // props 外部传递一个sortArr,告诉组件哪一些字段需要排序\n    sortArr: {\n      type: Array,\n      default: () => [],\n    },\n\n    /**\n     * 分页需要传入后台的字段\n     */\n    pageParam: {\n      type: Object,\n      default: () => {\n        return {\n          pageOffset: 'pageNo',\n          pageSize: 'pageSize',\n        };\n      },\n    },\n    // 是否分页\n    hasPagination: {\n      type: Boolean,\n      default: true,\n    },\n    pagination: {\n      type: Object,\n      default: () => {\n        return {\n          total: 0,\n          pageIndex: 1,\n        };\n      }, // 分页参数 === pageSize:每页展示的条数，pageIndex:当前页\n    },\n    // 每页显示页数集合\n    pageSizes: {\n      type: Array,\n      default() {\n        return [10, 20, 50, 100];\n      },\n    },\n\n    outSideTableData: {\n      type: Array,\n      default: () => [],\n    },\n\n    border: {\n      // 表格是否带边框\n      type: Boolean,\n      default: true,\n    },\n    initChecks: {\n      type: Array,\n      default: () => [],\n    },\n    maxHeight: {\n      type: [Number, String],\n    },\n  },\n\n  data() {\n    return {\n      tableKey: new Date().getTime(),\n      headerStyle: {\n        'background-color': `${this.GlobalStyleVariables.fillLightColor}`,\n        'font-size': '14px',\n        'font-family': 'HuaweiSans-Medium',\n        'font-weight': 500,\n        color: `${this.GlobalStyleVariables.textEmphasisColor}`,\n      },\n    };\n  },\n\n  methods: {\n    sortFun(item) {\n      // 排序\n      const sortable = this.sortArr && this.sortArr.indexOf(item.prop) > -1;\n      if (sortable) {\n        if (!item['sort-method']) {\n          return 'custom';\n        }\n        return true;\n      }\n      return false;\n    },\n\n    /**\n     * 默认格式化\n     */\n    formatterHandle(row, column) {\n      const property = column.property;\n      let newRow = row;\n      let propertyVal = '';\n      let propertyArray = property && property.split('.');\n      propertyArray.forEach((pf) => {\n        if (typeof newRow[pf] === 'object') {\n          newRow = newRow[pf];\n        } else {\n          propertyVal = newRow[pf];\n        }\n      });\n      if (propertyVal !== '' && propertyVal !== null && propertyVal !== undefined) {\n        return propertyVal;\n      }\n      return '-';\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./org-product-table.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./org-product-table.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./org-product-table.vue?vue&type=template&id=1baf00fb&\"\nimport script from \"./org-product-table.vue?vue&type=script&lang=js&\"\nexport * from \"./org-product-table.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}