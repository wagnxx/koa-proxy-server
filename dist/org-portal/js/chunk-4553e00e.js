(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4553e00e"],{"0cef":function(e,t,a){},"138f":function(e,t,a){"use strict";a("99ce")},"4e20":function(e,t,a){"use strict";var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"active-account-content"},[t("div",[t("el-button",{staticStyle:{"margin-top":"8px"},attrs:{disabled:!e.hasPerm("IC_ORG_BANK_ACCOUNT_ADD_BTN"),id:"create-scenario-btn",type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(t){return e.createBtnClick()}}},[e._v(" "+e._s(e.$t("common.button.add"))+" ")]),t("table-page",{staticClass:"margin-top-16",attrs:{size:"small",isCheck:!1,isCheckMemory:!1,isSingleCheck:!1,"has-pagination":!0,isSearch:e.isSearchList,columns:e.listColumns,pagination:e.paginationConfig,getTableData:e.getTableData},scopedSlots:e._u([{key:"operation",fn:function(a){return[t("el-button",{staticClass:"table-operation-btn icon-cursor operation-button",attrs:{type:"text"},on:{click:function(t){return e.queryDetail(a.data.row)}}},[e._v(" "+e._s(e.$t("common.button.detail"))+" ")]),t("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],staticClass:"table-operation-btn icon-cursor operation-button",attrs:{disabled:!e.hasPerm("IC_ORG_BANK_ACCOUNT_DELETE_BTN"),type:"text"},on:{click:function(t){return e.removeAccount(a.data.row)}}},[e._v(" "+e._s(e.$t("common.button.remove"))+" ")]),"No"===a.data.row.default?t("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],staticClass:"table-operation-btn icon-cursor",attrs:{type:"text"},on:{click:function(t){return e.setDefault(a.data.row)}}},[e._v(" "+e._s(e.$t("IDC.bankAccount.button.setDefault"))+" ")]):e._e()]}}])})],1),e.dialogVisible?t("portal-dialog",{attrs:{visible:!0,title:e.$t("IDC.bankAccount.pageTitleCreate"),confirmText:e.$t("common.button.confirm"),width:"800px",height:"442px"},on:{"cancel-btn-click":e.closeDialog,"confirm-btn-click":e.submit,"handle-close":e.closeDialog},scopedSlots:e._u([{key:"content",fn:function(){return[t("bank-account-dialog",{ref:"bankAccountDialog",attrs:{createBankAccountForm:e.createBankAccountForm}})]},proxy:!0}],null,!1,414731466)}):e._e(),e.showDetail?t("portal-dialog",{attrs:{visible:!0,title:e.$t("IDC.bankAccount.pageTitleDetail"),customFooter:!0,width:"560px"},on:{"handle-close":e.closeDetailDialog},scopedSlots:e._u([{key:"content",fn:function(){return[t("div",{staticClass:"detail-dialog-des"},[e._v(e._s(e.$t("IDC.bankAccount.pageDescDetail")))]),t("drawer-detail-content",{ref:"childDrawer",staticStyle:{"margin-left":"4px"}})]},proxy:!0}],null,!1,3717103232)}):e._e(),e.removeDialog?t("portal-dialog",{staticClass:"remove-dialog",attrs:{top:"29vh",height:"342",confirmText:e.$t("common.button.confirm"),visible:!0,title:e.$t("IDC.bankAccount.removeTitle"),width:"448px"},on:{"cancel-btn-click":e.closeRemoveDialog,"confirm-btn-click":e.submitRemoveDialog,"handle-close":e.closeRemoveDialog},scopedSlots:e._u([{key:"content",fn:function(){return[t("h1",{staticClass:"dialog-title subtitle-color"},[e._v(e._s(e.removeDialogTitle))]),t("el-divider"),t("el-form",{ref:"deleteRoleFormRef",attrs:{"label-position":"top",model:e.delForm,rules:e.deleteRoleFormRules}},[t("el-form-item",{attrs:{label:e.$t("IDC.bankAccount.label.reason"),prop:"reason"}},[t("el-input",{attrs:{type:"textarea",prop:"reason",rows:4,placeholder:e.$t("common.placeholder.enter")},model:{value:e.delForm.reason,callback:function(t){e.$set(e.delForm,"reason",t)},expression:"delForm.reason"}})],1)],1)]},proxy:!0}],null,!1,3090683206)}):e._e()],1)},o=[],c=a("f33d"),i=a("02e3"),l=a("4c09"),s=a("8ac9"),r=a("f2e3"),u=function(){var e=this,t=e._self._c;return t("div",{staticClass:"detail-box margin-left-20"},e._l(e.detailDatas,(function(a){return t("div",{key:a.label,staticClass:"container"},[t("div",{staticClass:"subtitle"},[e._v(e._s(a.label+":"))]),t("div",{staticClass:"detail-content"},[e._v(e._s(a.content?a.content:"-"))])])})),0)},d=[],b=a("5a0c"),m=a.n(b),h=a("2ef0"),f={name:"DrawerDetailContent",data(){return{currentRowData:"",detailDatas:"",activeDetailData:[{label:this.$t("IDC.bankAccount.label.assetType"),value:"assetType"},{label:this.$t("IDC.bankAccount.label.accountName"),value:"accountName"},{label:this.$t("IDC.bankAccount.label.accountNumber"),value:"accountNo"},{label:this.$t("IDC.bankAccount.label.bankHeadOffice"),value:"bankHeadOffice"},{label:this.$t("IDC.bankAccount.label.bank"),value:"bankName"},{label:this.$t("IDC.bankAccount.label.bankShortCode"),value:"bankShortCode"},{label:this.$t("IDC.bankAccount.label.currency"),value:"currency"},{label:this.$t("IDC.bankAccount.label.isDefault"),value:"default"},{label:this.$t("IDC.bankAccount.label.iban"),value:"iban"},{label:this.$t("IDC.bankAccount.label.transferMode"),value:"transferMode"},{label:this.$t("common.label.status"),value:"status"},{label:this.$t("IDC.bankAccount.label.createdBy"),value:"createOperatorName"},{label:this.$t("IDC.bankAccount.label.creationTime"),value:"createDate"}],removedDetailAdditionalData:[{label:this.$t("IDC.bankAccount.label.removedBy"),value:"removeOperatorName"},{label:this.$t("IDC.bankAccount.label.removalTime"),value:"removeDate"},{label:this.$t("IDC.bankAccount.label.remark"),value:"remark"}]}},computed:{},methods:{queryDetailContent(e){Promise.all([this.getTransferModeData(),this.queryAccountDetail(e)]).then(t=>{const a=t[0],n=t[1];if(n){for(const t in n)this.detailDatas.forEach(o=>{if(o.value===t)if("createDate"===t||"removeDate"===t){let e=n[t];o.content=m()(e).format("DD/MM/YYYY HH:mm")}else if("assetType"===t)o.content=e.assetType;else if("bankHeadOffice"===t)o.content=e.bankHeadOffice;else if("default"===t)o.content=n[t]?"Yes":"No";else if("transferMode"===t&&a){let e=a.filter(e=>e.value===n[t]);e.length&&(o.content=e[0].label)}else o.content=n[t]});this.detailDatas=JSON.parse(JSON.stringify(this.detailDatas))}}).catch(()=>{})},queryAccountDetail(e){this.currentRowData=e,this.getDetailDatas();let t={tenantId:"-1",assetId:e.assetId,identityId:e.identityId};return new Promise(e=>{Object(c["f"])(t).then(t=>{let a;t&&t.header.success&&(t.bankAccount["createOperatorName"]=t["createOperatorName"],t.bankAccount["removeOperatorName"]=t["removeOperatorName"],a=t.bankAccount),e(a)}).catch(()=>Promise.resolve({}))})},getTransferModeData(){return new Promise(e=>{Object(c["e"])().then(t=>{let a=[];if(t.header&&t.header.success){let e=JSON.parse(t.jsonDataStr);e.map(e=>{let t={value:e.code,label:e.value};a.push(t)})}e(a)}).catch(()=>Promise.resolve([]))})},getDetailDatas(){let e=this.currentRowData.status;this.detailDatas="Active"===e?Object(h["cloneDeep"])(this.activeDetailData):Object(h["cloneDeep"])(this.activeDetailData.concat(this.removedDetailAdditionalData))}},created(){},mounted(){}},p=f,k=(a("d537"),a("2877")),v=Object(k["a"])(p,u,d,!1,null,"0b3830ce",null),D=v.exports,g=a("0360"),y={name:"ActiveAccountContent",props:["searchForm","assetTypeOptions","bankHeadOfficeOptions","identityId"],components:{TablePage:l["a"],PortalDialog:s["a"],BankAccountDialog:r["a"],DrawerDetailContent:D},data(){return{paginationConfig:{total:0,pageIndex:1,pageSize:10},listColumns:[{label:this.$t("IDC.bankAccount.label.assetType"),prop:"assetType",align:"left","min-width":200},{label:this.$t("IDC.bankAccount.label.accountName"),prop:"accountName",align:"left","min-width":200},{label:this.$t("IDC.bankAccount.label.accountNumber"),prop:"accountNo",align:"left","min-width":200},{label:this.$t("IDC.bankAccount.label.currency"),prop:"currency",align:"left","min-width":160},{label:this.$t("IDC.bankAccount.label.isDefault"),prop:"default",align:"left","min-width":120},{label:this.$t("IDC.bankAccount.label.bankHeadOffice"),prop:"bankHeadOffice",align:"left","min-width":200},{label:this.$t("IDC.bankAccount.label.bank"),prop:"bankName",align:"left","min-width":187},{label:"Operation",prop:"operation",align:"left",fixed:"right",__slotName:"operation","min-width":245}],isSearchList:!1,dialogVisible:!1,showDetail:!1,removeDialog:!1,removeBankAccount:"",delForm:{reason:""},deleteRoleFormRules:{reason:[i["e"],i["p"]]},createBankAccountForm:{assetType:"",accountName:"",accountNo:"",bankHeadOffice:"",bankId:"",currency:"",transferMode:"",iban:"",validityPeriod:"",effectiveDate:"",expiryDate:""}}},computed:{removeDialogTitle(){return this.$t("IDC.bankAccount.removeConfirm",{obj:this.removeBankAccount.accountName}).toString()}},watch:{},created(){this.isSearchList=!0},activated(){},mounted(){},methods:{search(){this.resetPagination(),this.isSearchList=!0},resetPagination(){this.paginationConfig={total:0,pageIndex:1,pageSize:10}},getTableData(){let e={status:"Active",accountName:this.searchForm.accountName,assetType:this.searchForm.assetType,bankHeadOffice:this.searchForm.bankHeadOffice,bankName:this.searchForm.bankName,identityId:this.identityId,pageNo:this.paginationConfig.pageIndex,pageSize:this.paginationConfig.pageSize};return new Promise(t=>{Object(c["g"])(e).then(e=>{e.header&&e.header.success?(e.totalRecords=e.totalNum||0,e.list=e.bankAccounts||[],e.list.forEach(e=>{this.assetTypeOptions.forEach(t=>{t.value===e.assetType&&(e.assetType=t.label)}),this.bankHeadOfficeOptions.forEach(t=>{t.value===e.bankHeadOffice&&(e.bankHeadOffice=t.label)}),e.default=e.default?"Yes":"No"}),this.isSearchList=!1,t(e)):(e.totalRecords=0,e.list=[],this.isSearchList=!1,t(e))})})},queryDetail(e){this.showDetail=!0,setTimeout(()=>{let t={};Object.assign(t,e),t.identityId=g["default"].get("initiatorIdentityId")||this.identityId,this.$refs.childDrawer.queryDetailContent(e)})},closeDetailDialog(){this.showDetail=!1},removeAccount(e){this.removeBankAccount=e,this.removeDialog=!0},setDefault(e){this.$confirm(this.$t("IDC.bankAccount.setDefaultTitle"),this.$t("IDC.bankAccount.button.setDefault"),{confirmButtonText:this.$t("common.button.confirm"),cancelButtonText:this.$t("common.button.cancel"),closeOnClickModal:!1,type:"info",customClass:"messageBox"}).then(()=>{const t={assetId:e.assetId,identityId:this.identityId};Object(c["j"])(t).then(e=>{e&&e.header.success&&(this.isSearchList=!0,this.$modal.msgSuccess("Success to set default account."))})})},createBtnClick(){this.dialogVisible=!0},submit(){this.$refs.bankAccountDialog.$refs.createBankAccountForm.validate(e=>{if(e){let e={bankAccount:{createOperId:"-1",identityId:this.identityId,bankHeadOffice:this.createBankAccountForm.bankHeadOffice,bankId:this.createBankAccountForm.bankId,assetType:this.createBankAccountForm.assetType,accountName:this.createBankAccountForm.accountName,accountNo:this.createBankAccountForm.accountNo,currency:this.createBankAccountForm.currency,transferMode:this.createBankAccountForm.transferMode,iban:this.createBankAccountForm.iban,effectiveDate:this.createBankAccountForm.validityPeriod?this.createBankAccountForm.validityPeriod[0]:"",expiryDate:this.createBankAccountForm.validityPeriod?this.createBankAccountForm.validityPeriod[1]:""},receiverIdentityId:this.identityId};Object(c["a"])(e).then(e=>{e&&e.header.success&&(this.dialogVisibleFalse(),this.search())}).finally(()=>{})}})},closeDialog(){this.dialogVisibleFalse()},dialogVisibleFalse(){for(const e in this.createBankAccountForm)this.createBankAccountForm[e]="";this.dialogVisible=!1},closeRemoveDialog(){this.removeDialog=!1,this.delForm.reason="",this.removeBankAccount=""},submitRemoveDialog(){this.$refs["deleteRoleFormRef"].validate(e=>{if(e){let e={identityId:this.identityId,receiverIdentityId:this.identityId,assetIds:[this.removeBankAccount.assetId],reason:this.delForm.reason,remark:this.delForm.reason};Object(c["b"])(e).then(e=>{e&&e.header.success&&(this.search(),this.$emit("refreshRemovedAccount"),this.$modal.msgSuccess("Success to delete."))}).finally(()=>{this.closeRemoveDialog()})}})}}},C=y,A=(a("9191"),a("692a"),Object(k["a"])(C,n,o,!1,null,"14fdb7b6",null));t["a"]=A.exports},"692a":function(e,t,a){"use strict";a("eba8")},9191:function(e,t,a){"use strict";a("0cef")},"99ce":function(e,t,a){},c796:function(e,t,a){},d537:function(e,t,a){"use strict";a("e6d1")},d654:function(e,t,a){},e6d1:function(e,t,a){},ea41:function(e,t,a){"use strict";var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"business-portal-page"},[t("table-page",{staticClass:"margin-top-16",attrs:{size:"small",isCheck:!1,isCheckMemory:!1,isSingleCheck:!1,"has-pagination":!0,isSearch:e.isSearchRemovedList,columns:e.removedListColumns,pagination:e.removedPaginationConfig,getTableData:e.getRemovedTableData},scopedSlots:e._u([{key:"operation",fn:function(a){return[t("el-button",{staticClass:"btn",staticStyle:{padding:"0"},attrs:{type:"text"},on:{click:function(t){return e.queryDetail(a.data.row)}}},[e._v(" "+e._s(e.$t("common.button.detail"))+" ")])]}}])}),e.showDetail?t("portal-dialog",{attrs:{visible:!0,title:e.$t("IDC.bankAccount.pageTitleDetail"),customFooter:!0,width:"560px"},on:{"handle-close":e.closeDetailDialog}},[t("div",{attrs:{slot:"title"},slot:"title"},[t("div",{staticClass:"detail-dialog-des"},[e._v(e._s(e.$t("IDC.bankAccount.pageDescDetail")))])]),t("div",{attrs:{slot:"content"},slot:"content"},[t("drawer-detail-content-second",{ref:"childDrawer",staticStyle:{"margin-left":"4px"}})],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("div",{staticStyle:{height:"24px"}})])]):e._e()],1)},o=[],c=a("f33d"),i=a("4c09"),l=a("8ac9"),s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"detail-box margin-left-20"},e._l(e.detailDatas,(function(a){return t("div",{key:a.label,staticClass:"container"},[t("div",{staticClass:"subtitle"},[e._v(e._s(a.label+":"))]),t("div",{staticClass:"detail-content"},[e._v(e._s(a.content?a.content:"-"))])])})),0)},r=[],u=a("5a0c"),d=a.n(u),b=a("2ef0"),m={name:"DrawerDetailContent",data(){return{currentRowData:"",detailDatas:"",activeDetailData:[{label:this.$t("IDC.bankAccount.label.assetType"),value:"assetType"},{label:this.$t("IDC.bankAccount.label.accountName"),value:"accountName"},{label:this.$t("IDC.bankAccount.label.accountNumber"),value:"accountNo"},{label:this.$t("IDC.bankAccount.label.bankHeadOffice"),value:"bankHeadOffice"},{label:this.$t("IDC.bankAccount.label.bank"),value:"bankName"},{label:this.$t("IDC.bankAccount.label.bankShortCode"),value:"bankShortCode"},{label:this.$t("IDC.bankAccount.label.currency"),value:"currency"},{label:this.$t("IDC.bankAccount.label.isDefault"),value:"default"},{label:this.$t("common.label.status"),value:"status"},{label:this.$t("IDC.bankAccount.label.createdBy"),value:"createOperatorName"},{label:this.$t("IDC.bankAccount.label.creationTime"),value:"createDate"}],removedDetailAdditionalData:[{label:this.$t("IDC.bankAccount.label.removedBy"),value:"removeOperatorName"},{label:this.$t("IDC.bankAccount.label.removalTime"),value:"removeDate"},{label:this.$t("IDC.bankAccount.label.remark"),value:"remark"}]}},computed:{},methods:{queryDetailContent(e){Promise.all([this.getTransferModeData(),this.queryAccountDetail(e)]).then(t=>{const a=t[0],n=t[1];if(n){for(const t in n)this.detailDatas.forEach(o=>{if(o.value===t)if("createDate"===t||"removeDate"===t){let e=n[t];o.content=d()(e).format("DD/MM/YYYY HH:mm")}else if("assetType"===t)o.content=e.assetType;else if("bankHeadOffice"===t)o.content=e.bankHeadOffice;else if("default"===t)o.content=n[t]?"Yes":"No";else if("transferMode"===t&&a){let e=a.filter(e=>e.value===n[t]);e.length&&(o.content=e[0].label)}else o.content=n[t]});this.detailDatas=JSON.parse(JSON.stringify(this.detailDatas))}}).catch(()=>{})},queryAccountDetail(e){this.currentRowData=e,this.getDetailDatas();let t={tenantId:"-1",assetId:e.assetId,identityId:e.identityId};return new Promise(e=>{Object(c["f"])(t).then(t=>{let a;t&&t.header.success&&(t.bankAccount["createOperatorName"]=t["createOperatorName"],t.bankAccount["removeOperatorName"]=t["removeOperatorName"],a=t.bankAccount),e(a)}).catch(()=>Promise.resolve({}))})},getTransferModeData(){return new Promise(e=>{Object(c["e"])().then(t=>{let a=[];if(t.header&&t.header.success){let e=JSON.parse(t.jsonDataStr);e.map(e=>{let t={value:e.code,label:e.value};a.push(t)})}e(a)}).catch(()=>Promise.resolve([]))})},getDetailDatas(){let e=this.currentRowData.status;this.detailDatas="Active"===e?Object(b["cloneDeep"])(this.activeDetailData):Object(b["cloneDeep"])(this.activeDetailData.concat(this.removedDetailAdditionalData))}},created(){},mounted(){}},h=m,f=(a("fd98"),a("2877")),p=Object(f["a"])(h,s,r,!1,null,"51b9469a",null),k=p.exports,v={name:"RemovedAccountContent",props:["searchForm","assetTypeOptions","bankHeadOfficeOptions","identityId"],components:{TablePage:i["a"],PortalDialog:l["a"],DrawerDetailContentSecond:k},data(){return{removedPaginationConfig:{total:0,pageIndex:1,pageSize:10},removedListColumns:[{label:this.$t("IDC.bankAccount.label.assetType"),prop:"assetType",align:"left"},{label:this.$t("IDC.bankAccount.label.accountName"),prop:"accountName",align:"left"},{label:this.$t("IDC.bankAccount.label.accountNumber"),prop:"accountNo",align:"left"},{label:this.$t("IDC.bankAccount.label.currency"),prop:"currency",align:"left"},{label:this.$t("IDC.bankAccount.label.bankHeadOffice"),prop:"bankHeadOffice",align:"left"},{label:this.$t("IDC.bankAccount.label.bank"),prop:"bankName",align:"left"},{label:"Operation",prop:"operation",align:"left",__slotName:"operation",fixed:"right"}],isSearchRemovedList:!1,showDetail:!1}},computed:{},watch:{},created(){this.isSearchRemovedList=!0},activated(){},mounted(){},methods:{search(){this.resetPagination(),this.isSearchRemovedList=!0},resetPagination(){this.removedPaginationConfig={total:0,pageIndex:1,pageSize:10}},getRemovedTableData(){let e={status:"Removed",accountName:this.searchForm.accountName,assetType:this.searchForm.assetType,bankHeadOffice:this.searchForm.bankHeadOffice,bankName:this.searchForm.bankName,identityId:this.identityId,pageNo:this.removedPaginationConfig.pageIndex,pageSize:this.removedPaginationConfig.pageSize};return new Promise(t=>{Object(c["g"])(e).then(e=>{e.header&&e.header.success?(e.totalRecords=e.totalNum||0,e.list=e.bankAccounts||[],e.list.forEach(e=>{this.assetTypeOptions.forEach(t=>{t.value===e.assetType&&(e.assetType=t.label)}),this.bankHeadOfficeOptions.forEach(t=>{t.value===e.bankHeadOffice&&(e.bankHeadOffice=t.label)})}),this.isSearchRemovedList=!1,t(e)):(e.list=[],e.totalRecords=0,this.isSearchRemovedList=!1,t(e))})})},queryDetail(e){this.showDetail=!0,setTimeout(()=>{this.$refs.childDrawer.queryDetailContent(e)})},closeDetailDialog(){this.showDetail=!1}}},D=v,g=(a("eab7"),Object(f["a"])(D,n,o,!1,null,"27a0cdde",null));t["a"]=g.exports},eab7:function(e,t,a){"use strict";a("d654")},eba8:function(e,t,a){e.exports={activeMenuColor:"#366bfc",primaryColor:"#366bfc",menuColor:"#5c5c5c",fillEmphasisColor:"#5c5c5c",fillLightColor:"#fafafa",fillStrongColor:"#c7c7c7",fillRegularColor:"#f0f0f0",fillColorDark:"#e0e0e0",lineStrongColor:"#8f8f8f",textEmphasisColor:"#282828",backgroundColor:"#fff",statusErrorColor:"#ff4040",statusSuccessColor:"#27bf88",statusColorwarning:"#ff7420",statusColorSAecondaryWarning:"#faaf0c",statusNoticeColor:"#338bff",statusDark:"#c7c7c7",initialColor:"#E0E0E0",statusNoticeBackgroundColor:"#F0F9FF",statusErrorBackgroundColor:"#FFF2F0",statusSuccessBackgroundColor:"#F0FFF7",statusSecondaryWarningBackgroundColor:"#FFFBE6",statusWarningBackgroundColor:"#FFF6E6",statusDarkBackgroundColor:"#FAFAFA",lineColorBlue:"#ADD9FF",lineColorError:"#FFC1BA",lineColorGreen:"#A5E6C6",lineColorWarning:"#FFF7ed"}},f2e3:function(e,t,a){"use strict";var n=function(){var e=this,t=e._self._c;return t("div",[t("el-form",{ref:"createBankAccountForm",staticClass:"add-form",attrs:{model:e.createBankAccountForm,"label-position":"top",size:"small",rules:e.formRules}},[t("el-row",{staticClass:"margin-bottom-20",attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:e.$t("IDC.bankAccount.label.bankHeadOffice"),prop:"bankHeadOffice"}},[t("el-select",{attrs:{id:"bankHeadOffice",placeholder:e.$t("common.placeholder.select")},model:{value:e.createBankAccountForm.bankHeadOffice,callback:function(t){e.$set(e.createBankAccountForm,"bankHeadOffice",t)},expression:"createBankAccountForm.bankHeadOffice"}},e._l(e.bankHeadOfficeOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:e.$t("IDC.bankAccount.label.bank"),prop:"bankId"}},[t("el-select",{attrs:{id:"bankId",placeholder:e.$t("common.placeholder.select")},model:{value:e.createBankAccountForm.bankId,callback:function(t){e.$set(e.createBankAccountForm,"bankId",t)},expression:"createBankAccountForm.bankId"}},e._l(e.bankOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e.showBankBox?t("div",{staticClass:"bank-box"},e._l(e.bankDatas,(function(a){return t("div",{key:a.label,staticClass:"content-container"},[e._v(" "+e._s(a.label+": "+(a.content?a.content:"-"))+" ")])})),0):e._e(),t("el-row",{staticClass:"margin-bottom-20",attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:e.$t("IDC.bankAccount.label.assetType"),prop:"assetType"}},[t("el-select",{attrs:{id:"assetType",placeholder:e.$t("common.placeholder.select")},model:{value:e.createBankAccountForm.assetType,callback:function(t){e.$set(e.createBankAccountForm,"assetType",t)},expression:"createBankAccountForm.assetType"}},e._l(e.assetTypeOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:e.$t("IDC.bankAccount.label.currency"),prop:"currency"}},[t("el-select",{attrs:{id:"currency",placeholder:e.$t("common.placeholder.select")},model:{value:e.createBankAccountForm.currency,callback:function(t){e.$set(e.createBankAccountForm,"currency",t)},expression:"createBankAccountForm.currency"}},e._l(e.currencyOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),t("el-row",{staticClass:"margin-bottom-20",attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:e.$t("IDC.bankAccount.label.accountName"),prop:"accountName"}},[t("el-input",{attrs:{id:"accountName",placeholder:e.$t("common.placeholder.enter")},model:{value:e.createBankAccountForm.accountName,callback:function(t){e.$set(e.createBankAccountForm,"accountName","string"===typeof t?t.trim():t)},expression:"createBankAccountForm.accountName"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:e.$t("IDC.bankAccount.label.accountNumber"),prop:"accountNo"}},[t("el-input",{attrs:{id:"accountNo",placeholder:e.$t("common.placeholder.enter")},model:{value:e.createBankAccountForm.accountNo,callback:function(t){e.$set(e.createBankAccountForm,"accountNo","string"===typeof t?t.trim():t)},expression:"createBankAccountForm.accountNo"}})],1)],1)],1),t("el-row",{staticClass:"margin-bottom-20",attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{staticClass:"date-box",attrs:{label:e.$t("IDC.bankAccount.label.validityPeriod"),prop:"validityPeriod"}},[t("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd HH:mm:ss.SSS",format:"dd/MM/yyyy","range-separator":"~","start-placeholder":e.$t("common.placeholder.select"),"end-placeholder":e.$t("common.placeholder.select")},model:{value:e.createBankAccountForm.validityPeriod,callback:function(t){e.$set(e.createBankAccountForm,"validityPeriod",t)},expression:"createBankAccountForm.validityPeriod"}}),t("i",{class:["el-icon-date","date-icon"]})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:e.$t("IDC.bankAccount.label.transferMode"),prop:"transferMode"}},[t("el-select",{attrs:{id:"transferMode",placeholder:e.$t("common.placeholder.select")},model:{value:e.createBankAccountForm.transferMode,callback:function(t){e.$set(e.createBankAccountForm,"transferMode",t)},expression:"createBankAccountForm.transferMode"}},e._l(e.transferModeOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),t("el-row",{staticClass:"margin-bottom-20",attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:e.$t("IDC.bankAccount.label.iban"),prop:"iban"}},[t("el-input",{attrs:{id:"iban",placeholder:e.$t("common.placeholder.enter")},model:{value:e.createBankAccountForm.iban,callback:function(t){e.$set(e.createBankAccountForm,"iban","string"===typeof t?t.trim():t)},expression:"createBankAccountForm.iban"}})],1)],1)],1)],1)],1)},o=[],c=a("f33d"),i=a("02e3"),l={name:"BankAccountDialog",data(){return{currencyOptions:[],bankHeadOfficeOptions:[],bankOptions:[],assetTypeOptions:[],transferModeOptions:[],formRules:{bankHeadOffice:[i["z"]],bankId:[i["z"]],assetType:[i["z"]],currency:[i["z"]],accountName:[i["e"],i["w"],i["m"]],accountNo:[i["e"],i["y"],Object(i["d"])({minLen:10,maxLen:64})],iban:[i["w"],Object(i["d"])({minLen:0,maxLen:34})]},showBankBox:!1,bankDatas:[{label:this.$t("IDC.bankAccount.label.bankShortCode"),value:"bankShortCode"},{label:this.$t("IDC.bankAccount.label.bankAddress"),value:"bankAddress"},{label:this.$t("IDC.bankAccount.label.financeService"),value:"financeService"},{label:this.$t("IDC.bankAccount.label.trustBank"),value:"trustBankCode"}]}},props:["createBankAccountForm","identityId"],watch:{"createBankAccountForm.bankHeadOffice":{handler(){this.getBankList()},deep:!0},"createBankAccountForm.bankId":{handler(e){e?(this.$delete(this.bankDatas,"content"),this.getCurrentBankInfo({bankId:e}),this.showBankBox=!0):this.showBankBox=!1},deep:!0}},methods:{querySelectList(){this.getBankHeadOfficeList(),this.geCurrencyList(),this.getAssetTypeList(),this.getTransferMode()},async getBankHeadOfficeList(){this.bankHeadOfficeOptions=[];let e=await Object(c["c"])({});if(e.header&&e.header.success){let t=JSON.parse(e.jsonDataStr);t.map(e=>{let t={value:e.code,label:e.value};this.bankHeadOfficeOptions.push(t)})}},async getBankList(){this.bankOptions=[],this.createBankAccountForm.bankId="";let e={pageNo:1,pageSize:100,bankHeadOffice:this.createBankAccountForm.bankHeadOffice},t=await Object(c["h"])(e);t.header&&t.header.success&&t.banks&&t.banks.length>0&&t.banks.map(e=>{let t={value:e.bankId,label:e.bankName};this.bankOptions.push(t)})},async geCurrencyList(){this.currencyOptions=[];let e=await Object(c["i"])({dictType:"Currency"});if(e.header&&e.header.success){let t=JSON.parse(e.dataDictJson);t.map(e=>{let t={value:e.code,label:e.code};this.currencyOptions.push(t)})}},async getAssetTypeList(){this.assetTypeOptions=[];let e=await Object(c["i"])({dictType:"AssetType"});if(e.header&&e.header.success){let t=JSON.parse(e.dataDictJson);t.map(e=>{let t={value:e.code,label:e.name};this.assetTypeOptions.push(t)})}},async getTransferMode(){this.transferModeOptions=[];let e=await Object(c["e"])();if(e.header&&e.header.success){let t=JSON.parse(e.jsonDataStr);t.map(e=>{let t={value:e.code,label:e.value};this.transferModeOptions.push(t)})}},async getCurrentBankInfo(e){try{let t=await Object(c["d"])(e);if(t&&t.header.success){let e=[];for(const n in t.bank)"isDepositBank"===n&&!0===t.bank[n]&&e.push("Deposit Bank"),"isTrustBank"===n&&!0===t.bank[n]&&e.push("Trust Bank"),"isCardIssuingBank"===n&&!0===t.bank[n]&&e.push("Card Issuing Bank");let a=t.bankKYC.kycGroupList.filter(e=>1003===e.kycGroupId&&1007===e.kycFieldId);this.bankDatas.forEach(n=>{"financeService"===n.value?n.content=e.join(","):"trustBankCode"===n.value?n.content=t.bank.trustBankCode:"bankShortCode"===n.value?n.content=t.bank.bankShortCode:"bankAddress"===n.value&&(n.content=a.length?a[0].inputValue:"")}),this.bankDatas=JSON.parse(JSON.stringify(this.bankDatas))}}catch(t){}}},created(){this.querySelectList()},mounted(){}},s=l,r=(a("138f"),a("2877")),u=Object(r["a"])(s,n,o,!1,null,"667fcd56",null);t["a"]=u.exports},f33d:function(e,t,a){"use strict";a.d(t,"i",(function(){return o})),a.d(t,"c",(function(){return c})),a.d(t,"h",(function(){return i})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return s})),a.d(t,"f",(function(){return r})),a.d(t,"g",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"d",(function(){return b})),a.d(t,"j",(function(){return m}));var n=a("0bbd");function o(e){return Object(n["a"])({url:"/fintech/v1/dict/query",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/fintech/v1/bank/getBank",method:"post",data:e})}function i(e){return Object(n["a"])({url:"/fintech/v1/bank/queryBankList",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/fintech/v1/organization/bankAccount/create",method:"post",data:e})}function s(e){return Object(n["a"])({url:"/fintech/v1/organization/bankAccount/delete",method:"post",data:e})}function r(e){return Object(n["a"])({url:"/fintech/v1/bankAccount/get",method:"post",data:e})}function u(e){return Object(n["a"])({url:"/fintech/v1/bankAccount/query",method:"post",data:e})}function d(e){return Object(n["a"])({url:"/fintech/v1/bankAccount/getTransferMode",method:"get",data:e})}function b(e){return Object(n["a"])({url:"/fintech/v1/bank/queryBankInfo",method:"post",data:e})}function m(e){return Object(n["a"])({url:"/fintech/v1/bankAccount/setIdentityBankAccount",method:"post",data:e})}},fd98:function(e,t,a){"use strict";a("c796")}}]);
//# sourceMappingURL=chunk-4553e00e.js.map