(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ab9f805"],{"02e3":function(e,a,t){"use strict";t.d(a,"e",(function(){return s})),t.d(a,"c",(function(){return i})),t.d(a,"y",(function(){return o})),t.d(a,"z",(function(){return r})),t.d(a,"w",(function(){return c})),t.d(a,"f",(function(){return l})),t.d(a,"u",(function(){return n})),t.d(a,"v",(function(){return h})),t.d(a,"x",(function(){return m})),t.d(a,"g",(function(){return d})),t.d(a,"s",(function(){return g})),t.d(a,"n",(function(){return p})),t.d(a,"r",(function(){return u})),t.d(a,"j",(function(){return f})),t.d(a,"l",(function(){return T})),t.d(a,"q",(function(){return b})),t.d(a,"m",(function(){return k})),t.d(a,"p",(function(){return y})),t.d(a,"k",(function(){return C})),t.d(a,"i",(function(){return D})),t.d(a,"h",(function(){return S})),t.d(a,"t",(function(){return N})),t.d(a,"d",(function(){return O})),t.d(a,"o",(function(){return F})),t.d(a,"a",(function(){return v})),t.d(a,"b",(function(){return L}));let s={required:!0,message:"Please enter content",trigger:"blur"},i={required:!0,message:"Please check content",trigger:"blur"},r={required:!0,message:"Please select content",trigger:"change"},o={pattern:/^[0-9a-zA-Z]*$/,message:"Must be number and letters.",trigger:"blur"},l={pattern:/^[+-]?[0-9]*$/,message:"Must be integer number.",trigger:"blur"},n={pattern:/[0-9]{4}/,message:"The MSISDN must contain at least 4 dligits",trigger:"blur"},c={pattern:/^[^@~`！!#$%^*（）()\-+=|,/<>《》?？;':\"“\[\]{}\\&]*$/,message:"Cannot contain special characters (~`!#$%^*()-+=|,/<>?;':\"[]{}\\&)",trigger:"blur"},h={pattern:/^[^@~`！!#$^*（）()\-+=|,/<>《》?？;':\"“\[\]{}\\&]*$/,message:"Cannot contain special characters (~`!#$^*()-+=|,/<>?;':\"[]{}\\&)",trigger:"blur"},m={pattern:/^[\w- ]+$/,message:"Please do not enter any special characters.",trigger:"blur"};O({minLen:0,maxLen:11});const d=O({minLen:0,maxLen:18}),g=(O({minLen:3,maxLen:3}),O({minLen:6,maxLen:16})),p=(O({minLen:8,maxLen:10}),O({minLen:8,maxLen:11}),O({minLen:4,maxLen:12})),u=O({minLen:6,maxLen:12}),f=O({minLen:0,maxLen:19}),T=O({minLen:0,maxLen:24}),b=O({minLen:0,maxLen:64}),k=(O({minLen:0,maxLen:100}),O({minLen:0,maxLen:256})),y=O({minLen:0,maxLen:512}),C=(O({minLen:8,maxLen:50}),O({minLen:1,maxLen:18})),D=O({minLen:0,maxLen:32}),S=O({minLen:0,maxLen:30}),N=O({minLen:9,maxLen:18});O({minLen:2,maxLen:256});function O({minLen:e=0,maxLen:a=100}){let t="";return t=e>0?`Must be between ${e} and ${a} characters`:`Must be less than ${a} characters`,{min:e,max:a,message:t,trigger:"blur"}}const F=O({minLen:0,maxLen:4});function v(e){let a=[];for(let t in e)e[t]&&e[t].toString().startsWith("%")&&1===e[t].length||!e[t]?a.push(!1):a.push(!0);return!a.every(e=>!1===e)}function L(e){return{validator:(a,t,s)=>{t&&t.startsWith("%")&&1===t.length?s(new Error(""+e)):s()},trigger:"blur"}}},"11c2":function(e,a,t){},"64e7":function(e,a,t){"use strict";var s=t("0360"),i=t("5c96");a["a"]={downLoadFile:function(e,a,t,r){let o=new XMLHttpRequest;o.open(t||"POST",e,!0),o.setRequestHeader("Content-type","application/json"),r&&o.setRequestHeader("X-XSRF-TOKEN",s["default"].get("O-XSRF-TOKEN")),o.setRequestHeader("o-token",s["default"].get("o-token")),o.setRequestHeader("Cache-Control","no-store, max-age=0, must-revalidate"),o.responseType="blob",o.onload=function(){if(200===this.status){let e=this.response,a=o.getResponseHeader("content-disposition").split(";")[1].split("filename=")[1],t=decodeURIComponent(a),s=URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=t,i.click()}else i["MessageBox"].alert("Download failed.","Error",{type:"error",confirmButtonText:"Confirm"})},o.send(JSON.stringify(a))}}},"784c":function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e._self._c;return a("div",{staticClass:"active-task-management-container"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"title"},[e._v(e._s(e.projectObj.title))]),a("div",{staticClass:"desc"},[e._v(e._s(e.projectObj.desc))])]),a("div",{staticClass:"page-content"},[a("portal-form",{ref:"searchFormRef",attrs:{searchBtnLoading:e.searchLoading,"form-config-list":e.formConfigList,formRules:e.dateValidate,"form-data":e.formData},on:{"reset-btn-click":e.resetSearch,"search-btn-click":e.search}}),a("div",{staticClass:"table-container"},[a("div",{staticClass:"table-operate-header",class:{isSingleElement:!e.hasPerm("WF_MYTASK_ADMINTASK_ASSIGN_BTN")}},[a("el-button",{attrs:{disabled:e.isDisabled||!e.hasPerm("WF_MYTASK_ADMINTASK_ASSIGN_BTN"),size:"small",type:"primary"},on:{click:e.assignEvent}},[e._v(e._s(this.$t("TAC.activeTaskManagement.assign")))]),a("div",{staticClass:"right-btn"},[a("el-select",{attrs:{size:"small",clearable:!1,placeholder:e.$t("common.placeholder.sortBy")+""},on:{change:e.handleCommand},model:{value:e.sortTime,callback:function(a){e.sortTime=a},expression:"sortTime"}},e._l(e.sortTimeList,(function(e){return a("el-option",{key:e.label,attrs:{value:e.value,label:e.label}})})),1)],1)],1),a("table-page",{ref:"workflowTableRef",staticClass:"initiated-workflow-table",attrs:{idKey:"taskNo",isCheck:!0,columns:e.columns,sortArr:["creationTime","dueTime"],getTableData:e.getTableData,"has-pagination":e.hasPagination,pagination:e.paginationConfig,"is-search":e.isSearch},on:{"selection-change":e.selectionChange},scopedSlots:e._u([{key:"operation",fn:function(t){return[e.assignBtnIsShow(t.data.row)?a("el-button",{attrs:{disabled:!e.hasPerm("WF_MYTASK_ADMINTASK_ASSIGN_BTN"),type:"text"},on:{click:function(a){return e.handleAssign(t.data.row)}}},[e._v(" "+e._s(e.$t("TAC.activeTaskManagement.assign"))+" ")]):e._e(),e.detailBtnIsShow(t.data.row)?a("el-button",{attrs:{disabled:!e.hasPerm("WF_MYTASK_ADMINTASK_VIEW_BTN"),type:"text"},on:{click:function(a){return e.handleDetail(t.data.row)}}},[e._v(e._s(e.$t("common.label.detail")))]):e._e()]}},{key:"taskStatus",fn:function(t){return[a("div",{staticClass:"flex flex-align"},[a("span",{staticClass:"status-circle",style:e.statusStyle(t.data.row)}),a("span",[e._v(e._s(t.data.row.status))])])]}}])})],1)],1),a("div",{staticClass:"page-dialog"},[a("el-dialog",{ref:"selectTaskNameDialogRef",attrs:{title:"Select Task Name",width:"800px",visible:e.taskNameDialogVisible,"close-on-click-modal":!1,"before-close":e.closeDialog},on:{"update:visible":function(a){e.taskNameDialogVisible=a},closed:e.closeDialog}},[a("portal-form",{ref:"dialogTaskNameForm",staticClass:"dialogTaskNameForm",attrs:{"form-config-list":e.taskNameSearchForm.formConfigList,"form-data":e.taskNameSearchForm.formData,formRules:e.formRules,needOperateBtn:!0,searchBtnLoading:e.dialogTaskNameFormBtnLoading,smallAutoColumn:2,bigAutoColumn:2},on:{"search-btn-click":e.selectTaskDialogSearch,"reset-btn-click":e.selectTaskDialogReset}}),a("table-page",{ref:"taskNameTableRef",attrs:{columns:e.dialogTable.columns,getTableData:e.dialogTable.getTableData,"is-search":e.dialogTable.isSearch,"is-check":!0,isSingleCheck:!0},on:{"single-selection-change":e.dialogTable.singleChange}}),a("div",{staticClass:"dialog-pagination"},[a("portal-pagination",{ref:"taskNameDialogPageRef",attrs:{total:e.taskNameCount,pageSize:e.taskNamePageSize,hidden:e.taskNameHasData},on:{pagination:e.handleTaskNameSizeChange}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("button",{staticClass:"cancel-button",attrs:{size:"small"},on:{click:function(a){return a.preventDefault(),e.closeDialog.apply(null,arguments)}}},[e._v(" "+e._s(this.$t("common.button.cancel"))+" ")]),a("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary",size:"small"},on:{click:e.comfirmTaskNameHandler}},[e._v(e._s(this.$t("common.button.confirm")))])],1)],1),a("portal-dialog",{ref:"selectOperatorDialogRef",staticClass:"select-operator-dialog",attrs:{title:"Select Operator",dialogVisible:e.selectOperatorDialogVisible,searchForm:e.selectOperatorSearchForm,needSearchFormBottomLine:!0,dialogTable:e.selectOperatorDialogTable,formRules:e.formRules,searchLoading:e.selectOperatorSearchLoading},on:{"update:dialogVisible":function(a){e.selectOperatorDialogVisible=a},"update:dialog-visible":function(a){e.selectOperatorDialogVisible=a},"update:searchLoading":function(a){e.selectOperatorSearchLoading=a},"update:search-loading":function(a){e.selectOperatorSearchLoading=a},"close-dialog":e.selectOperatorCloseDialog,"search-reset":e.selectOperatorDialogReset,"cancel-btn-click":e.selectOperatorCloseDialog,"confirm-btn-click":e.comfirmCurrentHandler}}),a("portal-dialog",{ref:"assignDialogRef",staticClass:"assign-form",attrs:{title:"Assign Task",dialogVisible:e.assignTaskDialogVisible,searchForm:e.assignTaskSearchForm,configForm:e.assignConfigForm,needSearchFormBottomLine:!0,configFormBottomLine:!0,isOverflowHeight:!0,formRules:e.formRules,configFormRules:e.configFormRules,dialogTable:e.assignTaskDialogTable,searchLoading:e.assignTaskDialogTable.isSearch},on:{"update:dialogVisible":function(a){e.assignTaskDialogVisible=a},"update:dialog-visible":function(a){e.assignTaskDialogVisible=a},"update:searchLoading":function(a){return e.$set(e.assignTaskDialogTable,"isSearch",a)},"update:search-loading":function(a){return e.$set(e.assignTaskDialogTable,"isSearch",a)},"close-dialog":e.assignTaskCloseDialog,"search-reset":e.assignTaskDialogReset,"cancel-btn-click":e.assignTaskCloseDialog,"confirm-btn-click":e.comfirmAssignHandler}},[a("template",{slot:"operation"},[a("div",{staticClass:"check-operator"},[a("div",{staticClass:"check-label"},[e._v("Select Type")]),a("el-radio-group",{on:{change:e.checkChange},model:{value:e.checkRadio,callback:function(a){e.checkRadio=a},expression:"checkRadio"}},[a("el-radio",{attrs:{label:"operator"}},[e._v("Operator")]),a("el-radio",{attrs:{label:"role"}},[e._v("Role")])],1)],1)])],2)],1)])},i=[],r=t("3186"),o=t("4c09"),l=t("d91c"),n=t("4d26"),c=t("a10b"),h=t("8e76"),m=t("5a0c"),d=t.n(m),g={name:"activeTaskManagement",components:{PortalForm:r["a"],TablePage:o["a"],PortalDialog:l["a"],PortalPagination:n["a"]},data(){return{projectObj:{title:this.$t("TAC.activeTaskManagement.title"),desc:this.$t("TAC.activeTaskManagement.desc")},searchLoading:!1,searchFormPriority:[{label:"All",value:""}],searchFormTaskType:[{label:"All",value:""}],searchFormStatus:[{label:"All",value:""}],formData:{taskNo:"",priority:"",taskName:"",taskType:"",status:"",dueTime:"",startTime:"",currentHandler:""},dateValidate:Object(c["a"])(),curSelectTaskNameToTaskType:"",selectOperatorId:"",sortTimeList:[],sortTime:"",tempCurrentHandler:{},tempOperatorId:"",columns:[{label:this.$t("TAC.myTodo.taskNo"),prop:"taskNo",align:"left",width:"150px"},{label:this.$t("TAC.myTodo.description"),prop:"description",align:"left",width:"200px"},{label:this.$t("TAC.myTodo.priority"),prop:"priority",align:"left",width:"150px"},{label:this.$t("TAC.myTodo.creationTime"),prop:"creationTime",width:"150px",align:"left","sort-method":(e,a)=>e.creationTime>a.creationTime?1:-1},{label:this.$t("TAC.myTodo.dueTime"),prop:"dueTime",width:"150px",align:"left","sort-method":(e,a)=>e.dueTime>a.dueTime?1:-1},{label:this.$t("TAC.activeTaskManagement.initiator"),prop:"initiator",align:"left",width:"150px"},{label:this.$t("TAC.myInitiatedWorkFlow.status"),prop:"status",align:"left",width:"130px",__slotName:"taskStatus","sort-method":(e,a)=>e.status>a.status?1:-1},{label:this.$t("TAC.activeTaskManagement.currentHandler"),prop:"currentHandler",align:"left",width:"150px"},{label:this.$t("TAC.myTodo.taskType"),prop:"taskType",align:"left",width:"150px"},{label:this.$t("TAC.myInitiatedWorkFlow.operation"),prop:"operation",align:"left",width:"150px",__slotName:"operation",fixed:"right"}],checkLists:[],checkNums:[],tempCheckList:[],assignDialigSelectData:[],hasPagination:!1,paginationConfig:{total:0,pageIndex:1,pageSize:10},isSearch:!1,taskNameDialogVisible:!1,dialogTaskNameFormBtnLoading:!1,taskNameSearchFormData:{taskName:"",taskType:""},dialogTable:{columns:[{label:this.$t("TAC.myTodo.taskName"),prop:"taskName",align:"left"},{label:this.$t("TAC.myTodo.taskType"),prop:"taskType",align:"left"}],isSearch:!1,isSingleCheck:!0,hasPagination:!0,getTableData:this.getDialogTaskName,singleChange:this.selectTaskName},taskNameCount:0,taskNameHasData:!0,taskNamePageSize:5,taskNameSearchLoading:!1,tempTaskName:{},handlerNewSearchType:!1,selectOperatorDialogVisible:!1,selectOperatorDialogTable:{columns:[{label:this.$t("TAC.myTodo.userName"),prop:"userName",align:"left"},{label:this.$t("TAC.myTodo.firstName"),prop:"firstName",align:"left"},{label:this.$t("TAC.myTodo.middleName"),prop:"middleName",align:"left"},{label:this.$t("TAC.myTodo.lastName"),prop:"lastName",align:"left"}],isSearch:!1,hasPagination:!0,isSingleCheck:!0,getTableData:this.getCurrentHandlerData,paginationConfig:{total:0,pageIndex:1,pageSize:5},singleChange:this.selectOperator},selectOperatorSearchLoading:!1,selectOperatorSearchFormData:{userName:"",firstName:"",middleName:"",lastName:"",operatorType:"",shortCode:""},formRules:Object(c["c"])(),checkRadio:"operator",tempData:{},tempConfig:{label:this.$t("TAC.activeTaskManagement.shortCode"),formItemClass:"sort-code",key:"shortCode",prop:"shortCode",comp:"el-input",bind:{clearable:!0,placeholder:this.$t("common.placeholder.enter")}},taskNameDialogList:[],assignTaskDialogVisible:!1,assignTaskDialogTable:{columns:[{label:this.$t("TAC.myTodo.userName"),prop:"userName",align:"left"},{label:this.$t("TAC.myTodo.firstName"),prop:"firstName",align:"left"},{label:this.$t("TAC.myTodo.middleName"),prop:"middleName",align:"left"},{label:this.$t("TAC.myTodo.lastName"),prop:"lastName",align:"left"}],isSearch:!1,hasPagination:!0,getTableData:this.getAssignTableDate,paginationConfig:{total:0,pageIndex:1,pageSize:5},onSelectionChange:this.assignDialigSelectChange},assignTaskSearchFormData:{userName:"",firstName:"",middleName:"",shortCode:"",lastName:"",operatorType:""},newSearchType:!1,switchText:"No",assignConfigFormData:{resetDueTime:!1,comments:""},configFormRules:{resetDueTime:[{required:!0,message:"please enter",trigger:"change"}],comments:[{required:!0,message:"This field is mandatory.",trigger:"blur"}]},pickerOptions:{onPick:({maxDate:e,minDate:a})=>{this.selectDate=a.getTime(),e&&(this.selectDate="")},disabledDate:e=>{if(""!==this.selectDate){const a=2592e6,t=this.selectDate-a,s=this.selectDate+a;return e.getTime()<t||e.getTime()>s}}},delegateRoleSearchFormConfigList:[{label:this.$t("TAC.myTodo.roleName"),key:"roleName",prop:"roleName",comp:"el-input",bind:{clearable:!0,placeholder:this.$t("common.placeholder.enter")}},{label:this.$t("TAC.myTodo.roleCategory"),key:"roleCategory",prop:"roleCategory",comp:"el-select",options:[{value:"",label:"All"},{value:"3000",label:"Organization Operator"},{value:"5000",label:"Organization"},{value:"7000",label:"Group"},{value:"8000",label:"SP"}],bind:{clearable:!0,placeholder:this.$t("common.placeholder.select")}}],delegateRoleSearchFormData:{roleName:"",roleCategory:""},tempAssignTableCol:[],shortCodeConfig:{label:this.$t("TAC.myTodo.orgShortCode"),formItemClass:"sort-code",key:"shortCode",prop:"shortCode",comp:"el-input",bind:{clearable:!0,placeholder:this.$t("common.placeholder.enter")}}}},computed:{isDisabled(){return!(this.checkNums.length>0)},formConfigList(){return[{label:this.$t("TAC.myTodo.taskNo"),formItemClass:"taskNo",key:"taskNo",prop:"taskNo",comp:"el-input",bind:{clearable:!0,placeholder:this.$t("common.placeholder.enter")}},{label:this.$t("TAC.myTodo.priority"),key:"priority",prop:"priority",comp:"el-select",options:this.searchFormPriority,bind:{placeholder:this.$t("common.placeholder.enter")}},{formItemClass:"org-short-code",label:this.$t("TAC.myTodo.taskName"),key:"taskName",prop:"taskName",comp:"el-input",bind:{clearable:!0,placeholder:this.$t("common.placeholder.select")},slots:[{comp:"el-link",name:"append",class:"short-code-icon",bind:{icon:"el-icon-more",underline:!1},event:{click:()=>{this.taskNameDialogVisible=!0,this.taskNameSearchForm.formData.taskType=this.searchFormTaskType[0].value,this.dialogTable.isSearch=!0}}}]},{label:this.$t("TAC.myTodo.taskType"),key:"taskType",prop:"taskType",comp:"el-select",options:this.searchFormTaskType,bind:{placeholder:this.$t("common.placeholder.enter")}},{formItemClass:"org-short-code",label:this.$t("TAC.activeTaskManagement.currentHandler"),key:"currentHandler",prop:"currentHandler",comp:"el-input",bind:{clearable:!0,placeholder:this.$t("common.placeholder.select")},slots:[{comp:"el-link",name:"append",class:"short-code-icon",bind:{icon:"el-icon-more",underline:!1},event:{click:()=>{this.selectOperatorDialogVisible=!0,this.selectOperatorSearchFormData.operatorType="spOperator",this.selectOperatorDialogTable.isSearch=!0}}}]},{label:this.$t("TAC.myTodo.status"),key:"status",prop:"status",comp:"el-select",options:this.searchFormStatus,bind:{placeholder:this.$t("common.placeholder.select")}},{formItemClass:"due-time",label:this.$t("TAC.myTodo.dueTime"),prop:"dueTime",key:"dueTime",comp:"el-date-picker",bind:{type:"datetime",format:"dd/MM/yyyy HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:this.$t("common.placeholder.select")}},{label:this.$t("TAC.myTodo.creationTime"),formItemClass:"form-special-date-box",sameGroup:!0,prop:"startTime",comp:[{key:"startTime",comp:"el-date-picker",bind:{placeholder:this.$t("common.placeholder.enter"),align:"right",type:"datetimerange","picker-options":this.pickerOptions,format:"dd/MM/yyyy HH:mm:ss","range-separator":"~","value-format":"yyyy-MM-dd HH:mm:ss","default-time":["00:00:00","23:59:59"],"start-placeholder":"Please select","end-placeholder":"Please select"}},{comp:"i",class:"el-icon-date data_icon"}]}]},taskNameSearchForm(){return{formConfigList:[{label:this.$t("TAC.myTodo.taskName"),key:"taskName",prop:"taskName",comp:"el-input",bind:{clearable:!0,placeholder:this.$t("common.placeholder.enter")}},{label:this.$t("TAC.myTodo.taskType"),key:"taskType",prop:"taskType",comp:"el-select",options:this.searchFormTaskType,bind:{clearable:!0,placeholder:this.$t("common.placeholder.select")}}],formData:this.taskNameSearchFormData}},selectOperatorSearchForm(){return{formConfigList:[{label:this.$t("TAC.myTodo.operatorType"),key:"operatorType",prop:"operatorType",comp:"el-select",options:[{value:"orgOperator",label:"Organization Operator"},{value:"spOperator",label:"SP Operator"}],bind:{placeholder:this.$t("common.placeholder.select")}},{label:this.$t("TAC.myTodo.userName"),key:"userName",prop:"userName",comp:"el-input",bind:{clearable:!0,placeholder:this.$t("common.placeholder.enter")}},{label:this.$t("TAC.myTodo.firstName"),key:"firstName",prop:"firstName",comp:"el-input",bind:{clearable:!0,placeholder:this.$t("common.placeholder.enter")}},{label:this.$t("TAC.myTodo.middleName"),key:"middleName",prop:"middleName",comp:"el-input",formItemClass:{isShow:!0},bind:{clearable:!0,placeholder:this.$t("common.placeholder.enter")}},{label:this.$t("TAC.myTodo.lastName"),key:"lastName",prop:"lastName",comp:"el-input",bind:{clearable:!0,placeholder:this.$t("common.placeholder.enter")}}],formData:this.selectOperatorSearchFormData}},assignTaskSearchForm(){return"operator"===this.checkRadio?{formConfigList:[{label:this.$t("TAC.myTodo.operatorType"),key:"operatorType",prop:"operatorType",comp:"el-select",options:[{value:"orgOperator",label:"Organization Operator"},{value:"spOperator",label:"SP Operator"}],bind:{placeholder:this.$t("common.placeholder.select")}},{label:this.$t("TAC.myTodo.userName"),key:"userName",prop:"userName",comp:"el-input",bind:{clearable:!0,placeholder:this.$t("common.placeholder.enter")}},{label:this.$t("TAC.myTodo.firstName"),key:"firstName",prop:"firstName",comp:"el-input",bind:{clearable:!0,placeholder:this.$t("common.placeholder.enter")}},{label:this.$t("TAC.myTodo.middleName"),key:"middleName",prop:"middleName",comp:"el-input",formItemClass:{isShow:!0},bind:{clearable:!0,placeholder:this.$t("common.placeholder.enter")}},{label:this.$t("TAC.myTodo.lastName"),key:"lastName",prop:"lastName",comp:"el-input",bind:{clearable:!0,placeholder:this.$t("common.placeholder.enter")}}],formData:this.assignTaskSearchFormData}:{formConfigList:this.delegateRoleSearchFormConfigList,formData:this.delegateRoleSearchFormData}},assignConfigForm(){return{formConfigList:[{label:this.$t("TAC.activeTaskManagement.resetDueTime"),key:"resetDueTime",prop:"resetDueTime",comp:"el-switch",bind:{"active-text":this.switchText,clearable:!0,placeholder:this.$t("common.placeholder.enter")},event:{change:this.switchTextChange}},{formItemClass:"assign-comments",label:this.$t("TAC.activeTaskManagement.comments"),key:"comments",prop:"comments",comp:"el-input",bind:{type:"textarea",clearable:!0,placeholder:this.$t("common.placeholder.enter")}}],formData:this.assignConfigFormData}}},created(){this.formData.startTime=[d()(new Date(new Date(d()().year(),d()().month(),d()().date(),0,0,0).getTime()-6048e5)).format("YYYY-MM-DD HH:mm:ss"),d()(new Date(d()().year(),d()().month(),d()().date(),23,59,59)).format("YYYY-MM-DD HH:mm:ss")],this.queryDictDataList()},watch:{selectOperatorSearchFormData:{handler(e){"orgOperator"===e.operatorType?5===this.selectOperatorSearchForm.formConfigList.length&&(this.handlerNewSearchType=!0,this.selectOperatorSearchForm.formConfigList.splice(1,0,this.tempConfig)):6===this.selectOperatorSearchForm.formConfigList.length&&(this.handlerNewSearchType=!1,this.selectOperatorSearchForm.formConfigList.splice(1,1)),""!==e.shortCode&&this.$refs.selectOperatorDialogRef.$refs.dialogSearchForm.clearValidate("shortCode")},deep:!0},assignTaskSearchFormData:{handler(e){"orgOperator"===e.operatorType?5===this.assignTaskSearchForm.formConfigList.length&&(this.newSearchType=!0,this.assignTaskSearchForm.formConfigList.splice(1,0,this.shortCodeConfig)):6===this.assignTaskSearchForm.formConfigList.length&&(this.newSearchType=!1,this.assignTaskSearchForm.formConfigList.splice(1,1)),""!==e.shortCode&&this.$refs.assignDialogRef.$refs.dialogSearchForm.clearValidate("shortCode")},deep:!0},handlerNewSearchType(e){e?(this.selectOperatorDialogTable.getTableData=this.emptyQuery,this.selectOperatorDialogTable.isSearch=this.true,this.$nextTick(()=>{this.selectOperatorDialogTable.getTableData=this.getOrgCurrentHandlerData})):this.selectOperatorDialogTable.getTableData=this.getCurrentHandlerData},newSearchType(e){e?(this.assignTaskDialogTable.getTableData=this.emptyQuery,this.assignTaskDialogTable.isSearch=!0,this.$nextTick(()=>{this.assignTaskDialogTable.getTableData=this.getOrgAssignDialogData})):this.assignTaskDialogTable.getTableData=this.getAssignTableDate},formData:{handler(e){this.curSelectTaskNameToTaskType!==e.taskType&&(this.formData.taskName="")},deep:!0},delegateRoleSearchFormData:{handler(){this.delegateRoleSearchFormData.roleName?this.$refs.assignDialogRef.$refs.dialogSearchForm.validate():this.$refs.assignDialogRef.$refs.dialogSearchForm.clearValidate()},deep:!0}},methods:{emptyQuery(){return new Promise(e=>{this.assignTaskDialogTable.isSearch=!1,e({header:{success:!0},list:[],totalRecords:0})})},statusStyle(e){switch(e.status){case"Processing":return{"background-color":""+this.GlobalStyleVariables.statusNoticeColor};case"Paused":return{"background-color":""+this.GlobalStyleVariables.statusColorSAecondaryWarning};case"Completed":return{"background-color":""+this.GlobalStyleVariables.statusSuccessColor};default:break}},search(){this.$refs.searchFormRef.validate(e=>{e&&(this.searchLoading=!0,this.isSearch=!0)})},async queryDictDataList(){let e=await Object(h["v"])({dictCodes:["CPS.WORKFLOW.CONFIGURATION.PRIORITY","CPS.TASK.TYPE","CPS.WORKFLOW.TODO.TASK.STATE","WORK_FLOW_SORT_TIME"]});e.header&&e.header.success&&(this.searchFormPriority=e.dictDetailsMap["CPS.WORKFLOW.CONFIGURATION.PRIORITY"],"All"!==this.searchFormPriority[0].label&&this.searchFormPriority.unshift({label:"All",value:""}),this.searchFormTaskType=e.dictDetailsMap["CPS.TASK.TYPE"],this.searchFormStatus=e.dictDetailsMap["CPS.WORKFLOW.TODO.TASK.STATE"],"All"!==this.searchFormStatus[0].label&&this.searchFormStatus.unshift({label:"All",value:""}),this.sortTimeList=e.dictDetailsMap["WORK_FLOW_SORT_TIME"],this.sortTime="CREATE_TIME_LATEST")},resetSearch(){this.$refs.searchFormRef.resetFields(),this.selectOperatorId="",this.isSearch=!0},async getDialogTaskName(){let e="",a="";this.searchFormTaskType.some(e=>{if(e.value===this.taskNameSearchFormData.taskType)return a=e.label,!0}),a&&"All"!==a&&(e="Transaction and Action"===a?"TRANSATION_AND_ACTION":a.toUpperCase().split(" ").join("_"));let t={taskNameCondition:this.taskNameSearchFormData.taskName,taskTypeCondition:e},s=await Object(h["t"])(t);if(this.dialogTaskNameFormBtnLoading=!1,this.dialogTable.isSearch=!1,s.taskTypeList&&s.taskTypeList.length>0){this.taskNameCount=s.taskTypeList.length,this.taskNameHasData=!1;let e=s.taskTypeList.map(e=>(e.taskType=e.category,e));return this.taskNameDialogList=e,{header:{success:!0},list:e.slice(0,this.taskNamePageSize)}}return{header:{success:!1}}},switchTextChange(e){this.switchText=e?"Yes":"No"},selectTaskDialogSearch(){this.dialogTable.isSearch=!0,this.dialogTaskNameFormBtnLoading=!0},selectTaskDialogReset(){this.$refs.dialogTaskNameForm.resetFields(),this.dialogTable.isSearch=!0},handleTaskNameSizeChange(e){let a=e.pageIndex,t=e.pageSize;this.taskNamePageSize=e.pageSize,this.$refs.taskNameTableRef.tableData=this.taskNameDialogList.slice((a-1)*this.taskNamePageSize,(a-1)*this.taskNamePageSize+t)},getCurrentHandlerData(){return new Promise(e=>{let a={operatorType:20,selectType:"operator",status:"03",userName:this.selectOperatorSearchFormData.userName,firstName:this.selectOperatorSearchFormData.firstName,middleName:this.selectOperatorSearchFormData.middleName,lastName:this.selectOperatorSearchFormData.lastName,pageNo:this.selectOperatorDialogTable.paginationConfig.pageIndex,pageSize:this.selectOperatorDialogTable.paginationConfig.pageSize};Object(h["h"])(a).then(a=>{if(this.selectOperatorSearchLoading=!1,this.selectOperatorDialogTable.isSearch=!1,a.list=a.list.map(e=>(e.id=e.identityId,e)),a.header&&a.header.success)return e({header:a.header,list:a.list,totalRecords:a.total});this.selectOperatorDialogTable.isSearch=!1}).catch(()=>{this.selectOperatorSearchLoading=!1,e({header:{success:!1}})})})},async getOrgCurrentHandlerData(){let e={shortCode:this.selectOperatorSearchFormData.shortCode,operatorName:this.selectOperatorSearchFormData.userName,selectType:"operator",operatorType:30,status:"03",pageNo:this.selectOperatorDialogTable.paginationConfig.pageIndex,pageSize:this.selectOperatorDialogTable.paginationConfig.pageSize},a=await Object(h["o"])(e);if(this.selectOperatorSearchLoading=!1,this.selectOperatorDialogTable.isSearch=!1,a.header&&a.header.success){let e=a.list.map(e=>(e.id=e.operatorId,e));return{header:a.header,list:e,totalRecords:a.totalSize}}return{header:{success:!1}}},getAssignTableDate(){return new Promise(e=>{let a={operatorType:20,status:"03",selectType:"operator",userName:this.assignTaskSearchFormData.userName,firstName:this.assignTaskSearchFormData.firstName,middleName:this.assignTaskSearchFormData.middleName,lastName:this.assignTaskSearchFormData.lastName,pageNo:this.assignTaskDialogTable.paginationConfig.pageIndex,pageSize:this.assignTaskDialogTable.paginationConfig.pageSize};Object(h["h"])(a).then(a=>{if(this.assignTaskDialogTable.isSearch=!1,a.header&&a.header.success)return a.list.forEach((e,t)=>{a.list[t].id=e.identityId}),e({header:a.header,list:a.list,totalRecords:a.total});this.assignTaskDialogTable.isSearch=!1})})},async getOrgAssignDialogData(){let e={shortCode:this.assignTaskSearchFormData.shortCode,operatorName:this.assignTaskSearchFormData.userName,selectType:"operator",operatorType:30,status:"03",pageNo:this.assignTaskDialogTable.paginationConfig.pageIndex,pageSize:this.assignTaskDialogTable.paginationConfig.pageSize},a=await Object(h["o"])(e);if(this.assignTaskDialogTable.isSearch=!1,a.header&&a.header.success){let e=a.list.map(e=>e);return{header:a.header,list:e,totalRecords:a.totalSize}}return{header:{success:!1}}},selectionChange(e){this.checkNums=e,this.checkLists=e},selectOperator(e){this.tempCurrentHandler=e,this.selectOperatorId=e.identityId,this.tempOperatorId=e.identityId},selectTaskName(e){this.tempTaskName=e},comfirmTaskNameHandler(){if(Array.isArray(this.tempTaskName)){if(!this.tempTaskName.length)return void this.$modal.msgError("Please select at least one.")}else if(!Object.keys(this.tempTaskName).length)return void this.$modal.msgError("Please select at least one.");if(this.formData.taskName=this.tempTaskName.taskName,"TRANSATION_AND_ACTION"===this.tempTaskName.taskType)this.formData.taskType="Transaction and Action",this.curSelectTaskNameToTaskType="Transaction and Action";else if(this.tempTaskName.taskType){let e=this.tempTaskName.taskType.toLocaleLowerCase().split("_").map(e=>e.replace(e[0],e[0].toLocaleUpperCase()));this.formData.taskType=e.join(" "),this.curSelectTaskNameToTaskType=e.join(" ")}this.taskNameDialogVisible=!1},comfirmCurrentHandler(){if(Array.isArray(this.tempCurrentHandler)){if(!this.tempCurrentHandler.length)return void this.$modal.msgError("Please select at least one.")}else if(!Object.keys(this.tempCurrentHandler).length)return void this.$modal.msgError("Please select at least one.");this.formData.currentHandler=this.tempCurrentHandler.userName,this.tempCurrentHandler={},this.selectOperatorDialogTable.isSearch=!1,this.selectOperatorDialogVisible=!1},resConverseList(e,a){a.list=e.map(e=>{let a="";a="200"===e.taskPriority?"High":"100"===e.taskPriority?"Medium":"Low";let t=e.createTime.split(" "),s=t[0].split("-"),i=s[2]+"/"+s[1]+"/"+s[0]+" "+t[1],r=e.expireTime.split(" "),o=r[0].split("-"),l=o[2]+"/"+o[1]+"/"+o[0]+" "+r[1],n="";return this.searchFormTaskType.some(a=>{if(a.value===e.category)return n=a.label,!0}),{taskNo:e.taskId,description:e.taskDesc,workflowName:e.procDefId,priority:a,creationTime:i,dueTime:l,initiator:e.initiatorName,currentHandler:e.ownerName,taskType:n,status:e.taskState,processId:e.processId,adminFlag:e.adminFlag,processFlag:e.processFlag,taskState:e.taskState,formURL:e.formURL,viewFlag:e.viewFlag}})},async getTableData(){let e="";this.formData.taskType.length>1?this.searchFormTaskType.some(a=>{if(a.label===this.formData.taskType)return e=a.value,!0}):e=this.formData.taskType;let a={priority:this.formData.priority||null,taskId:this.formData.taskNo,taskName:this.formData.taskName,category:e,ownerId:this.selectOperatorId,status:this.formData.status||null,dueTime:this.formData.dueTime||null,pageNo:this.paginationConfig.pageIndex,createTimeFrom:this.formData.startTime[0],createTimeTo:this.formData.startTime[1],sortingMode:this.sortTime||"CREATE_TIME_LATEST",pageSize:this.paginationConfig.pageSize},t=await Object(h["d"])({taskVO:a});if(this.isSearch=!1,this.searchLoading=!1,t.header&&t.header.success)return t.taskDTOList.length>0?(this.hasPagination=!0,t.totalRecords=t.count,this.searchFormTaskType.length<2?(await this.queryDictDataList(),this.resConverseList(t.taskDTOList,t),t):(this.resConverseList(t.taskDTOList,t),t)):{header:t.header,list:[]}},assignDialigSelectChange(e){this.assignDialigSelectData=e},assignBtnIsShow(e){return"Paused"!==e.taskState&&e.adminFlag},detailBtnIsShow(e){return"Paused"!==e.taskState&&e.viewFlag},handleDetail(e){this.openNewWindow({path:"detail",query:e})},handleAssign(e){this.checkLists.length>0&&(this.tempCheckList=this.checkLists.splice(0)),this.checkLists.push(e),this.assignTaskSearchFormData.operatorType="spOperator",this.assignTaskDialogVisible=!0},closeDialog(){this.$refs.dialogTaskNameForm.resetFields(),this.taskNameDialogVisible=!1},selectTaskNameDialogReset(){this.$refs.selectTaskNameDialogRef.$refs.dialogSearchForm.resetFields(),this.dialogTable.isSearch=!0},selectOperatorDialogReset(){this.$refs.selectOperatorDialogRef.$refs.dialogSearchForm.resetFields(),this.handlerNewSearchType=!1,Object.keys(this.$refs.selectOperatorDialogRef.$refs.dialogSearchForm.formData).forEach(e=>{this.$refs.selectOperatorDialogRef.$refs.dialogSearchForm.formData[e]=""}),this.selectOperatorSearchForm.formData.operatorType="spOperator",this.$nextTick(()=>{this.selectOperatorDialogTable.isSearch=!0})},selectOperatorCloseDialog(){this.selectOperatorDialogVisible=!1,this.tempOperatorId="",this.tempCurrentHandler="",this.selectOperatorDialogReset()},qeuryRoleData(){let e={selectType:"role",roleName:this.delegateRoleSearchFormData.roleName,roleCategory:this.delegateRoleSearchFormData.roleCategory,pageNo:this.assignTaskDialogTable.paginationConfig.pageIndex,pageSize:this.assignTaskDialogTable.paginationConfig.pageSize};return new Promise(a=>{Object(h["q"])(e).then(e=>{if(this.assignTaskDialogTable.isSearch=!1,e.header&&e.header.success){let t=e.list.map(e=>{switch(e.id=e.roleId,e.roleType){case"2000":e.roleCategory="Sp Operator";break;case"3000":e.roleCategory="Organization Operator";break;case"5000":e.roleCategory="Organization";break;case"7000":e.roleCategory="GROUP";break;case"8000":e.roleCategory="SP";break;default:break}return e});this.delegateRoleSearchFormData.roleCategory&&(t=t.filter(e=>e.roleType.includes(this.delegateRoleSearchFormData.roleCategory))),a({header:e.header,list:t.slice((this.assignTaskDialogTable.paginationConfig.pageIndex-1)*this.assignTaskDialogTable.paginationConfig.pageSize,this.assignTaskDialogTable.paginationConfig.pageSize*this.assignTaskDialogTable.paginationConfig.pageIndex),totalRecords:t.length})}}).catch(()=>{this.assignTaskDialogTable.isSearch=!1,a({header:{success:!1}})})})},checkChange(e){"role"===e?(this.tempAssignTableCol=JSON.parse(JSON.stringify(this.selectOperatorDialogTable.columns)),this.assignTaskDialogTable.columns=[{label:this.$t("TAC.myTodo.role"),prop:"roleName",align:"left"},{label:this.$t("TAC.myTodo.description"),prop:"description",align:"left"},{label:this.$t("TAC.myTodo.roleCategory"),prop:"roleCategory",align:"left"}],this.assignTaskDialogTable.getTableData=this.qeuryRoleData,this.$nextTick(()=>{this.assignTaskDialogTable.isSearch=!0})):(this.assignTaskDialogTable.columns=this.tempAssignTableCol,this.assignTaskDialogTable.getTableData=this.getAssignTableDate,this.assignTaskDialogReset())},handleCommand(e){this.sortTime=e,this.isSearch=!0},assignEvent(){if(this.checkLists.length>0){let e=this.checkLists.map(e=>this.assignBtnIsShow(e));if(e.includes(!1))return void this.$modal.alertError("Operation failed because the selected records contain records cannot be resolved");this.assignTaskSearchFormData.operatorType="spOperator",this.assignTaskDialogVisible=!0}else this.$modal.alertError("Please select at least one.")},assignTaskCloseDialog(){this.$refs.assignDialogRef.$refs.dialogConfigForm.resetFields(),this.tempCheckList.length>0&&(this.checkLists.splice(0),this.checkLists=this.tempCheckList.splice(0)),this.assignTaskDialogVisible=!1,this.assignTaskDialogReset()},assignTaskDialogReset(){this.$refs.assignDialogRef.$refs.dialogSearchForm.resetFields(),Object.keys(this.$refs.assignDialogRef.$refs.dialogSearchForm.formData).forEach(e=>{this.$refs.assignDialogRef.$refs.dialogSearchForm.formData[e]=""}),this.assignTaskDialogTable.isSearch=!0,this.handlerNewSearchType=!1,this.assignTaskSearchForm.formData.operatorType="spOperator",this.$nextTick(()=>{this.delegateRoleSearchFormData.roleName="",this.assignTaskDialogTable.isSearch=!0})},comfirmAssignHandler(){this.$refs.assignDialogRef.$refs.dialogConfigForm.validate(e=>{if(e){if(0===this.assignDialigSelectData.length)return void this.$modal.msgError("Please select at least one.");let e=this.checkLists.length>1,a=this.checkLists.map(e=>({processId:e.processId,taskId:e.taskNo})),t=0;"operator"===this.checkRadio?t="1":"role"===this.checkRadio&&(t="3");let s=this.assignDialigSelectData.map(e=>e.roleId?{roleId:e.roleId}:{operatorId:e.identityId,operatorType:t,operatorName:e.userName});Object(h["a"])({actionType:"assign",isResetExpireTime:this.assignConfigForm.formData.resetDueTime,comments:this.assignConfigForm.formData.comments,isBatch:e,processList:a,assigneeType:t,assignee:s}).then(e=>{e.header&&e.header.success&&(this.$refs.assignDialogRef.$refs.dialogConfigForm.resetFields(),this.$refs.assignDialogRef.$refs.dialogSearchForm.resetFields(),this.assignTaskDialogVisible=!1,this.delegateDialogVisible=!1,this.isSearch=!0)})}})}}},p=g,u=(t("8acd"),t("2877")),f=Object(u["a"])(p,s,i,!1,null,"a4943d50",null);a["default"]=f.exports},"7f33":function(e,a,t){},"8acd":function(e,a,t){"use strict";t("11c2")},"8e76":function(e,a,t){"use strict";t.d(a,"n",(function(){return r})),t.d(a,"j",(function(){return o})),t.d(a,"t",(function(){return l})),t.d(a,"w",(function(){return n})),t.d(a,"h",(function(){return c})),t.d(a,"o",(function(){return h})),t.d(a,"q",(function(){return m})),t.d(a,"a",(function(){return d})),t.d(a,"d",(function(){return g})),t.d(a,"k",(function(){return p})),t.d(a,"m",(function(){return u})),t.d(a,"v",(function(){return f})),t.d(a,"s",(function(){return T})),t.d(a,"x",(function(){return b})),t.d(a,"i",(function(){return k})),t.d(a,"p",(function(){return y})),t.d(a,"b",(function(){return C})),t.d(a,"g",(function(){return D})),t.d(a,"u",(function(){return S})),t.d(a,"c",(function(){return N})),t.d(a,"l",(function(){return O})),t.d(a,"f",(function(){return F})),t.d(a,"e",(function(){return v})),t.d(a,"r",(function(){return L}));var s=t("0bbd"),i=t("5f9a");t("64e7");function r(e){return Object(s["a"])({url:"/fintech/v1/workFlow/queryMyToDoTask",method:"post",data:e})}function o(e){return Object(s["a"])({url:"/fintech/v1/workFlow/queryGroupTask",method:"post",data:e})}function l(e){return Object(s["a"])({url:"/fintech/v1/workFlow/task-type/list",method:"post",data:e})}function n(e){return Object(s["a"])({url:"/fintech/v1/workFlow/workFlow-name/list",method:"post",data:e})}function c(e){return Object(s["a"])({url:"/fintech/v1/workFlow/spOperator/list",method:"post",data:e})}function h(e){return Object(s["a"])({url:"/fintech/v1/orgOperator/queryOrgOperatorList",method:"post",data:e})}function m(e){return Object(s["a"])({url:"/fintech/role/v1/list",method:"post",data:e})}function d(e){return Object(s["a"])({url:"/fintech/v1/workflow/mytask/task/batchProcess",method:"post",data:e})}function g(e){return Object(s["a"])({url:"/fintech/v1/workFlow/queryActiveTask",method:"post",data:e})}function p(e){return Object(s["a"])({url:"/fintech/v1/workFlow/queryHistoryTask",method:"post",data:e})}function u(e){return Object(s["a"])({url:"/fintech/v1/workFlow/queryInitiatedWorkflow",method:"post",data:e})}function f(e){return Object(s["a"])({url:"/fintech/v1/workFlow/data-dict/list",method:"post",data:e})}function T(e){return Object(s["a"])({url:"/fintech/v1/workflow/process/details",method:"post",data:e})}function b(e){return Object(s["a"])({url:"/fintech/v1/searchTransactionByOrderId",method:"post",data:e})}function k(e){return Object(s["a"])({url:"/fintech/v1/transaction/order/orderDetail",method:"post",data:e})}function y(e){return Object(s["a"])({url:"/fintech/v1/orgOperator/detail?receiverIdentityId="+e,method:"get"})}function C(e){return Object(s["a"])({url:"fintech/v1/workFlow/process/backToInitiator",method:"post",data:e})}function D(e){return Object(s["a"])({url:Object(i["a"])("/fintech/v1/bulk/task/plan/detail?planID="+e),method:"get"})}function S(e){return Object(s["a"])({url:"/fintech/v1/bulk/task/plan/validRecords",params:e})}function N(e){return Object(s["a"])({url:"/fintech/v1/workflow/process/kycDetails",method:"post",data:e})}function O(){return Object(s["a"])({url:"/fintech/v1/organization/languages",method:"get"})}const F=e=>Object(s["a"])({url:"/fintech/v1/workFlow/process/backToInitiator",method:"post",data:e});function v(e){return Object(s["a"])({url:"fintech/v1/workFlow/process/backKycToInitiator",method:"post",data:e})}const L=e=>Object(s["a"])({url:"/fintech/v1/organization/querySubscribeProductsForWorkFlow",method:"post",data:e})},a10b:function(e,a,t){"use strict";t.d(a,"c",(function(){return o})),t.d(a,"b",(function(){return n})),t.d(a,"a",(function(){return l}));var s=t("02e3");let i={pattern:/^[^@~`！!#$^*（）()\-+=|,/<>《》?？;':\"“\[\]{}\\&]*$/,message:"Cannot contain special characters (~`!#$^*()-+=|,/<>?;':\"[]{}\\&)",trigger:"blur"};function r(e,a,t){if(a){let e=a[0],s=new Date(e).getTime(),i=a[1],r=new Date(i).getTime(),o=r-s<26784e5;o?t():t(new Error("The time period cannot exceed 31 days"))}t()}const o=()=>({userName:[i],firstName:[i],middleName:[i],lastName:[i],taskNo:[i],taskName:[i],currentHandler:[i],workflowId:[i],workflowName:[i],remark:[i],shortCode:[i,s["e"],{required:!0,message:"This field is mandatory.",trigger:"change"}]}),l=()=>({creationTime:[{required:!1},{validator:r,trigger:"change"}],startTime:[{required:!1},{validator:r,trigger:"change"}]}),n=()=>({operation:[i,s["e"],{required:!0,message:"please enter",trigger:"change"}],remark:[i,s["e"],{required:!0,message:"This field is mandatory.",trigger:"blur"}]})},d91c:function(e,a,t){"use strict";var s=function(){var e=this,a=e._self._c;return a("el-dialog",{staticClass:"dialog-portal",class:{"dialog-overflow":e.isOverflowHeight},attrs:{title:e.title,visible:e.visible,width:e.width,"close-on-click-modal":e.closeOnClickModal,"before-close":e.handleClose},on:{"update:visible":function(a){e.visible=a},opened:e.openedDialog,closed:e.closedDialog}},[e._t("operation"),a("div",{staticStyle:{padding:"0 20px"}},[a("el-divider",{staticClass:"dialog-top-divider"})],1),e.dialogSearchFormVisibility?a("portal-form",{ref:"dialogSearchForm",staticClass:"dialog-search-form",attrs:{needBottomLine:e.needSearchFormBottomLine,"form-config-list":e.searchForm.formConfigList,"form-data":e.searchForm.formData,"form-rules":e.formRules,needOperateBtn:e.needSearchOperateBtn,searchBtnLoading:e.searchLoading,smallAutoColumn:e.smallAutoColumn,bigAutoColumn:e.bigAutoColumn},on:{"common-enter-event":e.enterEvent,"reset-btn-click":e.reset,"search-btn-click":e.search}}):e._e(),e.dialogTableVisibility?a("div",{staticClass:"table-container"},[a("table-page",{ref:"dialogTable",attrs:{"is-check":e.dialogTable.isCheck||!0,"is-search":e.tableIsSearch,columns:e.dialogTable.columns||[],"has-pagination":e.dialogTable.hasPagination||!1,pagination:e.dialogTable.paginationConfig||{},getTableData:e.dialogTable.getTableData,"id-key":e.dialogTable.idKey||"id",isSingleCheck:e.isSingleCheck},on:{"selection-change":e.onSelectionChange,"single-selection-change":e.singleChange}})],1):e._e(),a("div",{staticStyle:{padding:"0 20px"}},[e.configFormBottomLine?a("el-divider",{staticClass:"config-form-bottomLine"}):e._e()],1),e.dialogConfigFormVisibility?a("portal-form",{ref:"dialogConfigForm",staticClass:"dialogConfigForm",attrs:{needBottomLine:!1,"form-config-list":e.configForm.formConfigList,"form-data":e.configForm.formData,"form-rules":e.configFormRules,needOperateBtn:e.needOperateBtn,smallAutoColumn:e.configForm.configSmall||1,bigAutoColumn:e.configForm.configBig||1}}):e._e(),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("button",{staticClass:"cancel-button",on:{click:function(a){return a.preventDefault(),e.handleCancelClick.apply(null,arguments)}}},[e._v(e._s(e.cancelText))]),a("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary",size:"small"},on:{click:e.handleConfirmClick}},[e._v(e._s(e.confirmText))])],1)],2)},i=[],r=t("3186"),o=t("4c09"),l={name:"portalDialog",components:{PortalForm:r["a"],TablePage:o["a"]},props:{title:{type:String,default:""},closeOnClickModal:{type:Boolean,default:!1},dialogVisible:{type:Boolean,default:!1},isOverflowHeight:{type:Boolean,default:!1},width:{type:String,default:"800px"},cancelText:{type:String,default:"Cancel"},confirmText:{type:String,default:"Confirm"},searchForm:{type:Object,default:null},formRules:{type:Object,default:()=>({})},searchLoading:{type:Boolean,default:!1},smallAutoColumn:{type:Number,default:2,validate:e=>!(24%e)},bigAutoColumn:{type:Number,default:2,validate:e=>!(24%e)},enterEvent:{type:Function,default:()=>{}},dialogTable:{type:Object,default:()=>({})},configForm:{type:Object,default:()=>({})},configFormRules:{type:Object,default:()=>({})},needSearchFormBottomLine:{type:Boolean,default:!1},configFormBottomLine:{type:Boolean,default:!1}},data(){return{visible:!1}},computed:{dialogSearchFormVisibility(){return void 0!==this.searchForm.formConfigList&&this.searchForm.formConfigList.length>0},dialogConfigFormVisibility(){return void 0!==this.configForm.formConfigList&&this.configForm.formConfigList.length>0},dialogTableVisibility(){return!!(this.dialogTable&&this.dialogTable.columns.length>0)},needSearchOperateBtn(){return void 0===this.searchForm.needOperateBtn||!!this.searchForm.needOperateBtn},needOperateBtn(){return!!this.configForm.needOperateBtn&&this.configForm.needOperateBtn},tableIsSearch(){return!!this.dialogTable.isSearch},isSingleCheck(){return!!this.dialogTable.isSingleCheck},onSelectionChange(){return this.dialogTable.onSelectionChange?this.dialogTable.onSelectionChange:()=>{}},singleChange(){return this.dialogTable.singleChange?this.dialogTable.singleChange:()=>{}}},watch:{dialogVisible:{handler(e){this.visible=e},immediate:!0},visible:{handler(e){this.$emit("show-dialog",e),this.$emit("update:dialogVisible",e)}}},methods:{handleClose(){this.visible=!1},handleCancelClick(){this.$emit("cancel-btn-click")},handleConfirmClick(){this.$emit("confirm-btn-click")},closedDialog(){this.$emit("closed-dialog")},openedDialog(){this.$emit("opened-dialog")},reset(){this.$emit("search-reset")},search(){this.$refs.dialogSearchForm.validate(e=>{e&&(this.dialogTable.isSearch=!0,this.$emit("update:searchLoading",!0))})}}},n=l,c=(t("ef8d"),t("2877")),h=Object(c["a"])(n,s,i,!1,null,"090905a0",null);a["a"]=h.exports},ef8d:function(e,a,t){"use strict";t("7f33")}}]);
//# sourceMappingURL=chunk-0ab9f805.js.map