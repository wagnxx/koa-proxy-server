(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30f4f1ce"],{"02e3":function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"c",(function(){return r})),a.d(t,"y",(function(){return n})),a.d(t,"z",(function(){return i})),a.d(t,"w",(function(){return c})),a.d(t,"f",(function(){return l})),a.d(t,"u",(function(){return s})),a.d(t,"v",(function(){return d})),a.d(t,"x",(function(){return u})),a.d(t,"g",(function(){return m})),a.d(t,"s",(function(){return f})),a.d(t,"n",(function(){return h})),a.d(t,"r",(function(){return p})),a.d(t,"j",(function(){return g})),a.d(t,"l",(function(){return w})),a.d(t,"q",(function(){return b})),a.d(t,"m",(function(){return k})),a.d(t,"p",(function(){return T})),a.d(t,"k",(function(){return y})),a.d(t,"i",(function(){return C})),a.d(t,"h",(function(){return S})),a.d(t,"t",(function(){return F})),a.d(t,"d",(function(){return D})),a.d(t,"o",(function(){return v})),a.d(t,"a",(function(){return L})),a.d(t,"b",(function(){return O}));let o={required:!0,message:"Please enter content",trigger:"blur"},r={required:!0,message:"Please check content",trigger:"blur"},i={required:!0,message:"Please select content",trigger:"change"},n={pattern:/^[0-9a-zA-Z]*$/,message:"Must be number and letters.",trigger:"blur"},l={pattern:/^[+-]?[0-9]*$/,message:"Must be integer number.",trigger:"blur"},s={pattern:/[0-9]{4}/,message:"The MSISDN must contain at least 4 dligits",trigger:"blur"},c={pattern:/^[^@~`！!#$%^*（）()\-+=|,/<>《》?？;':\"“\[\]{}\\&]*$/,message:"Cannot contain special characters (~`!#$%^*()-+=|,/<>?;':\"[]{}\\&)",trigger:"blur"},d={pattern:/^[^@~`！!#$^*（）()\-+=|,/<>《》?？;':\"“\[\]{}\\&]*$/,message:"Cannot contain special characters (~`!#$^*()-+=|,/<>?;':\"[]{}\\&)",trigger:"blur"},u={pattern:/^[\w- ]+$/,message:"Please do not enter any special characters.",trigger:"blur"};D({minLen:0,maxLen:11});const m=D({minLen:0,maxLen:18}),f=(D({minLen:3,maxLen:3}),D({minLen:6,maxLen:16})),h=(D({minLen:8,maxLen:10}),D({minLen:8,maxLen:11}),D({minLen:4,maxLen:12})),p=D({minLen:6,maxLen:12}),g=D({minLen:0,maxLen:19}),w=D({minLen:0,maxLen:24}),b=D({minLen:0,maxLen:64}),k=(D({minLen:0,maxLen:100}),D({minLen:0,maxLen:256})),T=D({minLen:0,maxLen:512}),y=(D({minLen:8,maxLen:50}),D({minLen:1,maxLen:18})),C=D({minLen:0,maxLen:32}),S=D({minLen:0,maxLen:30}),F=D({minLen:9,maxLen:18});D({minLen:2,maxLen:256});function D({minLen:e=0,maxLen:t=100}){let a="";return a=e>0?`Must be between ${e} and ${t} characters`:`Must be less than ${t} characters`,{min:e,max:t,message:a,trigger:"blur"}}const v=D({minLen:0,maxLen:4});function L(e){let t=[];for(let a in e)e[a]&&e[a].toString().startsWith("%")&&1===e[a].length||!e[a]?t.push(!1):t.push(!0);return!t.every(e=>!1===e)}function O(e){return{validator:(t,a,o)=>{a&&a.startsWith("%")&&1===a.length?o(new Error(""+e)):o()},trigger:"blur"}}},"5c53":function(e,t,a){"use strict";a("f5b7")},"64e7":function(e,t,a){"use strict";var o=a("0360"),r=a("5c96");t["a"]={downLoadFile:function(e,t,a,i){let n=new XMLHttpRequest;n.open(a||"POST",e,!0),n.setRequestHeader("Content-type","application/json"),i&&n.setRequestHeader("X-XSRF-TOKEN",o["default"].get("O-XSRF-TOKEN")),n.setRequestHeader("o-token",o["default"].get("o-token")),n.setRequestHeader("Cache-Control","no-store, max-age=0, must-revalidate"),n.responseType="blob",n.onload=function(){if(200===this.status){let e=this.response,t=n.getResponseHeader("content-disposition").split(";")[1].split("filename=")[1],a=decodeURIComponent(t),o=URL.createObjectURL(e),r=document.createElement("a");r.href=o,r.download=a,r.click()}else r["MessageBox"].alert("Download failed.","Error",{type:"error",confirmButtonText:"Confirm"})},n.send(JSON.stringify(t))}}},"7f33":function(e,t,a){},"8e76":function(e,t,a){"use strict";a.d(t,"n",(function(){return i})),a.d(t,"j",(function(){return n})),a.d(t,"t",(function(){return l})),a.d(t,"w",(function(){return s})),a.d(t,"h",(function(){return c})),a.d(t,"o",(function(){return d})),a.d(t,"q",(function(){return u})),a.d(t,"a",(function(){return m})),a.d(t,"d",(function(){return f})),a.d(t,"k",(function(){return h})),a.d(t,"m",(function(){return p})),a.d(t,"v",(function(){return g})),a.d(t,"s",(function(){return w})),a.d(t,"x",(function(){return b})),a.d(t,"i",(function(){return k})),a.d(t,"p",(function(){return T})),a.d(t,"b",(function(){return y})),a.d(t,"g",(function(){return C})),a.d(t,"u",(function(){return S})),a.d(t,"c",(function(){return F})),a.d(t,"l",(function(){return D})),a.d(t,"f",(function(){return v})),a.d(t,"e",(function(){return L})),a.d(t,"r",(function(){return O}));var o=a("0bbd"),r=a("5f9a");a("64e7");function i(e){return Object(o["a"])({url:"/fintech/v1/workFlow/queryMyToDoTask",method:"post",data:e})}function n(e){return Object(o["a"])({url:"/fintech/v1/workFlow/queryGroupTask",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/fintech/v1/workFlow/task-type/list",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/fintech/v1/workFlow/workFlow-name/list",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/fintech/v1/workFlow/spOperator/list",method:"post",data:e})}function d(e){return Object(o["a"])({url:"/fintech/v1/orgOperator/queryOrgOperatorList",method:"post",data:e})}function u(e){return Object(o["a"])({url:"/fintech/role/v1/list",method:"post",data:e})}function m(e){return Object(o["a"])({url:"/fintech/v1/workflow/mytask/task/batchProcess",method:"post",data:e})}function f(e){return Object(o["a"])({url:"/fintech/v1/workFlow/queryActiveTask",method:"post",data:e})}function h(e){return Object(o["a"])({url:"/fintech/v1/workFlow/queryHistoryTask",method:"post",data:e})}function p(e){return Object(o["a"])({url:"/fintech/v1/workFlow/queryInitiatedWorkflow",method:"post",data:e})}function g(e){return Object(o["a"])({url:"/fintech/v1/workFlow/data-dict/list",method:"post",data:e})}function w(e){return Object(o["a"])({url:"/fintech/v1/workflow/process/details",method:"post",data:e})}function b(e){return Object(o["a"])({url:"/fintech/v1/searchTransactionByOrderId",method:"post",data:e})}function k(e){return Object(o["a"])({url:"/fintech/v1/transaction/order/orderDetail",method:"post",data:e})}function T(e){return Object(o["a"])({url:"/fintech/v1/orgOperator/detail?receiverIdentityId="+e,method:"get"})}function y(e){return Object(o["a"])({url:"fintech/v1/workFlow/process/backToInitiator",method:"post",data:e})}function C(e){return Object(o["a"])({url:Object(r["a"])("/fintech/v1/bulk/task/plan/detail?planID="+e),method:"get"})}function S(e){return Object(o["a"])({url:"/fintech/v1/bulk/task/plan/validRecords",params:e})}function F(e){return Object(o["a"])({url:"/fintech/v1/workflow/process/kycDetails",method:"post",data:e})}function D(){return Object(o["a"])({url:"/fintech/v1/organization/languages",method:"get"})}const v=e=>Object(o["a"])({url:"/fintech/v1/workFlow/process/backToInitiator",method:"post",data:e});function L(e){return Object(o["a"])({url:"fintech/v1/workFlow/process/backKycToInitiator",method:"post",data:e})}const O=e=>Object(o["a"])({url:"/fintech/v1/organization/querySubscribeProductsForWorkFlow",method:"post",data:e})},a10b:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return l}));var o=a("02e3");let r={pattern:/^[^@~`！!#$^*（）()\-+=|,/<>《》?？;':\"“\[\]{}\\&]*$/,message:"Cannot contain special characters (~`!#$^*()-+=|,/<>?;':\"[]{}\\&)",trigger:"blur"};function i(e,t,a){if(t){let e=t[0],o=new Date(e).getTime(),r=t[1],i=new Date(r).getTime(),n=i-o<26784e5;n?a():a(new Error("The time period cannot exceed 31 days"))}a()}const n=()=>({userName:[r],firstName:[r],middleName:[r],lastName:[r],taskNo:[r],taskName:[r],currentHandler:[r],workflowId:[r],workflowName:[r],remark:[r],shortCode:[r,o["e"],{required:!0,message:"This field is mandatory.",trigger:"change"}]}),l=()=>({creationTime:[{required:!1},{validator:i,trigger:"change"}],startTime:[{required:!1},{validator:i,trigger:"change"}]}),s=()=>({operation:[r,o["e"],{required:!0,message:"please enter",trigger:"change"}],remark:[r,o["e"],{required:!0,message:"This field is mandatory.",trigger:"blur"}]})},b45e:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-initiated-workflow-container"},[t("div",{staticClass:"page-header"},[t("div",{staticClass:"title"},[e._v(e._s(e.projectObj.title))]),t("div",{staticClass:"desc"},[e._v(e._s(e.projectObj.desc))])]),t("div",{staticClass:"page-content"},[t("portal-form",{ref:"searchFormRef",attrs:{searchBtnLoading:e.searchLoading,"form-config-list":e.formConfigList,"form-data":e.formData,formRules:e.dateValidate},on:{"reset-btn-click":e.resetSearch,"search-btn-click":e.search}}),t("div",{staticClass:"table-container"},[t("table-page",{ref:"workflowTableRef",staticClass:"initiated-workflow-table",attrs:{columns:e.columns,sortArr:["startTime","endTime","status"],getTableData:e.getTableData,"has-pagination":e.hasPagination,pagination:e.paginationConfig,"is-search":e.isSearch},scopedSlots:e._u([{key:"operation",fn:function(a){return e.detailBtnIsShow(a.data.row)?[t("el-button",{attrs:{type:"text",disabled:!e.hasPerm("WF_MYTASK_OPERATORWORK_VIEW_BTN")},on:{click:function(t){return e.handleDetail(a.data.row)}}},[e._v(" "+e._s(e.$t("common.label.detail"))+" ")])]:void 0}},{key:"taskStatus",fn:function(a){return[t("div",{staticClass:"flex flex-align"},[t("span",{staticClass:"status-circle",style:e.statusStyle(a.data.row)}),t("span",[e._v(e._s(a.data.row.status))])])]}}],null,!0)})],1)],1),t("div",{staticClass:"page-dialog"},[t("portal-dialog",{ref:"workflowNameDialogRef",staticClass:"workflow-name-dialog",attrs:{title:"Select Workflow Name",needSearchFormBottomLine:!0,dialogVisible:e.workflowNameDialogVisible,searchForm:e.workflowSearchForm,dialogTable:e.dialogTable,searchLoading:e.workflowSearchLoading},on:{"update:dialogVisible":function(t){e.workflowNameDialogVisible=t},"update:dialog-visible":function(t){e.workflowNameDialogVisible=t},"update:searchLoading":function(t){e.workflowSearchLoading=t},"update:search-loading":function(t){e.workflowSearchLoading=t},"close-dialog":e.closeDialog,"search-reset":e.workflowNameDialogReset,"cancel-btn-click":e.closeDialog,"confirm-btn-click":e.confirmChange}})],1)])},r=[],i=a("3186"),n=a("4c09"),l=a("d91c"),s=a("a10b"),c=a("8e76"),d=a("5a0c"),u=a.n(d),m={name:"myInitiatedWorkFlow",components:{TablePage:n["a"],PortalForm:i["a"],PortalDialog:l["a"]},data(){return{projectObj:{title:this.$t("TAC.myInitiatedWorkFlow.title"),desc:this.$t("TAC.myInitiatedWorkFlow.desc")},formData:{procDefId:"",workflowId:"",workflowName:"",workflowType:"",status:"",startTime:""},dateValidate:Object(s["a"])(),curSelectWorkflowNameToWorkflowType:"",pickerOptions:{onPick:({maxDate:e,minDate:t})=>{this.selectDate=t.getTime(),e&&(this.selectDate="")},disabledDate:e=>{if(""!==this.selectDate){const t=2592e6,a=this.selectDate-t,o=this.selectDate+t;return e.getTime()<a||e.getTime()>o}}},searchLoading:!1,searchFormWFT:[{value:"",label:"All"}],searchFormStatus:[{value:"",label:"All"}],columns:[{label:this.$t("TAC.myInitiatedWorkFlow.workflowId"),prop:"workflowId",align:"left","min-width":"122px"},{label:this.$t("TAC.myInitiatedWorkFlow.workflowName"),prop:"workflowName",align:"left","min-width":"150px"},{label:this.$t("TAC.myInitiatedWorkFlow.workflowType"),prop:"workflowType",align:"left","min-width":"150px"},{label:this.$t("TAC.myInitiatedWorkFlow.startTime"),prop:"startTime",align:"left","min-width":"179px","sort-method":(e,t)=>e.status>t.status?1:-1},{label:this.$t("TAC.myInitiatedWorkFlow.endTime"),prop:"endTime",align:"left","min-width":"173px","sort-method":(e,t)=>e.status>t.status?1:-1},{label:this.$t("TAC.myInitiatedWorkFlow.currentTask"),prop:"currentTask",align:"left",width:"200px"},{label:this.$t("TAC.myInitiatedWorkFlow.currentTaskOwner"),prop:"currentTaskOwner",align:"left","min-width":"180px"},{label:this.$t("TAC.myInitiatedWorkFlow.status"),prop:"status",align:"left",__slotName:"taskStatus","min-width":"150px","sort-method":(e,t)=>e.status>t.status?1:-1},{label:this.$t("TAC.myInitiatedWorkFlow.operation"),prop:"operation",align:"left",__slotName:"operation","min-width":"100px",fixed:"right"}],hasPagination:!1,paginationConfig:{total:0,pageIndex:1,pageSize:10},isSearch:!1,workflowNameDialogVisible:!1,dialogTable:{columns:[{label:this.$t("TAC.myInitiatedWorkFlow.workflowName"),prop:"workflowName",align:"left"},{label:this.$t("TAC.myInitiatedWorkFlow.workflowType"),prop:"workflowType",align:"left"}],isSearch:!1,hasPagination:!0,isSingleCheck:!0,paginationConfig:{total:0,pageIndex:1,pageSize:5},getTableData:this.getDialogTableData,singleChange:this.selectChange},selectTableData:{},workflowSearchLoading:!1,workflowSearchFormData:{workflowName:"",workflowType:""}}},computed:{formConfigList(){return[{label:this.$t("TAC.myInitiatedWorkFlow.workflowId"),key:"workflowId",prop:"workflowId",comp:"el-input",bind:{clearable:!0,placeholder:this.$t("common.placeholder.enter")}},{formItemClass:"org-short-code",label:this.$t("TAC.myInitiatedWorkFlow.workflowName"),key:"workflowName",prop:"workflowName",comp:"el-input",bind:{placeholder:this.$t("common.placeholder.select")},slots:[{comp:"el-link",name:"append",class:"short-code-icon",bind:{icon:"el-icon-more",underline:!1},event:{click:()=>{this.workflowNameDialogVisible=!0,this.workflowSearchForm.formData.workflowType=this.searchFormWFT[0].value,this.dialogTable.isSearch=!0}}}]},{label:this.$t("TAC.myInitiatedWorkFlow.workflowType"),key:"workflowType",prop:"workflowType",comp:"el-select",options:this.searchFormWFT,bind:{placeholder:this.$t("common.placeholder.enter")}},{label:this.$t("TAC.myInitiatedWorkFlow.status"),key:"status",prop:"status",comp:"el-select",options:this.searchFormStatus,bind:{placeholder:this.$t("common.placeholder.enter")}},{label:this.$t("TAC.myInitiatedWorkFlow.startTime"),formItemClass:"form-special-date-box",sameGroup:!0,prop:"startTime",comp:[{key:"startTime",comp:"el-date-picker",bind:{placeholder:this.$t("common.placeholder.enter"),align:"right",type:"datetimerange",format:"dd/MM/yyyy HH:mm:ss","picker-options":this.pickerOptions,"range-separator":"~","value-format":"yyyy-MM-dd HH:mm:ss","default-time":["00:00:00","23:59:59"],"start-placeholder":"Please select","end-placeholder":"Please select"}},{comp:"i",class:"el-icon-date data_icon"}]}]},workflowSearchForm(){return{formConfigList:[{label:this.$t("TAC.myInitiatedWorkFlow.workflowName"),key:"workflowName",prop:"workflowName",comp:"el-input",bind:{clearable:!0,placeholder:this.$t("common.placeholder.enter")}},{label:this.$t("TAC.myInitiatedWorkFlow.workflowType"),key:"workflowType",prop:"workflowType",comp:"el-select",options:this.searchFormWFT,bind:{placeholder:this.$t("common.placeholder.select")}}],formData:this.workflowSearchFormData}}},watch:{formData:{handler(e){e.workflowType!==this.curSelectWorkflowNameToWorkflowType&&(this.formData.workflowName="",this.formData.procDefId="")},deep:!0}},created(){this.formData.startTime=[u()(new Date(new Date(u()().year(),u()().month(),u()().date(),0,0,0).getTime()-6048e5)).format("YYYY-MM-DD HH:mm:ss"),u()(new Date(u()().year(),u()().month(),u()().date(),23,59,59)).format("YYYY-MM-DD HH:mm:ss")],Object(c["v"])({dictCodes:["CPS.TASK.TYPE","CPS.WORKFLOW.ORDER.STATUS"]}).then(e=>{e.header&&e.header.success&&(this.searchFormWFT=e.dictDetailsMap["CPS.TASK.TYPE"],this.searchFormStatus=e.dictDetailsMap["CPS.WORKFLOW.ORDER.STATUS"],"All"!==this.searchFormStatus[0].label&&this.searchFormStatus.unshift({label:"All",value:""}))})},methods:{statusStyle(e){switch(e.status){case"Pending":return{"background-color":""+this.GlobalStyleVariables.statusColorSAecondaryWarning};case"Suspended":return{"background-color":""+this.GlobalStyleVariables.statusColorSAecondaryWarning};case"Completed":return{"background-color":""+this.GlobalStyleVariables.statusSuccessColor};default:break}},resetSearch(){this.formData.procDefId="",this.$refs.searchFormRef.resetFields(),this.isSearch=!0},detailBtnIsShow(e){return e.viewFlag},search(){this.$refs.searchFormRef.validate(e=>{e&&(this.searchLoading=!0,this.isSearch=!0)})},handleDetail(e){this.openNewWindow({path:"workflowDetail",query:e})},currentTaskIsShow(e){return"Pending"===e.procStatus||"Suspended"===e.procStatus},currentOwnerIsShow(e){return"Pending"===e.procStatus||"Suspended"===e.procStatus},getTableData(){return new Promise(e=>{let t="";this.formData.workflowType.length>1?this.searchFormWFT.some(e=>{if(e.label===this.formData.workflowType)return t=e.value,!0}):t=this.formData.workflowType;let a={procDefId:this.formData.procDefId,processId:this.formData.workflowId,procName:this.formData.workflowName,procType:t,workflowName:this.formData.workflowName,createTimeFrom:this.formData.startTime[0],createTimeTo:this.formData.startTime[1],procStatus:this.formData.status,pageNo:this.paginationConfig.pageIndex,pageSize:this.paginationConfig.pageSize};Object(c["m"])({processVO:a}).then(t=>{if(this.isSearch=!1,this.searchLoading=!1,t.header&&t.header.success)if(t.processDTOList.length>0){this.hasPagination=!0;let a=t.processDTOList.map(e=>{let t=e.currentTask&&this.currentTaskIsShow(e)?e.currentTask.taskName:"-",a=e.currentTask?e.currentTask.taskId:"-",o=e.currentTask&&this.currentOwnerIsShow(e)?e.currentTask.ownerName:"-",r=e.procType;this.searchFormWFT.length>2&&this.searchFormWFT.some(t=>{if(t.value===e.procType)return r=t.label,!0});let i=e.createTime.split(" "),n=i[0].split("-"),l=n[2]+"/"+n[1]+"/"+n[0]+" "+i[1],s="-";if(e.endTime){let t=e.endTime.split(" "),a=t[0].split("-");s=a[2]+"/"+a[1]+"/"+a[0]+" "+t[1]}let c=!0;return(!e.currentTask||!e.currentTask.viewFlag)&&(c=!1),{workflowId:e.processId,workflowName:e.procName,workflowType:r,startTime:l,endTime:s,currentTask:t,taskId:a,currentTaskOwner:o,status:e.procStatus,viewFlag:c}});e({header:t.header,list:a,totalRecords:t.count})}else e({header:t.header,list:[]});else e(t),this.isSearch=!1})})},getDialogTableData(){return new Promise(e=>{let t="",a="";this.searchFormWFT.some(e=>{if(e.value===this.workflowSearchFormData.workflowType)return a=e.label,!0}),a&&"All"!==a&&(t="Transaction and Action"===a?"TRANSATION_AND_ACTION":a.toUpperCase().split(" ").join("_")),Object(c["w"])({workflowNameCondition:this.workflowSearchFormData.workflowName,workflowTypeCondition:t,pageSize:this.dialogTable.paginationConfig.pageSize,pageIndex:this.dialogTable.paginationConfig.pageIndex}).then(t=>{if(this.workflowSearchLoading=!1,this.dialogTable.isSearch=!1,t.header&&t.header.success)if(t.workflowNameList&&t.workflowNameList.length>0){let a=t.workflowNameList.slice((this.dialogTable.paginationConfig.pageIndex-1)*this.dialogTable.paginationConfig.pageSize,this.dialogTable.paginationConfig.pageIndex*this.dialogTable.paginationConfig.pageSize);a.forEach((e,t)=>{a[t].workflowType=e.category}),e({header:t.header,list:a,totalRecords:t.workflowNameList.length})}else e({header:{success:!0},list:[]})})})},closeDialog(){this.workflowNameDialogVisible=!1},workflowNameDialogReset(){this.$refs.workflowNameDialogRef.$refs.dialogSearchForm.resetFields(),this.dialogTable.isSearch=!0},selectChange(e){this.selectTableData=e},confirmChange(){if(0!==Object.keys(this.selectTableData).length){if(this.formData.procDefId=this.selectTableData.procDefId,this.formData.workflowName=this.selectTableData.workflowName,"TRANSATION_AND_ACTION"===this.selectTableData.workflowType)this.formData.workflowType="Transaction and Action",this.curSelectWorkflowNameToWorkflowType="Transaction and Action";else if(this.selectTableData.workflowType){let e=this.selectTableData.workflowType.toLocaleLowerCase().split("_").map(e=>e.replace(e[0],e[0].toLocaleUpperCase()));this.formData.workflowType=e.join(" "),this.curSelectWorkflowNameToWorkflowType=e.join(" ")}this.workflowNameDialogVisible=!1}else this.$modal.msgError("Please select at least one.")}}},f=m,h=(a("5c53"),a("2877")),p=Object(h["a"])(f,o,r,!1,null,"040ee317",null);t["default"]=p.exports},d91c:function(e,t,a){"use strict";var o=function(){var e=this,t=e._self._c;return t("el-dialog",{staticClass:"dialog-portal",class:{"dialog-overflow":e.isOverflowHeight},attrs:{title:e.title,visible:e.visible,width:e.width,"close-on-click-modal":e.closeOnClickModal,"before-close":e.handleClose},on:{"update:visible":function(t){e.visible=t},opened:e.openedDialog,closed:e.closedDialog}},[e._t("operation"),t("div",{staticStyle:{padding:"0 20px"}},[t("el-divider",{staticClass:"dialog-top-divider"})],1),e.dialogSearchFormVisibility?t("portal-form",{ref:"dialogSearchForm",staticClass:"dialog-search-form",attrs:{needBottomLine:e.needSearchFormBottomLine,"form-config-list":e.searchForm.formConfigList,"form-data":e.searchForm.formData,"form-rules":e.formRules,needOperateBtn:e.needSearchOperateBtn,searchBtnLoading:e.searchLoading,smallAutoColumn:e.smallAutoColumn,bigAutoColumn:e.bigAutoColumn},on:{"common-enter-event":e.enterEvent,"reset-btn-click":e.reset,"search-btn-click":e.search}}):e._e(),e.dialogTableVisibility?t("div",{staticClass:"table-container"},[t("table-page",{ref:"dialogTable",attrs:{"is-check":e.dialogTable.isCheck||!0,"is-search":e.tableIsSearch,columns:e.dialogTable.columns||[],"has-pagination":e.dialogTable.hasPagination||!1,pagination:e.dialogTable.paginationConfig||{},getTableData:e.dialogTable.getTableData,"id-key":e.dialogTable.idKey||"id",isSingleCheck:e.isSingleCheck},on:{"selection-change":e.onSelectionChange,"single-selection-change":e.singleChange}})],1):e._e(),t("div",{staticStyle:{padding:"0 20px"}},[e.configFormBottomLine?t("el-divider",{staticClass:"config-form-bottomLine"}):e._e()],1),e.dialogConfigFormVisibility?t("portal-form",{ref:"dialogConfigForm",staticClass:"dialogConfigForm",attrs:{needBottomLine:!1,"form-config-list":e.configForm.formConfigList,"form-data":e.configForm.formData,"form-rules":e.configFormRules,needOperateBtn:e.needOperateBtn,smallAutoColumn:e.configForm.configSmall||1,bigAutoColumn:e.configForm.configBig||1}}):e._e(),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("button",{staticClass:"cancel-button",on:{click:function(t){return t.preventDefault(),e.handleCancelClick.apply(null,arguments)}}},[e._v(e._s(e.cancelText))]),t("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary",size:"small"},on:{click:e.handleConfirmClick}},[e._v(e._s(e.confirmText))])],1)],2)},r=[],i=a("3186"),n=a("4c09"),l={name:"portalDialog",components:{PortalForm:i["a"],TablePage:n["a"]},props:{title:{type:String,default:""},closeOnClickModal:{type:Boolean,default:!1},dialogVisible:{type:Boolean,default:!1},isOverflowHeight:{type:Boolean,default:!1},width:{type:String,default:"800px"},cancelText:{type:String,default:"Cancel"},confirmText:{type:String,default:"Confirm"},searchForm:{type:Object,default:null},formRules:{type:Object,default:()=>({})},searchLoading:{type:Boolean,default:!1},smallAutoColumn:{type:Number,default:2,validate:e=>!(24%e)},bigAutoColumn:{type:Number,default:2,validate:e=>!(24%e)},enterEvent:{type:Function,default:()=>{}},dialogTable:{type:Object,default:()=>({})},configForm:{type:Object,default:()=>({})},configFormRules:{type:Object,default:()=>({})},needSearchFormBottomLine:{type:Boolean,default:!1},configFormBottomLine:{type:Boolean,default:!1}},data(){return{visible:!1}},computed:{dialogSearchFormVisibility(){return void 0!==this.searchForm.formConfigList&&this.searchForm.formConfigList.length>0},dialogConfigFormVisibility(){return void 0!==this.configForm.formConfigList&&this.configForm.formConfigList.length>0},dialogTableVisibility(){return!!(this.dialogTable&&this.dialogTable.columns.length>0)},needSearchOperateBtn(){return void 0===this.searchForm.needOperateBtn||!!this.searchForm.needOperateBtn},needOperateBtn(){return!!this.configForm.needOperateBtn&&this.configForm.needOperateBtn},tableIsSearch(){return!!this.dialogTable.isSearch},isSingleCheck(){return!!this.dialogTable.isSingleCheck},onSelectionChange(){return this.dialogTable.onSelectionChange?this.dialogTable.onSelectionChange:()=>{}},singleChange(){return this.dialogTable.singleChange?this.dialogTable.singleChange:()=>{}}},watch:{dialogVisible:{handler(e){this.visible=e},immediate:!0},visible:{handler(e){this.$emit("show-dialog",e),this.$emit("update:dialogVisible",e)}}},methods:{handleClose(){this.visible=!1},handleCancelClick(){this.$emit("cancel-btn-click")},handleConfirmClick(){this.$emit("confirm-btn-click")},closedDialog(){this.$emit("closed-dialog")},openedDialog(){this.$emit("opened-dialog")},reset(){this.$emit("search-reset")},search(){this.$refs.dialogSearchForm.validate(e=>{e&&(this.dialogTable.isSearch=!0,this.$emit("update:searchLoading",!0))})}}},s=l,c=(a("ef8d"),a("2877")),d=Object(c["a"])(s,o,r,!1,null,"090905a0",null);t["a"]=d.exports},ef8d:function(e,t,a){"use strict";a("7f33")},f5b7:function(e,t,a){}}]);
//# sourceMappingURL=chunk-30f4f1ce.js.map