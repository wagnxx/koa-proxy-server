(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-634f7dfe"],{"02e3":function(t,e,a){"use strict";a.d(e,"e",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"y",(function(){return l})),a.d(e,"z",(function(){return r})),a.d(e,"w",(function(){return c})),a.d(e,"f",(function(){return o})),a.d(e,"u",(function(){return s})),a.d(e,"v",(function(){return u})),a.d(e,"x",(function(){return d})),a.d(e,"g",(function(){return h})),a.d(e,"s",(function(){return g})),a.d(e,"n",(function(){return p})),a.d(e,"r",(function(){return f})),a.d(e,"j",(function(){return m})),a.d(e,"l",(function(){return b})),a.d(e,"q",(function(){return C})),a.d(e,"m",(function(){return v})),a.d(e,"p",(function(){return y})),a.d(e,"k",(function(){return S})),a.d(e,"i",(function(){return D})),a.d(e,"h",(function(){return w})),a.d(e,"t",(function(){return x})),a.d(e,"d",(function(){return _})),a.d(e,"o",(function(){return O})),a.d(e,"a",(function(){return I})),a.d(e,"b",(function(){return L}));let i={required:!0,message:"Please enter content",trigger:"blur"},n={required:!0,message:"Please check content",trigger:"blur"},r={required:!0,message:"Please select content",trigger:"change"},l={pattern:/^[0-9a-zA-Z]*$/,message:"Must be number and letters.",trigger:"blur"},o={pattern:/^[+-]?[0-9]*$/,message:"Must be integer number.",trigger:"blur"},s={pattern:/[0-9]{4}/,message:"The MSISDN must contain at least 4 dligits",trigger:"blur"},c={pattern:/^[^@~`！!#$%^*（）()\-+=|,/<>《》?？;':\"“\[\]{}\\&]*$/,message:"Cannot contain special characters (~`!#$%^*()-+=|,/<>?;':\"[]{}\\&)",trigger:"blur"},u={pattern:/^[^@~`！!#$^*（）()\-+=|,/<>《》?？;':\"“\[\]{}\\&]*$/,message:"Cannot contain special characters (~`!#$^*()-+=|,/<>?;':\"[]{}\\&)",trigger:"blur"},d={pattern:/^[\w- ]+$/,message:"Please do not enter any special characters.",trigger:"blur"};_({minLen:0,maxLen:11});const h=_({minLen:0,maxLen:18}),g=(_({minLen:3,maxLen:3}),_({minLen:6,maxLen:16})),p=(_({minLen:8,maxLen:10}),_({minLen:8,maxLen:11}),_({minLen:4,maxLen:12})),f=_({minLen:6,maxLen:12}),m=_({minLen:0,maxLen:19}),b=_({minLen:0,maxLen:24}),C=_({minLen:0,maxLen:64}),v=(_({minLen:0,maxLen:100}),_({minLen:0,maxLen:256})),y=_({minLen:0,maxLen:512}),S=(_({minLen:8,maxLen:50}),_({minLen:1,maxLen:18})),D=_({minLen:0,maxLen:32}),w=_({minLen:0,maxLen:30}),x=_({minLen:9,maxLen:18});_({minLen:2,maxLen:256});function _({minLen:t=0,maxLen:e=100}){let a="";return a=t>0?`Must be between ${t} and ${e} characters`:`Must be less than ${e} characters`,{min:t,max:e,message:a,trigger:"blur"}}const O=_({minLen:0,maxLen:4});function I(t){let e=[];for(let a in t)t[a]&&t[a].toString().startsWith("%")&&1===t[a].length||!t[a]?e.push(!1):e.push(!0);return!e.every(t=>!1===t)}function L(t){return{validator:(e,a,i)=>{a&&a.startsWith("%")&&1===a.length?i(new Error(""+t)):i()},trigger:"blur"}}},"034d":function(t,e,a){},"0934":function(t,e,a){},3213:function(t,e,a){"use strict";a.d(e,"e",(function(){return l})),a.d(e,"f",(function(){return o})),a.d(e,"a",(function(){return c})),a.d(e,"d",(function(){return d})),a.d(e,"c",(function(){return u})),a.d(e,"b",(function(){return h}));var i=a("02e3"),n=a("e863");let r=(t,e,a)=>{if(e){let t={msisdn:e};Object(n["a"])(t).then(t=>{t.flag?a():a(new Error(""+(t.description||"")))})}},l=()=>({msisdn:[i["k"]],tillNumber:[i["k"]],orgshortcode:[i["f"],i["l"]]}),o=()=>({msisdn:[i["e"],i["v"],i["k"],i["u"]],tillNumber:[i["v"],i["k"]],orgshortcode:[i["f"],i["l"]],status:[i["z"]],productName:[i["z"]],queryCondition:[i["z"]]});let s=(t,e,a)=>{if(e){let t={tillNumber:e};Object(n["b"])(t).then(t=>{if(t.flag)a();else{if(e.trim().length<4||e.trim().length>12)return a(new Error("The length ranges from 4 to 12."));if(!new RegExp(/^([0-9A-Za-z]{4,12})$/).test(e))return a(new Error("Special characters are not allowed. Please enter again."));a()}})}},c=()=>({msisdn:[i["e"],i["w"],i["k"],i["f"],{validator:r,trigger:"blur"}],tillNumber:[i["e"],i["w"],{validator:s,trigger:"blur"}],organizationShortCode:[i["z"],i["e"],i["w"]],languageCode:i["z"],productIdList:[i["z"]]}),u=()=>({newMsisdn:[i["f"],i["e"],i["w"],{validator:r,trigger:"blur"}],remark:[i["e"]]}),d=()=>({remark:[i["e"],i["w"]]}),h=async()=>{let t=await Object(n["e"])();return t.header&&t.header.success&&t.result?[i["z"]]:[]}},"3b8a":function(t,e,a){},"4c09":function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-page-container"},[t.showAddButton?e("div",{staticClass:"add-button"},[e("el-button",{staticClass:"template-add",attrs:{icon:"el-icon-plus",type:"primary",size:"small"},on:{click:function(e){return t.showAddDialog()}}},[t._v(" Add ")]),e("el-dialog",{attrs:{title:t.createTitle,visible:t.isShowAddDialog,width:"448px","before-close":t.closeAddDialog},on:{"update:visible":function(e){t.isShowAddDialog=e}}},[t._t("addDialogContext"),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.closeAddDialog}},[t._v("cancel")]),e("el-button",{attrs:{type:"primary"},on:{click:t.addSubmit}},[t._v("submit")])],1)],2)],1):t._e(),e("div",{class:{"table-region":!0,"no-data-fixed":!t.tableData.length},staticStyle:{height:"100%"}},[e("el-table",t._g(t._b({directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],key:t.tableKey,ref:"tableRef",class:{"mini-table":t.isSingleCheck},attrs:{"empty-text":"No records found.","header-cell-style":t.headerStyle,data:t.tableData,size:t.size,border:t.border,"row-key":t.idKey,"max-height":t.maxHeight}},"el-table",t.$attrs,!1),t.listeners),[t.isCheck?e("el-table-column",{attrs:{align:"center",width:"30",type:"selection","reserve-selection":t.isCheckMemory,selectable:t.checkSelectable}}):t._e(),t._l(t.columns,(function(a,i){return[e("el-table-column",t._b({key:i,attrs:{sortable:t.sortFun(a),width:a.width||"","show-overflow-tooltip":[!0,!1].includes(a.showOverflowTooltip)?a.showOverflowTooltip:t.showOverflowTooltip,formatter:a.formatter||t.formatterHandle},scopedSlots:t._u([a.__slotName?{key:"default",fn:function(e){return[t._t(a.__slotName,null,{data:e})]}}:null],null,!0)},"el-table-column",a,!1))]})),e("template",{slot:"empty"},[t._t("emptya")],2)],2)],1),t.hasPagination&&t.pagination.total>0?e("div",{staticClass:"pagination-region"},[e("portal-pagination",{attrs:{id:"tablePagination",total:t.pagination.total,currentPage:t.pagination.pageIndex,pageSize:t.pagination.pageSize,pageSizes:t.pageSizes,layout:t.pagination.layout},on:{"update:currentPage":function(e){return t.$set(t.pagination,"pageIndex",e)},"update:current-page":function(e){return t.$set(t.pagination,"pageIndex",e)},"update:pageSize":function(e){return t.$set(t.pagination,"pageSize",e)},"update:page-size":function(e){return t.$set(t.pagination,"pageSize",e)},pagination:t.handleSizeChange}})],1):t._e()])},n=[],r=a("4d26"),l={name:"TablePage",components:{PortalPagination:r["a"]},props:{showOverflowTooltip:{type:Boolean,default:!0},createTitle:{type:String},showAddButton:{type:Boolean,default:!1},submitNewDataFun:{type:Function,default:()=>{}},checkSelectable:{type:Function,default:()=>!0},columns:{type:Array,default:()=>[]},size:{type:String,default:"medium"},isCheck:{type:Boolean,default:!1},isCheckMemory:{type:Boolean,default:!1},isSingleCheck:{type:Boolean,default:!1},idKey:{type:String,default:"id"},sortArr:{type:Array,default:()=>[]},pageParam:{type:Object,default:()=>({pageOffset:"pageNo",pageSize:"pageSize"})},hasPagination:{type:Boolean,default:!0},pagination:{type:Object,default:()=>({total:0,pageIndex:1})},pageSizes:{type:Array,default(){return[10,20,50,100]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},getTableData:{type:Function,default:null},outSideTableData:{type:Array,default:()=>[]},isSearch:{type:Boolean,default:!1},initializingLoading:{type:Boolean,default:!0},border:{type:Boolean,default:!0},initChecks:{type:Array,default:()=>[]},maxHeight:{type:[Number,String]}},data(){return{isShowAddDialog:!1,order:{sortName:"",sortOrder:""},tableData:[],tableKey:(new Date).getTime(),loading:!1,headerStyle:{"background-color":""+this.GlobalStyleVariables.fillLightColor,"font-size":"14px","font-family":"HuaweiSans-Medium","font-weight":500,color:""+this.GlobalStyleVariables.textEmphasisColor},singleSelectData:[]}},computed:{listeners:function(){let t=this;return Object.assign({},this.$listeners,{"selection-change":function(e){t.isSingleCheck||t.$emit("selection-change",e)},select:function(e,a){const i=t.$refs.tableRef;t.isSingleCheck&&e.includes(a)?(i.clearSelection(),i.toggleRowSelection(a,!0),t.singleSelectData=a):t.singleSelectData=[],t.$emit("single-selection-change",t.singleSelectData)},"sort-change":function(e){switch(t.order.sortName=e.prop,e.order){case"ascending":t.order.sortOrder="asc";break;case"descending":t.order.sortOrder="desc";break;default:t.order.sortOrder=""}t.$emit("sortChange",t.order)}})}},watch:{isSearch(){this.isSearch&&(this.$refs.tableRef.clearSelection(),this.queryData())},outSideTableData:{handler(t){t&&(this.tableData=t,this.tableKey=(new Date).getTime(),this.pagination.pageIndex=1,this.pagination.total=0)},immediate:!0,deep:!0},initChecks:{handler(t){if(this.$refs.tableRef&&this.$refs.tableRef.clearSelection(),t&&t.length)for(const e in this.tableData)t&&t.forEach(t=>{t[this.idKey]===this.tableData[e][this.idKey]&&this.$refs.tableRef.toggleRowSelection(this.tableData[e],!0)})},immediate:!0,deep:!0}},created(){this.initializingLoading?this.queryData().then(()=>{this.$refs.tableRef.clearSelection(),this.initChecks&&this.initChecks.length&&this.$nextTick(()=>{this.initChecks.forEach(t=>{for(const e in this.tableData)t[this.idKey]===this.tableData[e][this.idKey]&&this.$refs.tableRef.toggleRowSelection(this.tableData[e],!0)})})}):(this.pagination.pageIndex=1,this.pagination.total=0)},mounted(){},methods:{addSubmit(){const t=this,e=function(){t.closeAddDialog()};this.submitNewDataFun(e)},closeAddDialog(){this.isShowAddDialog=!1},showAddDialog(){this.isShowAddDialog=!0},handleSizeChange(t){this.pagination.pageIndex=t.pageIndex,this.pagination.pageSize=t.pageSize,this.queryData()},sortFun(t){const e=this.sortArr&&this.sortArr.indexOf(t.prop)>-1;return!!e&&(!!t["sort-method"]||"custom")},async queryData(t){if(this.getTableData){this.loading=!0,this.pagination.pageIndex=t?1:this.pagination.pageIndex;let a=this.hasPagination?Object.assign({},{[this.pageParam.pageOffset]:this.pagination.pageIndex,[this.pageParam.pageSize]:this.pagination.pageSize}):{};this.order.sortName&&this.order.sortOrder&&(a.sortName=this.order.sortName,a.sortOrder=this.order.sortOrder);let i=null;try{this.$refs.tableRef&&this.$refs.tableRef.clearSort(),i=await this.getTableData(a)}catch(e){this.loading=!1}finally{this.loading=!1,i&&i.header.success?(this.pagination.total=i.totalRecords||0,this.tableData=Array.from(i.list)||[],this.$emit("fetchData",i)):(this.tableData=[],this.pagination.pageIndex=1,this.pagination.total=0)}}},formatterHandle(t,e){const a=e.property;let i=t,n="",r=a&&a.split(".");return r.forEach(t=>{"object"===typeof i[t]?i=i[t]:n=i[t]}),""!==n&&null!==n&&void 0!==n?n:"-"}}},o=l,s=(a("563f"),a("be9f"),a("2877")),c=Object(s["a"])(o,i,n,!1,null,"6710ceed",null);e["a"]=c.exports},"4d26":function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-align flex-jus pagination-container",class:{hidden:t.hidden}},[e("el-pagination",t._b({attrs:{id:"pagination","page-size":t.tempPageSize,"page-sizes":t.pageSizes,total:t.total,"pager-count":5,layout:t.layout,"current-page":t.tempCurrentPage},on:{"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1),[[e("span",{staticClass:"pagination__total pagination___text"},[t._v(t._s("Total:"+t.total))]),t.showPageSize?[e("el-select",{staticStyle:{width:"76px","margin-left":"16px","margin-right":"10px"},attrs:{size:"mini"},model:{value:t.tempPageSize,callback:function(e){t.tempPageSize=e},expression:"tempPageSize"}},t._l(t.pageSizes,(function(t){return e("el-option",{key:t,attrs:{label:""+t,value:t}})})),1),e("span",{staticClass:"show-title"},[t._v("items/page")])]:t._e()]],2),-1!==t.layout.indexOf("jumper")?e("div",{staticClass:"go-to-buttom"},[e("button",{on:{click:t.goToHandle}},[t._v("GO")])]):t._e()],1)},n=[],r={name:"PortalPagination",props:{total:{required:!0,type:Number},currentPage:{type:Number,default:1},pageSize:{type:Number,default:10},pageSizes:{type:Array,default(){return[10,20,50,100]}},layout:{type:String,default:"slot, prev, pager, next, jumper"},showPageSize:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},data(){return{}},computed:{tempCurrentPage:{get(){return this.currentPage},set(t){this.$emit("update:currentPage",t)}},tempPageSize:{get(){return this.pageSize},set(t){this.$emit("update:pageSize",t),this.handleSizeChange(t)}}},methods:{handleSizeChange(t){this.tempCurrentPage=1,this.$emit("pagination",{pageIndex:1,pageSize:t})},handleCurrentChange(t){this.tempCurrentPage=t,this.$emit("pagination",{pageIndex:t,pageSize:this.pageSize})},goToHandle(){}}},l=r,o=(a("fe42"),a("2877")),s=Object(o["a"])(l,i,n,!1,null,"03a8757f",null);e["a"]=s.exports},"4d30":function(t,e,a){"use strict";a("8b7e")},"563f":function(t,e,a){"use strict";a("a1d6")},6198:function(t,e,a){"use strict";a("bfbd")},6226:function(t,e,a){t.exports={activeMenuColor:"#366bfc",primaryColor:"#366bfc",menuColor:"#5c5c5c",fillEmphasisColor:"#5c5c5c",fillLightColor:"#fafafa",fillStrongColor:"#c7c7c7",fillRegularColor:"#f0f0f0",fillColorDark:"#e0e0e0",lineStrongColor:"#8f8f8f",textEmphasisColor:"#282828",backgroundColor:"#fff",statusErrorColor:"#ff4040",statusSuccessColor:"#27bf88",statusColorwarning:"#ff7420",statusColorSAecondaryWarning:"#faaf0c",statusNoticeColor:"#338bff",statusDark:"#c7c7c7",initialColor:"#E0E0E0",statusNoticeBackgroundColor:"#F0F9FF",statusErrorBackgroundColor:"#FFF2F0",statusSuccessBackgroundColor:"#F0FFF7",statusSecondaryWarningBackgroundColor:"#FFFBE6",statusWarningBackgroundColor:"#FFF6E6",statusDarkBackgroundColor:"#FAFAFA",lineColorBlue:"#ADD9FF",lineColorError:"#FFC1BA",lineColorGreen:"#A5E6C6",lineColorWarning:"#FFF7ed"}},"67d5":function(t,e,a){"use strict";a("034d")},6923:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"create-till"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.createTill,expression:"!createTill"}],staticClass:"create-page-content"},[e("portal-header",{attrs:{projectObj:t.titleConfig}}),e("el-form",{ref:"ruleForm",attrs:{model:t.tillFormData,rules:t.tillFormRules,"label-position":"top",size:"small"}},[e("div",{staticClass:"identity-info",staticStyle:{padding:"0 20px"}},[e("div",[e("div",{staticClass:"till-info-title-class"},[t._v(t._s(t.$t("IDC.till.identityInfo")))]),e("el-row",{attrs:{gutter:20}},[e("el-col",t._b({staticClass:"msisdn-item"},"el-col",t.colOptions,!1),[e("el-form-item",{class:{"show-org-short-code":t.checkShortCode},attrs:{label:t.$t("IDC.till.organizationShortCode"),prop:"organizationShortCode"}},[e("el-input",{ref:"shortCodeInput",staticClass:"msisdn",attrs:{clearable:"",id:"msisdn-inp",placeholder:t.$t("common.placeholder.enter")},on:{blur:t.shortCodeBlue},model:{value:t.tillFormData.organizationShortCode,callback:function(e){t.$set(t.tillFormData,"organizationShortCode",e)},expression:"tillFormData.organizationShortCode"}}),e("i",{staticClass:"el-icon-more input-search",on:{click:t.showSearch}})],1),t.showInformation&&t.checkShortCode?e("div",{staticClass:"org-info-box"},[e("div",{staticClass:"cen-test"},[e("span",[t._v(t._s(t.$t("IDC.till.organizationName"))+":")]),e("span",[t._v(t._s(t.organizationName))])]),e("div",{staticClass:"cen-test"},[e("span",[t._v(t._s(t.$t("IDC.till.trustLevel"))+":")]),e("span",[t._v(t._s(t.trustLevel))])])]):t._e()],1),e("el-col",t._b({},"el-col",t.colOptions,!1),[e("el-form-item",{attrs:{label:t.$t("IDC.till.tillNumber"),prop:"tillNumber"}},[t.isShowGenerate?e("el-button",{staticClass:"view-change",attrs:{type:"text",underline:!1},on:{click:function(e){return t.generate(!0)}}},[t._v(" "+t._s(t.$t("IDC.till.generateAnotherIdentifier"))+" ")]):t._e(),e("el-input",{staticClass:"input-wid",attrs:{id:"alias",placeholder:t.$t("common.placeholder.enter")},model:{value:t.tillFormData.tillNumber,callback:function(e){t.$set(t.tillFormData,"tillNumber",e)},expression:"tillFormData.tillNumber"}})],1)],1),e("el-col",t._b({},"el-col",t.colOptions,!1),[e("el-form-item",{attrs:{prop:"languageCode",label:t.$t("IDC.till.language")}},[e("el-select",{staticClass:"input-wid",attrs:{id:"languageCode",placeholder:"Please select"},model:{value:t.tillFormData.languageCode,callback:function(e){t.$set(t.tillFormData,"languageCode",e)},expression:"tillFormData.languageCode"}},t._l(t.languageOpt,(function(t){return e("el-option",{key:t.languageCode,attrs:{label:t.languageName,value:t.languageCode}})})),1)],1)],1),e("el-col",t._b({},"el-col",t.colOptions,!1),[e("el-form-item",{attrs:{rules:t.defaultOperatorIDRules,label:t.$t("IDC.till.defaultOperatorID"),prop:"defaultOperatorID"}},[e("el-select",{attrs:{clearable:"",placeholder:"Please select"},model:{value:t.tillFormData.defaultOperatorID,callback:function(e){t.$set(t.tillFormData,"defaultOperatorID",e)},expression:"tillFormData.defaultOperatorID"}},t._l(t.defaultOperatorIdList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),e("el-col",t._b({},"el-col",t.colOptions,!1),[e("el-form-item",{attrs:{label:t.$t("IDC.till.msisdn"),prop:"msisdn"}},[e("el-button",{staticClass:"view-change",attrs:{type:"text",underline:!1},on:{click:t.viewMsisdnRange}},[t._v(" "+t._s(t.$t("IDC.till.viewRange"))+" ")]),e("el-input",{staticClass:"input-wid",attrs:{id:"msisdn",placeholder:t.$t("common.placeholder.enter")},model:{value:t.tillFormData.msisdn,callback:function(e){t.$set(t.tillFormData,"msisdn",e)},expression:"tillFormData.msisdn"}})],1)],1)],1)],1)]),e("el-row",{staticClass:"identity-info shuttle-box"},[e("el-col",{attrs:{span:24}},[e("el-form-item",{staticClass:"available-product-title",attrs:{label:t.$t("IDC.till.assignProduct"),prop:"productIdList"}},[e("el-divider",{staticClass:"assign-product"}),e("span",{staticClass:"item-error",attrs:{slot:"error"},slot:"error"},[e("div",{staticClass:"product-error"},[e("span",[t._v("Please select at least one proudct")])])])],1),e("select-assign-product",{ref:"shuttleBox",staticClass:"shuttleBox",on:{getAssignProduct:t.getAssignProduct}})],1)],1)],1),e("footer-tap",{attrs:{"submit-loading":t.submitLoading},on:{reset:t.cancel,submit:function(e){return t.submitCreateTill("ruleForm")}}})],1),t.createTill?e("portal-create-success",{attrs:{successText:t.$t("IDC.till.createSuccessText"),detailText:t.$t("IDC.till.viewDetail")+">>",addText:t.$t("common.button.continueAdd")+">>"},on:{"view-detail":t.goViewDetail,"continue-add":t.goContinueToAdd}}):t._e(),e("portal-short-code",{attrs:{"invoking-flag":"createOrgOperator",searchVisible:t.searchVisible,"merchant-id":t.tillFormData.merchantId,"short-code":t.tillFormData.organizationShortCode,merchantName:t.organizationName,trustLevel:t.trustLevel},on:{submitShortCode:t.submitShortCode,"update:searchVisible":function(e){t.searchVisible=e},"update:search-visible":function(e){t.searchVisible=e},"update:merchantId":function(e){return t.$set(t.tillFormData,"merchantId",e)},"update:merchant-id":function(e){return t.$set(t.tillFormData,"merchantId",e)},"update:shortCode":function(e){return t.$set(t.tillFormData,"organizationShortCode",e)},"update:short-code":function(e){return t.$set(t.tillFormData,"organizationShortCode",e)},"update:merchantName":function(e){t.organizationName=e},"update:merchant-name":function(e){t.organizationName=e},"update:trustLevel":function(e){t.trustLevel=e},"update:trust-level":function(e){t.trustLevel=e}}}),e("el-dialog",{staticClass:"msisdn-dialog",attrs:{"close-on-click-modal":!1,title:"Till MSISDN Range",visible:t.msisdnRangeDialog,width:"448px"},on:{"update:visible":function(e){t.msisdnRangeDialog=e}}},[e("table-page",{staticClass:"till-tab",attrs:{outSideTableData:t.msisdnRangeLists,hasPagination:!1,columns:t.columns}})],1)],1)},n=[],r=a("c811"),l=function(){var t=this,e=t._self._c;return e("portal-transfer",{attrs:{data:t.availableProduct,props:t.transferProps,titles:["Available Product","Selected Product"],filterable:"",filterPlaceholder:"Search for..."},model:{value:t.selectData,callback:function(e){t.selectData=e},expression:"selectData"}})},o=[],s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"portal-transfer"},[e("el-transfer",t._g(t._b({attrs:{data:t.data,props:t.props,titles:t.titles,filterable:t.filterable,"filter-method":t.filterMethod,"filter-placeholder":t.filterPlaceholder},scopedSlots:t._u([t.customeItem?{key:"default",fn:function({option:e}){return[t._t("item",null,{option:e})]}}:null,{key:"left-footer",fn:function(){return[t._t("left-footer")]},proxy:!0},{key:"right-footer",fn:function(){return[t._t("right-footer")]},proxy:!0}],null,!0),model:{value:t.selectValue,callback:function(e){t.selectValue=e},expression:"selectValue"}},"el-transfer",t.$attrs,!1),t.$listeners))],1)},c=[],u={name:"PortalTransfer",model:{prop:"value",event:"select-change"},props:{customeItem:{type:Boolean,default:!1},data:{type:Array,default:()=>[]},value:{type:Array,default:()=>[]},props:{type:Object,default:()=>({})},filterable:{type:Boolean,default:!1},titles:{type:Array,default:()=>[]},filterPlaceholder:{type:String,default:"Please select"}},data(){return{selectValue:[]}},watch:{selectValue:{handler(t){this.$emit("select-change",t)},deep:!0}},methods:{filterMethod(t,e){let a=e[this.props.label||"label"]||"";return a=a.toLowerCase(),a.indexOf(t)>-1}}},d=u,h=(a("a938"),a("2877")),g=Object(h["a"])(d,s,c,!1,null,"5c54e9b4",null),p=g.exports,f=a("e863"),m={name:"SelectAssignProduct",components:{PortalTransfer:p},data(){return{availableProduct:[],selectData:[],transferProps:{key:"productIndex",label:"productName"}}},watch:{selectData:{handler(t){this.$emit("getAssignProduct",t)},deep:!0}},created(){this.getProductList()},methods:{getProductList(){let t={permCode:"CREATE_TILL",dataPermCode:"TILL_PRODUCT"};Object(f["q"])(t).then(t=>{const{header:e,list:a=[]}=t;e&&e.success&&(this.availableProduct=a)})}}},b=m,C=Object(h["a"])(b,l,o,!1,null,null,null),v=C.exports,y=a("8f48"),S=a("cb9d"),D=a("9981"),w=a("3213"),x=a("4c09"),_=a("d3d3"),O={name:"CreateTill",components:{PortalHeader:r["a"],PortalCreateSuccess:D["a"],SelectAssignProduct:v,TablePage:x["a"],portalShortCode:y["a"],footerTap:_["a"]},data(){return{preCode:"",organizationId:"",isShowGenerate:!1,checkShortCode:!0,showInformation:!1,searchLoading:!1,createTill:!1,searchVisible:!1,submitLoading:!1,organizationName:"",trustLevel:"",tillID:"",tillFormData:{msisdn:"",tillNumber:"",languageCode:"",organizationShortCode:"",productIdList:[],defaultOperatorID:"",merchantId:""},orgOperatorId:"",msisdnRangeDialog:!1,msisdnRangeLists:[],tillFormRules:Object(w["a"])(),languageOpt:[],columns:[{width:"85px",label:this.$t("IDC.till.no")+".",prop:"index",align:"left"},{label:this.$t("IDC.till.range"),prop:"range",align:"left"}],defaultOperatorIdList:[{label:"Please select",value:""}],defaultOperatorIDRules:[]}},computed:{titleConfig(){return{title:this.$t("IDC.till.createTill"),desc:this.$t("IDC.till.createTitle")}}},methods:{submitShortCode(){this.queryOrgOperatorIdList(),this.checkShortCode=!0},async deleteIdenti(){let t={identifier:this.tillFormData.tillNumber||"",identityType:"Till"};await Object(S["l"])(t)},async generate(t){let e={identityType:"Till",preCode:this.tillFormData.tillNumber||"",parentCode:this.tillFormData.organizationShortCode||"",isBtnTrigger:t},a=await Object(S["o"])(e);a.header&&a.header.success&&(this.tillFormData.tillNumber=a.identifier,this.preCode=a.identifier)},async isShowBtn(){let t={identityType:"Till",type:"",parentCode:this.tillFormData.organizationShortCode||""},e=await Object(S["e"])(t);e.header&&e.header.success&&(this.isShowGenerate=e.hasRule,e.hasRule&&this.generate(!1))},async shortCodeBlue(){let t={shortCode:this.tillFormData.organizationShortCode},e=await Object(f["l"])(t);e.header&&e.header.success&&e.organizationInfo?(this.organizationName=e.organizationInfo.organizationName,this.tillFormData.merchantId=e.organizationInfo.organizationId,this.checkShortCode=!0,this.queryOrgOperatorIdList()):(this.checkShortCode=!1,this.organizationName="")},showSearch(){this.searchVisible=!0},closeDialog(){this.msisdnRangeDialog=!1},goViewDetail(){let t={title:this.tillFormData.tillNumber,tillId:this.tillID};this.$router.push({path:"/mainPage/identifierCenter/organizationInfo/till/view",query:{data:encodeURIComponent(JSON.stringify(t))}})},goContinueToAdd(){this.refreshCurrentPage()},submitCreateTill(t){this.$refs[t].validate(t=>{if(!t)return!1;{let{msisdn:t,tillNumber:e,languageCode:a,productIdList:i,organizationShortCode:n,defaultOperatorID:r}=this.tillFormData,l={organizationId:n,msisdn:t,tillNumber:e,languageCode:a,productIdList:i,defaultOperId:r||""};this.submitLoading=!0,Object(f["d"])(l).then(t=>{this.submitLoading=!1,t.header&&t.header.success&&(this.createTill=!0,this.tillID=t.identityId)}).finally(()=>{this.submitLoading=!1})}})},cancel(t){if(!t){let t=this.$t("IDC.till.cancelOperation"),e=this.$t("common.button.confirm");this.$confirm(t,e,{confirmButtonText:"Yes",cancelButtonText:"No",closeOnClickModal:!1,type:"warning"}).then(()=>{this.refreshCurrentPage()})}},viewMsisdnRange(){this.msisdnRangeDialog=!0,this.initMsisdnRange()},initMsisdnRange(){null!=this.msisdnRangeLists&&this.msisdnRangeLists.length>0||Object(f["n"])({}).then(t=>{t.missdnRanges&&t.missdnRanges.length&&t.missdnRanges.forEach((t,e)=>{this.msisdnRangeLists.push({range:t.numberBegin+" ~ "+t.numberEnd,index:e+1})})})},getAssignProduct(t){this.tillFormData.productIdList=t,this.$refs.ruleForm.validateField("productIdList")},async getLanguagesList(){let t={dataId:"CACHE_LANGUAGE",groupId:"AG"},e=await Object(f["k"])(t);this.languageOpt=e.list},async queryOrgOperatorIdList(){let t={identityId:this.tillFormData.merchantId};this.defaultOperatorIdList=[{label:"Please select",value:""}];let e=await Object(f["o"])(t);e.orgOperatorList.forEach(t=>{this.defaultOperatorIdList.push({label:t.operatorId,value:t.orgOperatorId})})},async getIdrulues(){this.defaultOperatorIDRules=await Object(w["b"])()}},created(){this.initMsisdnRange()},mounted(){this.getLanguagesList(),this.isShowBtn(),this.getIdrulues()},watch:{"tillFormData.organizationShortCode":{handler(){this.tillFormData.organizationShortCode?this.showInformation=!0:this.showInformation=!1}},"tillFormData.defaultOperatorID":{handler(){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{this.$refs["ruleForm"].validateField("defaultOperatorID",()=>{})},500)}},checkShortCode(){let t=async(t,e,a)=>{this.checkShortCode?a():a(new Error("The Organization Short Code is invalid."))},e={validator:t,trigger:"blur"};this.tillFormRules.organizationShortCode.push(e),this.$refs.ruleForm.validateField("organizationShortCode")}},beforeDestroy(){this.deleteIdenti()}},I=O,L=(a("4d30"),Object(h["a"])(I,i,n,!1,null,"50c293b6",null));e["default"]=L.exports},"8b7e":function(t,e,a){},9981:function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"create-success"},[t._m(0),t.iconText?e("div",{staticClass:"icon-text"},[t._v(t._s(t.iconText))]):t._e(),e("div",{staticClass:"success-info"},[t._v(t._s(t.successText))]),t.tip?e("div",{staticClass:"success-tip"},[t._v(t._s(t.tip))]):t._e(),e("div",{staticClass:"success-operate"},[e("span",{staticClass:"success-operate__pretext"},[t._v("You can:")]),t.detailText?e("span",{staticClass:"view-detail operate-btn",attrs:{id:"viewDetail"},on:{click:t.handleViewDetail}},[t._v(" "+t._s(t.detailText)+" ")]):t._e(),e("span",{staticClass:"operate-btn",attrs:{id:"continueAdd"},on:{click:t.handleContinueAddClick}},[t._v(t._s(t.addText))])])])},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"check-icon"},[e("i",{staticClass:"el-icon-a-create-successsmall success-icon"})])}],r={name:"PortalCreateSuccess",props:{iconText:{type:String,default:""},successText:{type:String,default:"created successfully."},detailText:{type:String,default:"View Detail >>"},addText:{type:String,default:"Continue to Add >>"}},data(){return{tip:""}},methods:{handleViewDetail(){this.$emit("view-detail")},handleContinueAddClick(){this.$emit("continue-add")}}},l=r,o=(a("6198"),a("2877")),s=Object(o["a"])(l,i,n,!1,null,"c62ed3d4",null);e["a"]=s.exports},"9cd1":function(t,e,a){"use strict";a("6226")},a1d6:function(t,e,a){},a938:function(t,e,a){"use strict";a("cefd")},be9f:function(t,e,a){"use strict";a("3b8a")},bfbd:function(t,e,a){},cefd:function(t,e,a){},d3d3:function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"footer-tap-button"},[e("div",{staticClass:"footer-tap-content",class:{"has-sidebar":t.hasSidebar}},[t.showCancel?e("el-button",{attrs:{id:"reset",type:"primary",plain:"",size:"small"},on:{click:t.resetHndle}},[t._v(t._s(t.$t("common.button.cancel")))]):t._e(),t.showCancel||t.hasOnlySubmitBtn?t._e():e("el-button",{attrs:{id:"reset",type:"primary",plain:"",size:"small"},on:{click:t.resetHndle}},[t._v(t._s(t.$t("common.button.reset")))]),t.showPrevious?e("el-button",{attrs:{id:"previous",size:"small",type:"primary",plain:""},on:{click:t.previousHandle}},[t._v(t._s(t.$t("common.button.prevent"))+" ")]):t._e(),t.showNext?e("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{id:"next",size:"small",type:"primary",disabled:t.submitDisabled,loading:t.submitLoading},on:{click:t.nextHandle}},[t._v(t._s(t.$t("common.button.next")))]):e("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{id:"Submit",size:"small",type:"primary",disabled:t.submitDisabled,loading:t.submitLoading},on:{click:t.submitHanle}},[t._v(" "+t._s(t.$t("common.button.submit"))+" ")])],1)])},n=[],r={name:"footer-tap-button",props:{activeName:{type:String,default:""},steps:{type:Array,default:()=>[]},submitLoading:{type:Boolean,default:!1},submitDisabled:{type:Boolean,default:!1},showCancel:{type:Boolean,default:!1},hasSidebar:{type:Boolean,default:!1},hasOnlySubmitBtn:{type:Boolean,default:!1}},data(){return{inputeValue:"",showQuickLinks:!1}},computed:{showNext(){const{steps:t,activeName:e}=this;return t.length&&t[t.length-1].name!==e},showPrevious(){const{steps:t,activeName:e}=this;return t.length&&t[0].name!==e}},methods:{resetHndle(){this.$emit("reset")},nextHandle(){this.$emit("next")},previousHandle(){this.$emit("previous")},submitHanle(){this.$emit("submit")}}},l=r,o=(a("67d5"),a("9cd1"),a("2877")),s=Object(o["a"])(l,i,n,!1,null,"6b579326",null);e["a"]=s.exports},e863:function(t,e,a){"use strict";a.d(e,"r",(function(){return r})),a.d(e,"p",(function(){return l})),a.d(e,"d",(function(){return o})),a.d(e,"m",(function(){return s})),a.d(e,"f",(function(){return c})),a.d(e,"g",(function(){return u})),a.d(e,"h",(function(){return d})),a.d(e,"i",(function(){return h})),a.d(e,"c",(function(){return g})),a.d(e,"j",(function(){return p})),a.d(e,"k",(function(){return f})),a.d(e,"o",(function(){return m})),a.d(e,"l",(function(){return b})),a.d(e,"n",(function(){return C})),a.d(e,"q",(function(){return v})),a.d(e,"a",(function(){return y})),a.d(e,"b",(function(){return S})),a.d(e,"e",(function(){return D}));var i=a("0bbd"),n=a("5f9a");function r(t){return Object(i["a"])({url:"/fintech/v1/till/queryBusinessTillList",method:"post",data:t})}function l(t){return Object(i["a"])({url:"/fintech/v1/till/query",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/fintech/v1/till/create",method:"post",data:t})}function s(t){return Object(i["a"])({url:"/fintech/v1/till/dcc/queryProduct",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/fintech/v1/till/changeTillDeviceService",method:"post",data:t})}function u(t){return Object(i["a"])({url:"/fintech/v1/till/changeStatus",method:"post",data:t})}function d(t){return Object(i["a"])({url:"/fintech/v1/till/changeLanguage",method:"post",data:t})}function h(t){return Object(i["a"])({url:"/fintech/v1/till/changeTillOperatorId",method:"post",data:t})}function g(t){return Object(i["a"])({url:"/fintech/v1/till/close",method:"post",data:t})}function p(t){return Object(i["a"])({url:"/fintech/v1/till/changeTillProduct",method:"post",data:t})}function f(t){return Object(i["a"])({url:"/fintech/v1/till/getLanguages",method:"post",data:t})}function m(t){return Object(i["a"])({url:"/fintech/v1/till/queryOrgOperatorIdList",method:"post",data:t})}function b(t){return Object(i["a"])({url:Object(n["a"])("/fintech/v1/organization/list",t),method:"get"})}function C(t){return Object(i["a"])({url:"/fintech/v1/till/loadRangeDcc",method:"post",data:t})}function v(t){return Object(i["a"])({url:"/fintech/v1/till/queryTillProductList",data:t,method:"post"})}function y(t){return Object(i["a"])({url:"/fintech/v1/till/checkRangeDcc",method:"post",data:t})}function S(t){return Object(i["a"])({url:"/fintech/v1/till/checkTill",method:"post",data:t})}function D(t){return Object(i["a"])({url:"/fintech/v1/till/defaultOperatorIdRule",method:"get",data:t})}},fe42:function(t,e,a){"use strict";a("0934")}}]);
//# sourceMappingURL=chunk-634f7dfe.js.map