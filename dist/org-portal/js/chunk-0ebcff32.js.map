{"version":3,"sources":["webpack:///./src/views/identifier-center/pages/organization/list/components/dialog-region.vue?b2e3","webpack:///./src/views/identifier-center/pages/organization/components/edit-status.vue?7a23","webpack:///./src/views/identifier-center/pages/organization/list/index.vue","webpack:///./src/views/identifier-center/pages/organization/components/edit-status.vue","webpack:///src/views/identifier-center/pages/organization/components/edit-status.vue","webpack:///./src/views/identifier-center/pages/organization/components/edit-status.vue?435c","webpack:///./src/views/identifier-center/pages/organization/components/edit-status.vue?1622","webpack:///./src/views/identifier-center/pages/organization/list/components/dialog-region.vue","webpack:///src/views/identifier-center/pages/organization/list/components/dialog-region.vue","webpack:///./src/views/identifier-center/pages/organization/list/components/dialog-region.vue?9db1","webpack:///./src/views/identifier-center/pages/organization/list/components/dialog-region.vue?a17d","webpack:///src/views/identifier-center/pages/organization/list/index.vue","webpack:///./src/views/identifier-center/pages/organization/list/index.vue?9c87","webpack:///./src/views/identifier-center/pages/organization/list/index.vue?cd97","webpack:///./src/views/identifier-center/pages/components/dialog-product.vue?7caa","webpack:///./src/views/identifier-center/pages/organization/utils/organizatoin-enums.js","webpack:///./src/views/identifier-center/pages/components/dialog-product.vue","webpack:///src/views/identifier-center/pages/components/dialog-product.vue","webpack:///./src/views/identifier-center/pages/components/dialog-product.vue?eff6","webpack:///./src/views/identifier-center/pages/components/dialog-product.vue?53c0","webpack:///./src/views/identifier-center/pages/organization/list/index.vue?f77f"],"names":["render","_vm","this","_c","_self","staticClass","attrs","titleConfig","ref","orgForm","formConfigList","orgFormRules","hasPerm","isSearching","on","orgFormField","searchBtnClickHandle","gotoCreatePage","_v","_s","$t","sortingQueryResultsBy","model","value","sortAcs","callback","$$v","$set","expression","_e","onSortByChange","orgColumns","getTableData","paginationConfig","scopedSlots","_u","key","fn","scope","style","statusStyle","data","row","status","showStatus","showAllowedEditIcon","$event","showEditDialog","scanOrgDetail","showCloseBtn","handleClose","statusDialogVisible","oldStatus","receiverIdentityId","changSearch","showShortCodeDialog","shortCode","productId","productName","loadProducts","showProductDialog","updateProduct","regionId","showRegionDialog","updateRegion","closeDialogVisible","confirmLoading","closeOrgDialog","submitClose","slot","closeDialogContent","closeOrgFormData","closeOrgFormRules","remark","staticRenderFns","editStatusVisible","closeEdit","editForm","editFormRules","domProps","newStatus","_l","newStatusList","item","label","reason","directives","name","rawName","editSubmit","props","type","default","curStatus","reasonList","required","message","trigger","operatorId","watch","handler","methods","getStatusList","getOrganizationStatus","statusCode","res","resetFormFields","organizationChangeStatus","then","msg","catch","component","visible","cancel","confirm","onOpen","searchText","class","singleCheck","regions","checkedKeys","nodeFilter","defaultProps","checkNode","proxy","components","PortalDialog","mixins","showDialog","initCheck","defaultExpandedKeys","children","computed","filter","created","activated","mounted","loadRegions","getRegionData","header","regionInfoTreeDatas","sortRegionTreeNode","checkAllParent","closeDialog","reset","restore","search","DialogProduct","DialogRegion","OrgEditStatus","PortalForm","PortalHeader","PortalShortCode","PortalTable","checkedProduct","title","desc","city","organizationName","regionName","tillMsisdn","total","pageNo","pageSize","prop","width","__slotName","fixed","showOrganizationDialog","closeShortCode","closeOrgName","closeOrgId","showCloseBtnArr","closeOldStatus","bind","clearable","placeholder","comp","formItemClass","options","slots","icon","underline","event","click","change","readonly","focus","param","confirmButtonText","region","success","totalRecords","list","Object","organizationId","parentId","parentShortCode","sessionStorage","JSON","id","identityId","propShortCode","path","query","closeOrg","finally","showCancelButton","showClose","logout","IDENTITY_STATUS_TYPE","NEW","PENDING_ACTIVE","ACTIVE","SUSPENDED","FROZEN","CLOSED","CAPPED","DORMANT","getIdentityStatusName","val","STATUS_MAP","isAllowedEdit","STATUS_ALLOWED_MAP","IDENTITY_MODEL","CAN_MAKE_AGGREGATOR","CAN_MAKE_OWNED","CAN_MAKE_ALLTYPE","NONEHIERARCHY","AGGREGATOR","CENTRAL_OWNED","getSubAgentModelName","condition","nativeOn","preventDefault","indexOf","_k","keyCode","apply","arguments","trim","columns","loadData","checks","searching","pagination","onSelectionChange","onSingleSelectionChange","TablePage","check","checked","dataLoader","align","pageIndex","layout","productIndex"],"mappings":"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AtG,0BACAwG,qBAEA/H,kBACAgI,QACAC,SACAC,aAEApI,YACA,CACAqD,mDACAgF,sBACA,qBACA,uCAEA,iBAEA,CACAhF,8DACAgF,iBACA,qBACA,6BAEAC,WAEA,CACAjF,yDACAgF,wBACA,qBACA,2CAEA,iBAEA,CACAhF,+CACAgF,cACA,qBACA,uBAEAE,oBACA,iBAEA,CACAlF,+CACAgF,cACA,qBACA,uBAEA,iBAEA,CACAhF,6CACAgF,YACA,qBACA,mBAEA,iBAEA,CACAE,uBACAlF,kDACAiF,UACAE,gBAGAhH,uBACAiH,0BACA5G,qBACAG,oBACAQ,kBACAE,WAEAD,mBACAC,iBAEAR,sBACAC,kBACAI,sBACAmG,kBACAC,gBACAC,cACAC,sCACAC,oBAIAzC,UACA1H,iBACA,OACA,CACAoK,MACAC,aACA,2BACAC,gDACA,qBAEAC,gBACAC,qCACA9I,gBACAgD,wDACA+F,WACAf,iBACAgB,OACA,CACA7F,cACA0F,eACA5D,wBACAyD,MACAO,oBACAC,cAEAC,OACAC,WACA,6BAEAC,kBAKA,CACAX,MACAC,aACAC,iDAEAC,gBACAM,OACAE,eAEArJ,uBACAgD,mDACAgF,yBAEA,CACAU,MACAC,aACA,2BACAC,iDACAU,aAEAH,OACAI,WACA,4BAGAV,gBACAC,qCACA9I,kBACAgD,0CACA+F,WACAf,mBACAgB,OACA,CACA7F,cACA0F,eACA5D,wBACAyD,MACAO,oBACAC,cAEAC,OACAC,WACA,+BAMA,CACAV,MACAC,aACAC,kDAEAC,iBACAM,OACAE,eAEArJ,aACAgD,yCACA+F,SACA,CAAA/F,YAAA7D,UACA,CAAA6D,eAAA7D,YACA,CAAA6D,eAAA7D,YACA,CAAA6D,gBAAA7D,YACA,CAAA6D,eAAA7D,YACA,CAAA6D,YAAA7D,YACA,CAAA6D,kBAAA7D,cAGA,CACAuJ,MACAC,aACA,2BACAC,iDACAU,aAEAT,gBACAM,OACAE,WACA,IACA,6BAGAE,WACA,2BAGAT,qCACA9I,iBACAgD,yCACA+F,WACAf,kBACAgB,OACA,CACA7F,cACA0F,eACA5D,wBACAyD,MACAO,oBACAC,cAEAC,OACAC,WACA,8BAMA,CACAV,MACAC,aACAC,iDAEAC,gBACA7I,WACAgD,uCACAgF,aAEA,CACAU,MACAE,gDACAZ,mBAEAW,aACAE,gBACA7I,iBACAgD,gDAIA5C,cACA,WACA,UACA,SACA,qCACA,SACA,wEACA,SACA,2EACA,SACA,qCACA,SACA,2EACA,SACA,2EACA,SACA,wEACA,SACA,wEACA,QACA,WAMAgG,YAEAnC,SACA/C,eACA,oBAGAP,kBACA,yCACA,wBACA,6BAGA,sBACA6I,yBACA,8BAIA,OAHA,mBACAnF,wBAEA,GAEA3E,mBACAd,uBACA,gBAAAwC,mBAAAsG,WAAAhG,SAAAnB,YAAAc,OAAAoG,aAAAG,GAAA,aACA,mBACA,SACA,QACA,kGACA,6BACA6B,mCAIA,oBACA,mCAEA,wBACA,IACA,OACArI,iCACAsG,+CACAD,uBACAlH,2BACAc,iCACAuG,mCACA8B,gCAEA,+BAMA,kCALA,4DACA,sBACA,wBAIA,SACA,WAGA,qBACA,qCACA,MAEA,OADA,oBACA,CACAnD,QACAoD,YAEAC,eACAC,SAGA,IAYA,EAZA,KACAC,qCACA,aAEA,mCAGAN,6CAFAA,aAKAA,yCACAA,0CAEA,IACAnF,0BACA,iBACAA,iCAEA,SACAA,GACAkC,QACAoD,aAGA,QACA,oBAEA,UAEA/I,iBACA,mBAAAmJ,WAAAC,mBAAAtC,kBAAAuC,GAAA,EACA,yBACA,OAEA,GACAC,uBACAH,EACAI,gBACAzC,mBACAuC,qBAIA,yBACA,GACAG,KACAC,aACAN,iBACAO,2BAEA,oBAAAC,cAAAC,OAAAnK,+CAEAxB,iBACA,oBAAA0L,iBAEA5L,eACA,qCAEA8B,uBACA,0BAEAD,cACA,0BAEAoB,gBACA,wCACA,6CAEAH,iBACA,aACA,yCACA,4CAEA,0BACA,8BAGAX,eACA,wBACA,iCACA,gCACA,qCACA,6BACA,4GACA,4BAEAiB,iBACA,2BACA,iCAEAC,cACA,gCACA,MACA,SACAf,mCACAoB,oCACArB,yBACA4B,gBAEA,uBACA6H,kBACAjG,SACA,6BACA,oBACA,2BACA,SACA,2EAEA,sBACA,wFAKAkG,aACA,oBACA,uBACA,8DACA,cACA,8GACA,cACA,CACAjB,4BACAkB,oBACAC,eAEA,UACAC,0BACA,sBACA,mBAAAN,gBACA,iEASA1J,gBACA,mDCzqB2Y,ICQvY,G,UAAY,eACd,EACAjD,EACA0E,GACA,EACA,KACA,WACA,OAIa,e,sECnBf,W,oCCAA,0LAEO,MAAMwI,EAAuB,CAClCC,IAAK,KACLC,eAAgB,KAChBC,OAAQ,KACRC,UAAW,KACXC,OAAQ,KACRC,OAAQ,KACRC,OAAQ,KACRC,QAAS,MAGJ,SAASC,EAAsBC,GACpC,OAAOC,OAAWD,IAAQ,IAErB,SAASE,EAAcnL,GAC5B,MAAMoL,EAAqB,CACzB,CAACb,EAAqBG,QAAS,SAC/B,CAACH,EAAqBI,WAAY,YAClC,CAACJ,EAAqBK,QAAS,UAEjC,OAAOQ,EAAmBpL,GAGrB,MAAMqL,EAAiB,CAC5BC,oBAAqB,OACrBC,eAAgB,OAChBC,iBAAkB,OAClBC,cAAe,OACfC,WAAY,OACZC,cAAe,QAGJC,EAAwBX,IACnC,OAAQA,GACN,KAAKI,EAAeC,oBAClB,MAAO,sBACT,KAAKD,EAAeE,eAClB,MAAO,iBACT,KAAKF,EAAeG,iBAClB,MAAO,mBACT,KAAKH,EAAeI,cAClB,MAAO,gBACT,KAAKJ,EAAeK,WAClB,MAAO,aACT,KAAKL,EAAeM,cAClB,MAAO,gBACT,QACE,U,oCCjDN,IAAItO,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQL,EAAImB,GAAG,8CAAgD,GAAG,QAAUnB,EAAI+G,QAAQ,MAAQ,QAAQ,wBAAuB,EAAM,eAAe/G,EAAIgH,QAAQnG,GAAG,CAAC,iBAAiB,SAASgC,GAAQ7C,EAAI+G,QAAQlE,KAAU,CAAC3C,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,UAAU,CAACK,IAAI,YAAY6G,MAAM,CAAC,WAAY,uBAAuB/G,MAAM,CAAC,KAAO,QAAQ,MAAQL,EAAIuO,UAAU,iBAAiB,OAAOC,SAAS,CAAC,OAAS,SAAS3L,GAAQA,EAAO4L,oBAAqB,CAACvO,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQL,EAAImB,GAAG,8CAAgD,GAAG,KAAO,iBAAiB,CAACjB,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,QAAQ,YAAc,gBAAgBQ,GAAG,CAAC,MAAQ,QAAU2N,SAAS,CAAC,MAAQ,SAAS3L,GAAQ,OAAIA,EAAO6C,KAAKgJ,QAAQ,QAAQ1O,EAAI2O,GAAG9L,EAAO+L,QAAQ,QAAQ,GAAG/L,EAAOV,IAAI,SAAgB,MAAY,QAAW0M,MAAM,KAAMC,aAAazN,MAAM,CAACC,MAAOtB,EAAIuO,UAAU9K,YAAajC,SAAS,SAAUC,GAAMzB,EAAI0B,KAAK1B,EAAIuO,UAAW,cAA+B,kBAAR9M,EAAkBA,EAAIsN,OAAQtN,IAAOE,WAAW,4BAA4B,IAAI,GAAGzB,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,GAAG,KAAO,SAASQ,GAAG,CAAC,MAAQb,EAAI+I,QAAQ,CAAC/I,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAImB,GAAG,2BAA2BjB,EAAG,YAAY,CAACmF,WAAW,CAAC,CAACC,KAAK,iBAAiBC,QAAQ,qBAAqBlF,MAAM,CAAC,MAAQ,GAAG,KAAO,QAAQ,KAAO,WAAWQ,GAAG,CAAC,MAAQb,EAAIiJ,SAAS,CAACjJ,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAImB,GAAG,yBAAyB,QAAQ,IAAI,GAAGjB,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,QAAUL,EAAIgP,QAAQ,iBAAiBhP,EAAIiP,SAAS,cAAcjP,EAAIkP,OAAO,YAAW,EAAK,YAAYlP,EAAImP,UAAU,mBAAkB,EAAK,WAAanP,EAAIoP,WAAW,SAAS,eAAe,GAAK,QAAQ,KAAO,SAASvO,GAAG,CAAC,mBAAmBb,EAAIqP,kBAAkB,0BAA0BrP,EAAIsP,4BAA4B,GAAGpP,EAAG,OAAO,CAACE,YAAY,gBAAgBC,MAAM,CAAC,KAAO,UAAU+D,KAAK,UAAU,CAAClE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,YAAY,CAACmF,WAAW,CAAC,CAACC,KAAK,iBAAiBC,QAAQ,qBAAqBlF,MAAM,CAAC,KAAO,QAAQ,KAAO,WAAWQ,GAAG,CAAC,MAAQb,EAAIiH,UAAU,CAACjH,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAImB,GAAG,0BAA0B,OAAOjB,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,GAAG,KAAO,SAASQ,GAAG,CAAC,MAAQb,EAAIgH,SAAS,CAAChH,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAImB,GAAG,6BAA6B,QAAQ,IAEz2EsD,EAAkB,G,YCmEP,GACfa,qBACAsC,YAAA2H,kBACAzH,UACArC,OACA+J,OACA9J,aACAC,YAEA8J,SACA/J,YACAC,aACA,KAGA0B,aACA3B,aACAC,YAEAoB,SACArB,aACAC,YAEA+J,YACAhK,cACAC,iBAGAnD,OACA,OACA0M,UACAX,WACA9K,gBAEA0L,eAGAhH,UACA6G,UACA,OACA,CACA7J,4DACAgF,mBACAwF,aACA,qBACA,kCAGA,CACAxK,0CACAgF,mBACAwF,gBAIAP,aACA,OACAQ,YACA1F,YACA2F,qCAIA3J,OACAuJ,WACA,iBACA,cAAAK,yBAAArM,4BAEA,iBAIA2E,UACAC,qBACAC,uBACAC,qBACAnC,SACAY,SACA,oBAEAC,UACA,kCACA,sBAEA6B,kBACA,GACA,eAEA,iCAEA,kBAEA,GADAmD,gCACA,iBACA,MACA,IACAzF,2BACA,SACAA,GACAkC,QACAoD,aAGA,QACA,kBAEA,WAGAuD,qBACA,eAEAC,2BACA,iBAEAvG,YACA,8BACA,4BACA,GACA,eAGAE,SACA,qBC/LqY,I,wBCQjYnC,EAAY,eACd,EACA/G,EACA0E,GACA,EACA,KACA,WACA,MAIa,OAAAqC,E,2CCnBf,W","file":"js/chunk-0ebcff32.js","sourcesContent":["export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dialog-region.vue?vue&type=style&index=0&id=2ace6a80&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-status.vue?vue&type=style&index=0&id=556ee47f&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"review-transaction\"},[_c('portal-header',{attrs:{\"projectObj\":_vm.titleConfig}}),_c('portal-form',{ref:\"orgForm\",attrs:{\"form-data\":_vm.orgForm,\"form-config-list\":_vm.formConfigList,\"needOperateBtn\":true,\"form-rules\":_vm.orgFormRules,\"needBottomLine\":false,\"searchBtnDisabled\":!_vm.hasPerm('IC_IDENTITY_CREATEORG_SEARCH_BTN'),\"searchBtnLoading\":_vm.isSearching},on:{\"reset-btn-click\":_vm.orgFormField,\"search-btn-click\":_vm.searchBtnClickHandle}}),_c('div',{staticClass:\"table-area pageContainer\"},[_c('el-divider',{staticClass:\"task-divider\"}),_c('div',{staticClass:\"row-btn\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.hasPerm('IC_IDENTITY_CREATESUBORG_NEXT_BTN'),\"size\":\"small\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.gotoCreatePage}},[_vm._v(\" \"+_vm._s(_vm.$t('common.button.create'))+\" \")]),_c('div',{staticClass:\"sort-condition\"},[(_vm.orgForm.sortingQueryResultsBy !== '')?_c('el-select',{staticClass:\"sort-condition-ascending\",attrs:{\"size\":\"small\"},model:{value:(_vm.orgForm.sortAcs),callback:function ($$v) {_vm.$set(_vm.orgForm, \"sortAcs\", $$v)},expression:\"orgForm.sortAcs\"}},[_c('el-option',{attrs:{\"value\":\"Ascending\",\"label\":\"Ascending\"}}),_c('el-option',{attrs:{\"value\":\"Descending\",\"label\":\"Descending\"}})],1):_vm._e(),_c('el-select',{attrs:{\"size\":\"small\",\"placeholder\":_vm.$t('common.placeholder.select') + ''},on:{\"change\":_vm.onSortByChange},model:{value:(_vm.orgForm.sortingQueryResultsBy),callback:function ($$v) {_vm.$set(_vm.orgForm, \"sortingQueryResultsBy\", $$v)},expression:\"orgForm.sortingQueryResultsBy\"}},[_c('el-option',{attrs:{\"value\":\"\",\"label\":\"Sort By\"}}),_c('el-option',{attrs:{\"value\":\"City\",\"label\":\"City\"}}),_c('el-option',{attrs:{\"value\":\"Organization Name\",\"label\":\"Organization Name\"}}),_c('el-option',{attrs:{\"value\":\"Organization Short Code\",\"label\":\"Organization Short Code\"}})],1)],1)],1),_c('portal-table',{attrs:{\"size\":\"small\",\"columns\":_vm.orgColumns,\"getTableData\":_vm.getTableData,\"initializing-loading\":false,\"isSearch\":_vm.isSearching,\"pagination\":_vm.paginationConfig,\"sortArr\":['organizationId', 'shortCode', 'organizationName', 'status', 'region', 'city']},scopedSlots:_vm._u([{key:\"status\",fn:function(scope){return [_c('div',{staticClass:\"status-group\"},[_c('span',{staticClass:\"status-circle\",style:(_vm.statusStyle(scope.data.row.status))}),_c('span',{staticClass:\"status-name\"},[_vm._v(_vm._s(_vm.showStatus(scope.data.row.status)))]),(_vm.showAllowedEditIcon(scope.data.row.status))?_c('el-link',{attrs:{\"underline\":false,\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.showEditDialog(scope.data.row)}}}):_vm._e()],1)]}},{key:\"operation\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.scanOrgDetail(scope.data.row)}}},[_vm._v(\"Detail \")]),(_vm.showCloseBtn(scope.data.row))?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleClose(scope.data.row)}}},[_vm._v(\"Close\")]):_vm._e()]}}])})],1),_c('org-edit-status',{attrs:{\"editStatusVisible\":_vm.statusDialogVisible,\"curStatus\":_vm.oldStatus,\"receiverIdentityId\":_vm.receiverIdentityId},on:{\"update:editStatusVisible\":function($event){_vm.statusDialogVisible=$event},\"update:edit-status-visible\":function($event){_vm.statusDialogVisible=$event},\"update:curStatus\":function($event){_vm.oldStatus=$event},\"update:cur-status\":function($event){_vm.oldStatus=$event},\"update:receiverIdentityId\":function($event){_vm.receiverIdentityId=$event},\"update:receiver-identity-id\":function($event){_vm.receiverIdentityId=$event},\"changSearch\":_vm.changSearch}}),_c('portal-short-code',{attrs:{\"search-visible\":_vm.showShortCodeDialog,\"short-code\":_vm.orgForm.shortCode},on:{\"update:searchVisible\":function($event){_vm.showShortCodeDialog=$event},\"update:search-visible\":function($event){_vm.showShortCodeDialog=$event},\"update:shortCode\":function($event){return _vm.$set(_vm.orgForm, \"shortCode\", $event)},\"update:short-code\":function($event){return _vm.$set(_vm.orgForm, \"shortCode\", $event)}}}),_c('dialog-product',{attrs:{\"check\":true,\"checked\":{ productId: _vm.orgForm.productId, productName: _vm.orgForm.productName },\"data-loader\":_vm.loadProducts,\"single-check\":true,\"visible\":_vm.showProductDialog},on:{\"update:visible\":function($event){_vm.showProductDialog=$event},\"confirm\":_vm.updateProduct}}),_c('dialog-region',{attrs:{\"init-check\":this.orgForm.regionId,\"show-dialog\":_vm.showRegionDialog},on:{\"update:showDialog\":function($event){_vm.showRegionDialog=$event},\"update:show-dialog\":function($event){_vm.showRegionDialog=$event},\"confirm\":_vm.updateRegion}}),_c('portal-dialog',{attrs:{\"confirmText\":\"Submit\",\"cancelText\":\"Cancel\",\"visible\":_vm.closeDialogVisible,\"title\":\"Close Organization\",\"submitLoading\":_vm.confirmLoading},on:{\"cancel-btn-click\":_vm.closeOrgDialog,\"confirm-btn-click\":_vm.submitClose,\"close\":_vm.closeOrgDialog}},[_c('template',{slot:\"content\"},[_c('span',[_vm._v(_vm._s(_vm.closeDialogContent))]),_c('el-divider',{staticClass:\"divider\"}),_c('div',{staticClass:\"dialog-form\"},[_c('el-form',{ref:\"formRef\",attrs:{\"model\":_vm.closeOrgFormData,\"rules\":_vm.closeOrgFormRules}},[_c('el-form-item',{attrs:{\"label\":\"Remark\",\"prop\":\"remark\",\"required\":\"\"}},[_c('el-input',{staticClass:\"input-area\",attrs:{\"type\":\"textarea\",\"placeholder\":\"Please enter\"},model:{value:(_vm.closeOrgFormData.remark),callback:function ($$v) {_vm.$set(_vm.closeOrgFormData, \"remark\", $$v)},expression:\"closeOrgFormData.remark\"}})],1)],1)],1)],1)],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',{attrs:{\"title\":_vm.$t('IDC.orgOperator.editStatus'),\"visible\":_vm.editStatusVisible,\"width\":\"448px\",\"before-close\":_vm.closeEdit},on:{\"update:visible\":function($event){_vm.editStatusVisible=$event}}},[_c('el-form',{ref:\"editForm\",attrs:{\"size\":\"small\",\"label-position\":\"top\",\"model\":_vm.editForm,\"rules\":_vm.editFormRules}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('IDC.orgOperator.currentStatus'),\"prop\":\"oldStatus\"}},[_c('div',{staticClass:\"text\",domProps:{\"textContent\":_vm._s(_vm.showStatus(_vm.editForm.oldStatus))}})])],1),_c('el-col',{staticClass:\"new-status\",attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('IDC.orgOperator.newStatus'),\"prop\":\"newStatus\"}},[_c('el-select',{attrs:{\"size\":\"small\",\"placeholder\":_vm.$t('common.placeholder.select')},model:{value:(_vm.editForm.newStatus),callback:function ($$v) {_vm.$set(_vm.editForm, \"newStatus\", $$v)},expression:\"editForm.newStatus\"}},_vm._l((_vm.newStatusList),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{staticClass:\"margin-bottom-0\",attrs:{\"label\":_vm.$t('IDC.orgOperator.reason'),\"prop\":\"reason\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"type\":\"textarea\",\"rows\":\"4\"},model:{value:(_vm.editForm.reason),callback:function ($$v) {_vm.$set(_vm.editForm, \"reason\", $$v)},expression:\"editForm.reason\"}})],1)],1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.closeEdit}},[_vm._v(_vm._s(_vm.$t('common.button.cancel')))]),_c('el-button',{directives:[{name:\"preventReClick\",rawName:\"v-preventReClick\"}],attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.editSubmit}},[_vm._v(_vm._s(_vm.$t('common.button.submit')))])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog\n    :title=\"$t('IDC.orgOperator.editStatus')\"\n    :visible.sync=\"editStatusVisible\"\n    width=\"448px\"\n    :before-close=\"closeEdit\"\n  >\n    <el-form size=\"small\" label-position=\"top\" :model=\"editForm\" ref=\"editForm\" :rules=\"editFormRules\">\n      <el-row :gutter=\"20\">\n        <el-col :span=\"24\">\n          <el-form-item :label=\"$t('IDC.orgOperator.currentStatus')\" prop=\"oldStatus\">\n            <div class=\"text\" v-text=\"showStatus(editForm.oldStatus)\" />\n          </el-form-item>\n        </el-col>\n\n        <el-col :span=\"24\" class=\"new-status\">\n          <el-form-item :label=\"$t('IDC.orgOperator.newStatus')\" prop=\"newStatus\">\n            <el-select size=\"small\" v-model=\"editForm.newStatus\" :placeholder=\"$t('common.placeholder.select')\">\n              <el-option v-for=\"item in newStatusList\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n\n        <el-col :span=\"24\">\n          <el-form-item class=\"margin-bottom-0\" :label=\"$t('IDC.orgOperator.reason')\" prop=\"reason\">\n            <el-input size=\"small\" type=\"textarea\" rows=\"4\" v-model=\"editForm.reason\"> </el-input>\n          </el-form-item>\n        </el-col>\n      </el-row>\n    </el-form>\n\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"closeEdit\" size=\"small\">{{ $t('common.button.cancel') }}</el-button>\n      <el-button type=\"primary\" size=\"small\" @click=\"editSubmit\" v-preventReClick>{{\n        $t('common.button.submit')\n      }}</el-button>\n    </span>\n  </el-dialog>\n</template>\n\n<script>\nimport { organizationChangeStatus, getOrganizationStatus } from '@/views/identifier-center/api/api-organization.js';\nimport { STATUS_MAP } from '@/views/task-center/page/task-detail/utils/data-dic.js';\n\nexport default {\n  name: 'OrgEditStatus',\n  props: {\n    editStatusVisible: {\n      type: Boolean,\n      default: false,\n    },\n    curStatus: {\n      type: String,\n      default: () => '',\n    },\n    receiverIdentityId: {\n      type: String,\n      default: () => '',\n    },\n  },\n  data() {\n    return {\n      editForm: {\n        oldStatus: '',\n        newStatus: '',\n        reason: '',\n        receiverIdentityId: '',\n      },\n      newStatusList: [],\n      reasonList: [\n        { label: 'Not Use', value: '1' },\n        { label: 'Id Expired', value: '2' },\n      ],\n      editFormRules: {\n        newStatus: [\n          {\n            required: true,\n            message: 'Please select content',\n            trigger: 'change',\n          },\n        ],\n        reason: [\n          {\n            required: true,\n            message: 'Please enter content',\n            trigger: 'blur',\n          },\n        ],\n      },\n      operatorId: '',\n    };\n  },\n  watch: {\n    curStatus: {\n      handler(value) {\n        this.editForm.oldStatus = value;\n      },\n    },\n    receiverIdentityId: {\n      handler(value) {\n        this.editForm.receiverIdentityId = value;\n      },\n    },\n    editStatusVisible: {\n      handler(value) {\n        if (value) {\n          this.getStatusList(this.curStatus);\n        }\n      },\n    },\n  },\n\n  methods: {\n    showStatus(val) {\n      return STATUS_MAP[val] || '-';\n    },\n    getStatusList(statusCode) {\n      this.newStatusList = [];\n\n      if (!statusCode) {\n        return;\n      }\n\n      getOrganizationStatus({ statusCode }).then((res) => {\n        if (res.header && res.header.success) {\n          if (res.statusList.length > 0) {\n            res.statusList.forEach((item) => {\n              this.newStatusList.push({\n                value: item.code,\n                label: item.name,\n              });\n            });\n          }\n        }\n      });\n    },\n    resetFormFields() {\n      this.$refs['editForm'].resetFields();\n      this.$emit('update:editStatusVisible', false);\n      this.$emit('update:curStatus', '');\n      this.$emit('update:receiverIdentityId', '');\n    },\n    closeEdit() {\n      this.resetFormFields();\n    },\n    editSubmit() {\n      this.$refs['editForm'].validate((valid) => {\n        if (valid) {\n          let params = { ...this.editForm };\n\n          organizationChangeStatus(params)\n            .then((res) => {\n              this.$emit('update:editStatusVisible', false);\n              if (res.header && res.header.success) {\n                this.resetFormFields();\n                let msg = 'Status edited successfully.';\n                if (res.header.responseDesc) {\n                  msg = res.header.responseDesc;\n                }\n                this.$message.success(msg);\n                this.$emit('changSearch', true);\n              } else {\n                let msg = 'Status edited failed.';\n                if (res.header && res.header.responseDesc) {\n                  msg = res.header.responseDesc;\n                } else {\n                  msg = res.errorMessage || msg;\n                }\n                this.$message.error(msg);\n                this.$emit('update:editStatusVisible', false);\n              }\n            })\n            .catch(() => {\n              this.$emit('update:editStatusVisible', false);\n            });\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n/deep/ .el-dialog {\n  .el-dialog__body {\n    padding-bottom: 20px;\n\n    .el-form {\n      .el-form-item {\n        el-form-item__content {\n          line-height: 32px;\n        }\n      }\n    }\n  }\n}\n.text {\n  line-height: 1;\n}\n/deep/ .el-form {\n  .el-form-item {\n    .el-form-item__content {\n      line-height: 32px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-status.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-status.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edit-status.vue?vue&type=template&id=556ee47f&scoped=true&\"\nimport script from \"./edit-status.vue?vue&type=script&lang=js&\"\nexport * from \"./edit-status.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edit-status.vue?vue&type=style&index=0&id=556ee47f&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"556ee47f\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('portal-dialog',{attrs:{\"title\":_vm.$t('IDC.organization.dialogRegion.dialogTitle') + '',\"visible\":_vm.visible,\"append-to-body\":\"\",\"destroy-on-close\":\"\",\"top\":\"12vh\",\"width\":\"560px\"},on:{\"update:visible\":function($event){_vm.visible=$event},\"cancel-btn-click\":_vm.cancel,\"closed-dialog\":_vm.cancel,\"confirm-btn-click\":_vm.confirm,\"opened\":_vm.onOpen},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('div',{staticClass:\"select_tree_container\"},[_c('el-input',{attrs:{\"clearable\":\"\",\"size\":\"small\",\"suffix-icon\":\"el-icon-search\"},model:{value:(_vm.searchText),callback:function ($$v) {_vm.searchText=$$v},expression:\"searchText\"}}),_c('el-tree',{ref:\"regionTree\",class:{ 'single-check': _vm.singleCheck },attrs:{\"data\":_vm.regions,\"default-checked-keys\":_vm.checkedKeys,\"default-expanded-keys\":_vm.checkedKeys,\"filter-node-method\":_vm.nodeFilter,\"indent\":26,\"props\":_vm.defaultProps,\"accordion\":\"\",\"check-strictly\":\"\",\"highlight-current\":\"\",\"node-key\":\"regionId\",\"show-checkbox\":\"\"},on:{\"check\":_vm.checkNode}})],1)]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <portal-dialog\n    :title=\"$t('IDC.organization.dialogRegion.dialogTitle') + ''\"\n    :visible.sync=\"visible\"\n    @cancel-btn-click=\"cancel\"\n    @closed-dialog=\"cancel\"\n    @confirm-btn-click=\"confirm\"\n    @opened=\"onOpen\"\n    append-to-body\n    destroy-on-close\n    top=\"12vh\"\n    width=\"560px\"\n  >\n    <template v-slot:content>\n      <div class=\"select_tree_container\">\n        <el-input v-model=\"searchText\" clearable size=\"small\" suffix-icon=\"el-icon-search\"></el-input>\n        <el-tree\n          :class=\"{ 'single-check': singleCheck }\"\n          ref=\"regionTree\"\n          :data=\"regions\"\n          :default-checked-keys=\"checkedKeys\"\n          :default-expanded-keys=\"checkedKeys\"\n          :filter-node-method=\"nodeFilter\"\n          :indent=\"26\"\n          :props=\"defaultProps\"\n          @check=\"checkNode\"\n          accordion\n          check-strictly\n          highlight-current\n          node-key=\"regionId\"\n          show-checkbox\n        ></el-tree>\n      </div>\n    </template>\n  </portal-dialog>\n</template>\n\n<script>\nimport PortalDialog from '@/components/portal-dialog';\nimport { getRegionData } from '@/components/kyc-common/kyc-form/kyc-api';\nimport { getRegionCode2FullNameMap, sortRegionTreeNode } from '@/components/kyc-common/utils';\n\nexport default {\n  name: 'DialogRegion',\n  components: { PortalDialog },\n  mixins: {},\n  props: {\n    showDialog: {\n      type: Boolean,\n      default: false,\n    },\n    initCheck: {\n      type: String,\n      default: () => {\n        return '';\n      },\n    },\n    singleCheck: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  data() {\n    return {\n      checkedKeys: [],\n      defaultExpandedKeys: [],\n      defaultProps: {\n        children: 'regionInfoTreeDatas',\n        label: 'regionName',\n      },\n      item: {},\n      regions: [],\n      searchText: '',\n      visible: false,\n    };\n  },\n  computed: {},\n  watch: {\n    searchText(value) {\n      this.$refs.regionTree.filter(value);\n    },\n    showDialog(value) {\n      this.visible = value;\n    },\n  },\n  filter: {},\n  created: function () {\n    this.loadRegions();\n  },\n  activated: function () {},\n  mounted: function () {},\n  methods: {\n    loadRegions() {\n      getRegionData().then((res) => {\n        const { header } = res;\n        if (header && header.success) {\n          const {\n            regionInfoTreeDatas: { regionInfoTreeDatas = [] },\n          } = res;\n          // 1. 将tree node进行排序\n          sortRegionTreeNode(regionInfoTreeDatas);\n          // 2. 获取 regionCode -> fullName 的映射，用于review阶段\n          this.$set(this.item, 'regionCode2FullNameMap', getRegionCode2FullNameMap(regionInfoTreeDatas));\n          this.regions = regionInfoTreeDatas;\n        }\n      });\n    },\n    cancel() {\n      this.closeDialog();\n    },\n\n    checkAllParent(data, target) {\n      for (let i in data) {\n        if (data[i].regionId === target) {\n          return [data[i].regionId];\n        }\n        if (data[i].regionInfoTreeDatas) {\n          let node = this.checkAllParent(data[i].regionInfoTreeDatas, target);\n          if (node) {\n            return node.concat(data[i].regionId);\n          }\n        }\n      }\n    },\n\n    checkNode(checked) {\n      let isChecked = this.checkedKeys.includes(checked.regionId);\n      if (this.singleCheck) {\n        this.checkedKeys = isChecked ? [] : [checked.regionId];\n      } else {\n        let checks = this.checkAllParent(this.regions, checked.regionId);\n        if (isChecked) {\n          this.checkedKeys = checks.slice(1);\n        } else {\n          this.checkedKeys = checks;\n        }\n      }\n      this.$refs.regionTree.setCheckedKeys(this.checkedKeys);\n    },\n    confirm() {\n      const nodes = this.$refs.regionTree.getCheckedNodes(false, false);\n      if (nodes && nodes.length) {\n        const checked = nodes[nodes.length - 1];\n        this.$emit('confirm', checked);\n      } else {\n        this.$emit('confirm', null);\n      }\n      this.closeDialog(false);\n    },\n    closeDialog(reset = true) {\n      if (reset) {\n        this.reset(false);\n      }\n      this.$emit('update:show-dialog', false);\n    },\n    nodeFilter(value, data) {\n      if (!value) {\n        return true;\n      }\n      let lowerValue = value.toLowerCase();\n      let lowerRegionName = data[this.defaultProps.label].toLowerCase();\n      return lowerRegionName.indexOf(lowerValue) !== -1;\n    },\n    onOpen() {\n      this.restore();\n    },\n    reset(reload = true) {\n      this.searchText = '';\n      this.restore();\n      if (reload) {\n        this.search();\n      }\n    },\n    restore() {\n      if (this.initCheck) {\n        this.checkedKeys = this.singleCheck\n          ? [this.initCheck]\n          : this.checkAllParent(this.regions, this.initCheck) || [];\n      } else {\n        this.checkedKeys = [];\n      }\n      this.$refs.regionTree.setCheckedKeys(this.checkedKeys);\n    },\n    search() {\n      this.searching = true;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n/deep/ .el-dialog .el-dialog__body {\n  padding: 16px 16px 0 !important;\n  margin: 0 24px !important;\n  border: 1px solid $--line_color--grey;\n  .el-tree {\n    padding-top: 16px;\n  }\n\n  .single-check {\n    .el-checkbox__inner {\n      border-radius: 50%;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dialog-region.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dialog-region.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dialog-region.vue?vue&type=template&id=2ace6a80&scoped=true&\"\nimport script from \"./dialog-region.vue?vue&type=script&lang=js&\"\nexport * from \"./dialog-region.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dialog-region.vue?vue&type=style&index=0&id=2ace6a80&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ace6a80\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"review-transaction\">\n    <portal-header :projectObj=\"titleConfig\" />\n    <portal-form\n      ref=\"orgForm\"\n      :form-data=\"orgForm\"\n      :form-config-list=\"formConfigList\"\n      :needOperateBtn=\"true\"\n      :form-rules=\"orgFormRules\"\n      :needBottomLine=\"false\"\n      :searchBtnDisabled=\"!hasPerm('IC_IDENTITY_CREATEORG_SEARCH_BTN')\"\n      :searchBtnLoading=\"isSearching\"\n      @reset-btn-click=\"orgFormField\"\n      @search-btn-click=\"searchBtnClickHandle\"\n    />\n    <div class=\"table-area pageContainer\">\n      <el-divider class=\"task-divider\"></el-divider>\n      <div class=\"row-btn\">\n        <el-button\n          type=\"primary\"\n          :disabled=\"!hasPerm('IC_IDENTITY_CREATESUBORG_NEXT_BTN')\"\n          size=\"small\"\n          @click=\"gotoCreatePage\"\n          icon=\"el-icon-plus\"\n        >\n          {{ $t('common.button.create') }}\n        </el-button>\n        <div class=\"sort-condition\">\n          <el-select\n            class=\"sort-condition-ascending\"\n            size=\"small\"\n            v-if=\"orgForm.sortingQueryResultsBy !== ''\"\n            v-model=\"orgForm.sortAcs\"\n          >\n            <el-option value=\"Ascending\" label=\"Ascending\"></el-option>\n            <el-option value=\"Descending\" label=\"Descending\"></el-option>\n          </el-select>\n          <el-select\n            size=\"small\"\n            v-model=\"orgForm.sortingQueryResultsBy\"\n            @change=\"onSortByChange\"\n            :placeholder=\"$t('common.placeholder.select') + ''\"\n          >\n            <el-option value=\"\" label=\"Sort By\"></el-option>\n            <el-option value=\"City\" label=\"City\"></el-option>\n            <el-option value=\"Organization Name\" label=\"Organization Name\"></el-option>\n            <el-option value=\"Organization Short Code\" label=\"Organization Short Code\"></el-option>\n          </el-select>\n        </div>\n      </div>\n      <portal-table\n        size=\"small\"\n        :columns=\"orgColumns\"\n        :getTableData=\"getTableData\"\n        :initializing-loading=\"false\"\n        :isSearch=\"isSearching\"\n        :pagination=\"paginationConfig\"\n        :sortArr=\"['organizationId', 'shortCode', 'organizationName', 'status', 'region', 'city']\"\n      >\n        <template v-slot:status=\"scope\">\n          <div class=\"status-group\">\n            <span class=\"status-circle\" :style=\"statusStyle(scope.data.row.status)\"></span>\n            <span class=\"status-name\">{{ showStatus(scope.data.row.status) }}</span>\n            <el-link\n              v-if=\"showAllowedEditIcon(scope.data.row.status)\"\n              :underline=\"false\"\n              icon=\"el-icon-edit\"\n              @click=\"showEditDialog(scope.data.row)\"\n            ></el-link>\n          </div>\n        </template>\n        <template v-slot:operation=\"scope\">\n          <el-button type=\"text\" size=\"small\" @click=\"scanOrgDetail(scope.data.row)\">Detail </el-button>\n          <el-button v-if=\"showCloseBtn(scope.data.row)\" type=\"text\" size=\"small\" @click=\"handleClose(scope.data.row)\"\n            >Close</el-button\n          >\n        </template>\n      </portal-table>\n    </div>\n    <org-edit-status\n      :editStatusVisible.sync=\"statusDialogVisible\"\n      :curStatus.sync=\"oldStatus\"\n      :receiverIdentityId.sync=\"receiverIdentityId\"\n      @changSearch=\"changSearch\"\n    ></org-edit-status>\n    <portal-short-code\n      :search-visible.sync=\"showShortCodeDialog\"\n      :short-code.sync=\"orgForm.shortCode\"\n    ></portal-short-code>\n    <dialog-product\n      :check=\"true\"\n      :checked=\"{ productId: orgForm.productId, productName: orgForm.productName }\"\n      :data-loader=\"loadProducts\"\n      :single-check=\"true\"\n      :visible.sync=\"showProductDialog\"\n      @confirm=\"updateProduct\"\n    >\n    </dialog-product>\n    <dialog-region :init-check=\"this.orgForm.regionId\" :show-dialog.sync=\"showRegionDialog\" @confirm=\"updateRegion\">\n    </dialog-region>\n    <portal-dialog\n      confirmText=\"Submit\"\n      cancelText=\"Cancel\"\n      :visible=\"closeDialogVisible\"\n      title=\"Close Organization\"\n      :submitLoading=\"confirmLoading\"\n      @cancel-btn-click=\"closeOrgDialog\"\n      @confirm-btn-click=\"submitClose\"\n      @close=\"closeOrgDialog\"\n    >\n      <template slot=\"content\">\n        <span>{{ closeDialogContent }}</span>\n        <el-divider class=\"divider\" />\n        <div class=\"dialog-form\">\n          <el-form ref=\"formRef\" :model=\"closeOrgFormData\" :rules=\"closeOrgFormRules\">\n            <el-form-item label=\"Remark\" prop=\"remark\" required>\n              <el-input\n                class=\"input-area\"\n                type=\"textarea\"\n                placeholder=\"Please enter\"\n                v-model=\"closeOrgFormData.remark\"\n              ></el-input>\n            </el-form-item>\n          </el-form>\n        </div>\n      </template>\n    </portal-dialog>\n  </div>\n</template>\n\n<script>\nimport PortalForm from '@/components/portal-form/index.vue';\nimport PortalHeader from '@/components/portal-header/index.vue';\nimport PortalTable from '@/components/tablePage/index.vue';\nimport OrgEditStatus from '@/views/identifier-center/pages/organization/components/edit-status.vue';\nimport PortalShortCode from '@/components/portal-short-code/index.vue';\nimport { queryOrgListByPage, closeOrg, queryProductList } from '@/views/identifier-center/api/api-organization.js';\nimport {\n  len24StrValidateObj,\n  nonSpecialCharExceptPercentSignValidateObj,\n  len512StrValidateObj,\n  nonSpecialCharValidateObj,\n  checkFuzzySearchInput,\n} from '@/common/validator/common';\nimport {\n  getIdentityStatusName,\n  isAllowedEdit,\n} from '@/views/identifier-center/pages/organization/utils/organizatoin-enums';\nimport DialogProduct from '@/views/identifier-center/pages/components/dialog-product.vue';\nimport DialogRegion from '@/views/identifier-center/pages/organization/list/components/dialog-region.vue';\nimport PortalDialog from '@/components/portal-dialog';\nimport { logout } from '@/views/auth/api';\nimport cookie from '@/common/utils/cookie';\n\nexport default {\n  name: 'OrganizationList',\n\n  components: {\n    DialogProduct,\n    DialogRegion,\n    OrgEditStatus,\n    PortalForm,\n    PortalHeader,\n    PortalShortCode,\n    PortalTable,\n    PortalDialog,\n  },\n\n  data() {\n    return {\n      checkedProduct: [],\n      statusDialogVisible: false,\n      oldStatus: '',\n      receiverIdentityId: '',\n      isSearching: false,\n      titleConfig: {\n        title: 'Organization',\n        desc: 'You can query organizations based on organization information and select a record in the query result to access the organization management page.',\n      },\n      orgForm: {\n        city: '%',\n        organizationName: '%',\n        productId: null,\n        regionId: '',\n        regionName: '',\n        shortCode: '',\n        sortAcs: 'Ascending',\n        sortingQueryResultsBy: '',\n        status: '',\n        tillMsisdn: '',\n      },\n      orgFormRules: {\n        city: [nonSpecialCharExceptPercentSignValidateObj],\n        organizationName: [nonSpecialCharExceptPercentSignValidateObj],\n        shortCode: [len24StrValidateObj, nonSpecialCharExceptPercentSignValidateObj],\n        tillMsisdn: [nonSpecialCharValidateObj],\n      },\n      paginationConfig: {\n        total: 0,\n        pageNo: 1,\n        pageSize: 10,\n      },\n      orgColumns: [\n        {\n          label: this.$t('IDC.organization.table.identityID'),\n          prop: 'organizationId',\n          'sort-method': (a, b) => {\n            return a.organizationId > b.organizationId ? 1 : -1;\n          },\n          'min-width': 220,\n        },\n        {\n          label: this.$t('IDC.organization.table.organizationShortCode'),\n          prop: 'shortCode',\n          'sort-method': (a, b) => {\n            return a.shortCode > b.shortCode ? 1 : -1;\n          },\n          width: 220,\n        },\n        {\n          label: this.$t('IDC.organization.table.organizationName'),\n          prop: 'organizationName',\n          'sort-method': (a, b) => {\n            return a.organizationName > b.organizationName ? 1 : -1;\n          },\n          'min-width': 200,\n        },\n        {\n          label: this.$t('IDC.organization.table.status'),\n          prop: 'status',\n          'sort-method': (a, b) => {\n            return a.status > b.status ? 1 : -1;\n          },\n          __slotName: 'status',\n          'min-width': 120,\n        },\n        {\n          label: this.$t('IDC.organization.table.region'),\n          prop: 'region',\n          'sort-method': (a, b) => {\n            return a.region > b.region ? 1 : -1;\n          },\n          'min-width': 100,\n        },\n        {\n          label: this.$t('IDC.organization.table.city'),\n          prop: 'city',\n          'sort-method': (a, b) => {\n            return a.city > b.city ? 1 : -1;\n          },\n          'min-width': 100,\n        },\n        {\n          __slotName: 'operation',\n          label: this.$t('IDC.organization.table.operation'),\n          width: 120,\n          fixed: 'right',\n        },\n      ],\n      showShortCodeDialog: false,\n      showOrganizationDialog: false,\n      showProductDialog: false,\n      showRegionDialog: false,\n      closeOrgFormData: {\n        remark: '',\n      },\n      closeOrgFormRules: {\n        remark: [len512StrValidateObj],\n      },\n      closeDialogVisible: false,\n      confirmLoading: false,\n      closeDialogContent: '',\n      closeShortCode: '',\n      closeOrgName: '',\n      closeOrgId: '',\n      showCloseBtnArr: ['03', '04', '05', '08'],\n      closeOldStatus: '',\n    };\n  },\n\n  computed: {\n    formConfigList() {\n      return [\n        {\n          bind: {\n            clearable: true,\n            'popper-append-to-body': false, // 将options的popper放在组件中\n            placeholder: this.$t('common.placeholder.enter'),\n            'min-width': '500px',\n          },\n          comp: 'el-input',\n          formItemClass: 'form-more-select-box', // 需要这个指定样式，在表单组件中有实现\n          key: 'shortCode',\n          label: this.$t('IDC.organization.organizationShortCode'),\n          options: [],\n          prop: 'shortCode',\n          slots: [\n            {\n              name: 'append',\n              comp: 'el-link',\n              class: 'short-code-icon',\n              bind: {\n                icon: 'el-icon-more',\n                underline: false,\n              },\n              event: {\n                click: () => {\n                  this.showShortCodeDialog = true;\n                },\n                change: () => {},\n              },\n            },\n          ],\n        },\n        {\n          bind: {\n            clearable: true,\n            placeholder: this.$t('common.placeholder.enter'),\n          },\n          comp: 'el-input',\n          event: {\n            change: () => {},\n          },\n          key: 'organizationName',\n          label: this.$t('IDC.organization.organizationName'),\n          prop: 'organizationName',\n        },\n        {\n          bind: {\n            clearable: true,\n            'popper-append-to-body': false,\n            placeholder: this.$t('common.placeholder.select'),\n            readonly: true,\n          },\n          event: {\n            focus: () => {\n              this.showProductDialog = true;\n            },\n          },\n          comp: 'el-input',\n          formItemClass: 'form-more-select-box',\n          key: 'productName',\n          label: this.$t('IDC.organization.product'),\n          options: [],\n          prop: 'productName',\n          slots: [\n            {\n              name: 'append',\n              comp: 'el-link',\n              class: 'short-code-icon',\n              bind: {\n                icon: 'el-icon-more',\n                underline: false,\n              },\n              event: {\n                click: () => {\n                  this.showProductDialog = true;\n                },\n              },\n            },\n          ],\n        },\n        {\n          bind: {\n            clearable: true,\n            placeholder: this.$t('common.placeholder.select'),\n          },\n          comp: 'el-select',\n          event: {\n            change: () => {},\n          },\n          key: 'status',\n          label: this.$t('IDC.organization.status'),\n          options: [\n            { label: 'All', value: '' },\n            { label: 'Active', value: '03' },\n            { label: 'Closed', value: '06' },\n            { label: 'Dormant', value: '08' },\n            { label: 'Frozen', value: '05' },\n            { label: 'New', value: '00' },\n            { label: 'Suspended', value: '04' },\n          ],\n        },\n        {\n          bind: {\n            clearable: true,\n            'popper-append-to-body': false, // 将options的popper放在组件中\n            placeholder: this.$t('common.placeholder.select'),\n            readonly: true,\n          },\n          comp: 'el-input',\n          event: {\n            change: (value) => {\n              if (!value) {\n                this.orgForm.regionId = null;\n              }\n            },\n            focus: () => {\n              this.showRegionDialog = true;\n            },\n          },\n          formItemClass: 'form-more-select-box', // 需要这个指定样式，在表单组件中有实现\n          key: 'regionName',\n          label: this.$t('IDC.organization.region'),\n          options: [],\n          prop: 'regionName',\n          slots: [\n            {\n              name: 'append',\n              comp: 'el-link',\n              class: 'short-code-icon',\n              bind: {\n                icon: 'el-icon-more',\n                underline: false,\n              },\n              event: {\n                click: () => {\n                  this.showRegionDialog = true;\n                },\n              },\n            },\n          ],\n        },\n        {\n          bind: {\n            clearable: true,\n            placeholder: this.$t('common.placeholder.enter'),\n          },\n          comp: 'el-input',\n          key: 'city',\n          label: this.$t('IDC.organization.city'),\n          prop: 'city',\n        },\n        {\n          bind: {\n            placeholder: this.$t('common.placeholder.enter'),\n            prop: 'tillMsisdn',\n          },\n          clearable: true,\n          comp: 'el-input',\n          key: 'tillMsisdn',\n          label: this.$t('IDC.organization.tillMSISDN'),\n        },\n      ];\n    },\n    statusStyle() {\n      return (status) => {\n        switch (status) {\n          case '03':\n            return { 'background-color': '#658DF9' };\n          case '06':\n            return { 'background-color': `${this.GlobalStyleVariables.fillStrongColor}` };\n          case '07':\n            return { 'background-color': `${this.GlobalStyleVariables.statusSuccessColor}` };\n          case '00':\n            return { 'background-color': '#658DF9' };\n          case '02':\n            return { 'background-color': `${this.GlobalStyleVariables.statusSuccessColor}` };\n          case '04':\n            return { 'background-color': `${this.GlobalStyleVariables.statusSuccessColor}` };\n          case '05':\n            return { 'background-color': `${this.GlobalStyleVariables.fillStrongColor}` };\n          case '08':\n            return { 'background-color': `${this.GlobalStyleVariables.fillStrongColor}` };\n          default:\n            return;\n        }\n      };\n    },\n  },\n\n  mounted() {},\n\n  methods: {\n    changSearch(value) {\n      this.isSearching = value;\n    },\n\n    showEditDialog(data) {\n      this.receiverIdentityId = data.organizationId;\n      this.oldStatus = data.status;\n      this.statusDialogVisible = true;\n    },\n\n    async loadProducts(param) {\n      param.identitySubType = '5001';\n      let res = await queryProductList(param);\n      if (res.header.success) {\n        res.totalRecords = res.total;\n      }\n      return res;\n    },\n    onSortByChange() {},\n    searchBtnClickHandle() {\n      const { shortCode, organizationName, regionId, status, productId, city, tillMsisdn } = this.orgForm;\n      const isBesideMsisdnSearchCondition = shortCode || organizationName || regionId || status || productId || city;\n      if (!!isBesideMsisdnSearchCondition && tillMsisdn) {\n        const message =\n          'When the till MSISDN is used as the search criterion, other search criteria should not be used.';\n        this.$alert(message, 'System Info', {\n          confirmButtonText: 'Confirm',\n        });\n        return;\n      }\n      this.isSearching = true;\n      this.paginationConfig.pageIndex = 1;\n    },\n    async orgFormValidate() {\n      try {\n        let checkObj = {\n          shortCode: this.orgForm.shortCode,\n          organizationName: this.orgForm.organizationName,\n          city: this.orgForm.city,\n          status: this.orgForm.status,\n          productId: this.orgForm.productId,\n          tillMsisdn: this.orgForm.tillMsisdn,\n          region: this.orgForm.regionName,\n        };\n        if (!checkFuzzySearchInput(checkObj)) {\n          this.$modal.msgError('Enter at least one query condition.');\n          this.isSearch = false;\n          this.searchLoading = false;\n          return;\n        }\n        return await this.$refs['orgForm'].validate();\n      } catch (error) {\n        return false;\n      }\n    },\n    async getTableData() {\n      const orgFormValid = await this.orgFormValidate();\n      if (!orgFormValid) {\n        this.isSearching = false;\n        return {\n          header: {\n            success: true,\n          },\n          totalRecords: 0,\n          list: [],\n        };\n      }\n      let param = {};\n      Object.assign(param, this.orgForm);\n      delete param.regionName;\n\n      if (!this.orgForm.sortingQueryResultsBy) {\n        param.sortAcs = true;\n      } else {\n        param.sortAcs = this.orgForm.sortAcs === 'Ascending';\n      }\n\n      param.pageNo = this.paginationConfig.pageIndex;\n      param.pageSize = this.paginationConfig.pageSize;\n      let res;\n      try {\n        res = await queryOrgListByPage(param);\n        if (!res.totalRecords) {\n          res.totalRecords = res.totalRecord || 0;\n        }\n      } catch (e) {\n        res = {\n          header: {\n            success: false,\n          },\n        };\n      } finally {\n        this.isSearching = false;\n      }\n      return res;\n    },\n    scanOrgDetail(row) {\n      let { organizationId, parentId, organizationName, parentShortCode } = row;\n      if (!row || !row.organizationId) {\n        return;\n      }\n      if (parentId) {\n        sessionStorage.setItem(\n          organizationId,\n          JSON.stringify({\n            organizationName,\n            parentShortCode,\n          })\n        );\n      }\n      const id = row.organizationId;\n      const params = {\n        id: id,\n        identityId: id,\n        organizationId: id,\n        propShortCode: row.shortCode,\n      };\n      this.openNewWindow({ path: 'detail', query: { data: encodeURIComponent(JSON.stringify(params)) } });\n    },\n    gotoCreatePage() {\n      this.openNewWindow({ path: 'create' });\n    },\n    orgFormField() {\n      this.$refs['orgForm'].resetFields();\n    },\n    showAllowedEditIcon(val) {\n      return isAllowedEdit(val);\n    },\n    showStatus(val) {\n      return getIdentityStatusName(val);\n    },\n    updateRegion(data) {\n      this.orgForm.regionId = data ? data.regionId || '' : '';\n      this.orgForm.regionName = data ? data.regionName || '' : '';\n    },\n    updateProduct(data) {\n      if (data && data.length) {\n        this.orgForm.productId = data[0].productIndex;\n        this.orgForm.productName = data[0].productName;\n      } else {\n        this.orgForm.productId = '';\n        this.orgForm.productName = '';\n      }\n    },\n    handleClose(row) {\n      this.oldStatus = row.status;\n      this.closeOrgId = row.organizationId;\n      this.closeShortCode = row.shortCode;\n      this.closeOrgName = row.organizationName;\n      this.closeOldStatus = row.status;\n      this.closeDialogContent = `Are you sure to close the organization \"${row.shortCode} - ${row.organizationName}\" ?`;\n      this.closeDialogVisible = true;\n    },\n    closeOrgDialog() {\n      this.closeDialogVisible = false;\n      this.closeOrgFormData.remark = '';\n    },\n    submitClose() {\n      this.$refs.formRef.validate((valid) => {\n        if (valid) {\n          const params = {\n            receiverIdentityId: this.closeOrgId,\n            remark: this.closeOrgFormData.remark,\n            oldStatus: this.oldStatus,\n            newStatus: '06',\n          };\n          this.confirmLoading = true;\n          closeOrg(params)\n            .then((res) => {\n              if (res.header && res.header.success) {\n                this.isSearching = true;\n                this.closeDialogVisible = false;\n                if (res.taskId) {\n                  this.$message.success('The request must be approved by another operator.');\n                } else {\n                  this.$message.success(\n                    `Organization \"${this.closeShortCode} - ${this.closeOrgName}\" closed successfully.`\n                  );\n                }\n              }\n            })\n            .finally(() => {\n              this.isSearching = false;\n              this.confirmLoading = false;\n              if (this.closeShortCode === cookie.get('initiatorShortCode')) {\n                this.$confirm(\n                  `Organization ${this.closeShortCode} - ${this.closeOrgName} closed successfully. You will be forced to exit.`,\n                  'System Info',\n                  {\n                    confirmButtonText: 'Confirm',\n                    showCancelButton: false,\n                    showClose: false,\n                  }\n                ).then(() => {\n                  logout().then((res) => {\n                    if (res && res.header.success) {\n                      this.$router.push({ path: '/login' });\n                      this.$store.dispatch('baseStore/setLogoutVisible', false);\n                    }\n                  });\n                });\n              }\n            });\n        }\n      });\n    },\n    showCloseBtn(row) {\n      if (this.showCloseBtnArr.includes(row.status)) {\n        return true;\n      }\n      return false;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.pageContainer {\n  padding-left: 20px;\n  padding-right: 20px;\n}\n.review-transaction {\n  padding: 0 0 20px;\n  background-color: $--text_color--white;\n\n  .table-area {\n    .task-divider {\n      background-color: $--fill_color--light !important;\n      box-shadow: 0px -1px 0px $--fill_color--regular inset;\n      margin: 0;\n    }\n    .row-btn {\n      margin: 20px 0;\n      display: flex;\n      justify-content: space-between;\n      .sort-condition {\n        display: flex;\n        .sort-condition-ascending {\n          margin-right: 8px;\n        }\n      }\n    }\n  }\n  .status-group {\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: flex-start;\n    align-items: center;\n  }\n\n  /deep/.el-form .el-form-item .el-form-item__label {\n    color: $--text_color--strong !important;\n  }\n  /deep/ .el-input__suffix {\n    color: $--text_color--strong !important;\n    right: 12px;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3824b766&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3824b766&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3824b766\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dialog-product.vue?vue&type=style&index=0&id=128da0fc&prod&scoped=true&lang=scss&\"","import { STATUS_MAP } from '@/views/task-center/page/task-detail/utils/data-dic.js';\n\nexport const IDENTITY_STATUS_TYPE = {\n  NEW: '00',\n  PENDING_ACTIVE: '02',\n  ACTIVE: '03',\n  SUSPENDED: '04',\n  FROZEN: '05',\n  CLOSED: '06',\n  CAPPED: '07',\n  DORMANT: '08',\n};\n\nexport function getIdentityStatusName(val) {\n  return STATUS_MAP[val] || '-';\n}\nexport function isAllowedEdit(status) {\n  const STATUS_ALLOWED_MAP = {\n    [IDENTITY_STATUS_TYPE.ACTIVE]: 'ACTIVE',\n    [IDENTITY_STATUS_TYPE.SUSPENDED]: 'SUSPENDED',\n    [IDENTITY_STATUS_TYPE.FROZEN]: 'FROZEN',\n  };\n  return STATUS_ALLOWED_MAP[status];\n}\n\nexport const IDENTITY_MODEL = {\n  CAN_MAKE_AGGREGATOR: '0000',\n  CAN_MAKE_OWNED: '0001',\n  CAN_MAKE_ALLTYPE: '0002',\n  NONEHIERARCHY: '0003',\n  AGGREGATOR: '0100',\n  CENTRAL_OWNED: '0101',\n};\n\nexport const getSubAgentModelName = (val) => {\n  switch (val) {\n    case IDENTITY_MODEL.CAN_MAKE_AGGREGATOR:\n      return 'Can Make Aggregator';\n    case IDENTITY_MODEL.CAN_MAKE_OWNED:\n      return 'Can Make Owned';\n    case IDENTITY_MODEL.CAN_MAKE_ALLTYPE:\n      return 'Can Make AllType';\n    case IDENTITY_MODEL.NONEHIERARCHY:\n      return 'NoneHierarchy';\n    case IDENTITY_MODEL.AGGREGATOR:\n      return 'Aggregator';\n    case IDENTITY_MODEL.CENTRAL_OWNED:\n      return 'Central Owned';\n    default:\n      return;\n  }\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_c('el-dialog',{attrs:{\"title\":_vm.$t('IDC.organization.dialogProduct.dialogTitle') + '',\"visible\":_vm.visible,\"width\":\"800px\",\"close-on-click-modal\":false,\"before-close\":_vm.cancel},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('div',{staticClass:\"container-condition\"},[_c('el-form',{ref:\"condition\",class:['add-form', 'form-flex-container'],attrs:{\"size\":\"small\",\"model\":_vm.condition,\"label-position\":\"top\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('IDC.organization.dialogProduct.productName') + '',\"prop\":\"operatorName\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"Please enter\"},on:{\"focus\":() => {}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return (() => {}).apply(null, arguments)}},model:{value:(_vm.condition.productName),callback:function ($$v) {_vm.$set(_vm.condition, \"productName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"condition.productName\"}})],1)],1),_c('div',{staticClass:\"condition-options\"},[_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"small\"},on:{\"click\":_vm.reset}},[_vm._v(_vm._s(_vm.$t('common.button.reset')))]),_c('el-button',{directives:[{name:\"preventReClick\",rawName:\"v-preventReClick\"}],attrs:{\"plain\":\"\",\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.search}},[_vm._v(_vm._s(_vm.$t('common.button.search'))+\" \")])],1)],1),_c('div',{staticClass:\"container-products\"},[_c('table-page',{attrs:{\"columns\":_vm.columns,\"get-table-data\":_vm.loadData,\"init-checks\":_vm.checks,\"is-check\":true,\"is-search\":_vm.searching,\"is-single-check\":true,\"pagination\":_vm.pagination,\"id-key\":\"productIndex\",\"id\":\"table\",\"size\":\"small\"},on:{\"selection-change\":_vm.onSelectionChange,\"single-selection-change\":_vm.onSingleSelectionChange}})],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('div',{staticClass:\"option-buttons\"},[_c('el-button',{directives:[{name:\"preventReClick\",rawName:\"v-preventReClick\"}],attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.confirm}},[_vm._v(_vm._s(_vm.$t('common.button.confirm'))+\" \")]),_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"small\"},on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.$t('common.button.cancel')))])],1)])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <el-dialog\n      class=\"\"\n      :title=\"$t('IDC.organization.dialogProduct.dialogTitle') + ''\"\n      :visible.sync=\"visible\"\n      width=\"800px\"\n      :close-on-click-modal=\"false\"\n      :before-close=\"cancel\"\n    >\n      <div class=\"container-condition\">\n        <el-form\n          size=\"small\"\n          :class=\"['add-form', 'form-flex-container']\"\n          ref=\"condition\"\n          :model=\"condition\"\n          label-position=\"top\"\n          @submit.prevent.native\n        >\n          <el-form-item :label=\"$t('IDC.organization.dialogProduct.productName') + ''\" prop=\"operatorName\">\n            <el-input\n              size=\"small\"\n              v-model.trim=\"condition.productName\"\n              @keyup.native.enter=\"() => {}\"\n              placeholder=\"Please enter\"\n              @focus=\"() => {}\"\n            />\n          </el-form-item>\n        </el-form>\n        <div class=\"condition-options\">\n          <el-button plain size=\"small\" @click=\"reset\">{{ $t('common.button.reset') }}</el-button>\n          <el-button plain size=\"small\" @click=\"search\" v-preventReClick type=\"primary\"\n            >{{ $t('common.button.search') }}\n          </el-button>\n        </div>\n      </div>\n      <div class=\"container-products\">\n        <table-page\n          :columns=\"columns\"\n          :get-table-data=\"loadData\"\n          :init-checks=\"checks\"\n          :is-check=\"true\"\n          :is-search=\"searching\"\n          :is-single-check=\"true\"\n          :pagination=\"pagination\"\n          @selection-change=\"onSelectionChange\"\n          @single-selection-change=\"onSingleSelectionChange\"\n          class=\"\"\n          id-key=\"productIndex\"\n          id=\"table\"\n          size=\"small\"\n        >\n        </table-page>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <div class=\"option-buttons\">\n          <el-button size=\"small\" @click=\"confirm\" v-preventReClick type=\"primary\"\n            >{{ $t('common.button.confirm') }}\n          </el-button>\n          <el-button plain size=\"small\" @click=\"cancel\">{{ $t('common.button.cancel') }}</el-button>\n        </div>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport TablePage from '@/components/tablePage/index.vue';\n\nexport default {\n  name: 'DialogProduct',\n  components: { TablePage },\n  mixins: {},\n  props: {\n    check: {\n      type: Boolean,\n      default: false,\n    },\n    checked: {\n      type: Object,\n      default: () => {\n        return {};\n      },\n    },\n    singleCheck: {\n      type: Boolean,\n      default: false,\n    },\n    visible: {\n      type: Boolean,\n      default: false,\n    },\n    dataLoader: {\n      type: Function,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      checks: [],\n      condition: {\n        productName: '',\n      },\n      searching: false,\n    };\n  },\n  computed: {\n    columns() {\n      return [\n        {\n          label: this.$t('IDC.organization.dialogProduct.productName'),\n          prop: 'productName',\n          align: 'left',\n          'sort-method': (a, b) => {\n            return a.productName > b.productName ? 1 : -1;\n          },\n        },\n        {\n          label: this.$t('common.label.description'),\n          prop: 'description',\n          align: 'left',\n        },\n      ];\n    },\n    pagination() {\n      return {\n        pageIndex: 1,\n        pageSize: 10,\n        layout: 'total, prev, pager, next',\n      };\n    },\n  },\n  watch: {\n    checked(value) {\n      if (value && value.productName) {\n        this.checks = [{ productIndex: value.productId, productName: value.productName }];\n      } else {\n        this.checks = [];\n      }\n    },\n  },\n  filter: {},\n  created: function () {},\n  activated: function () {},\n  mounted: function () {},\n  methods: {\n    cancel() {\n      this.closeDialog();\n    },\n    confirm() {\n      this.$emit('confirm', this.checks);\n      this.closeDialog(false);\n    },\n    closeDialog(reset = true) {\n      if (reset) {\n        this.reset(false);\n      }\n      this.$emit('update:visible', false);\n    },\n    async loadData(param) {\n      Object.assign(param, this.condition);\n      if (this.dataLoader) {\n        let res;\n        try {\n          res = await this.dataLoader(param);\n        } catch (e) {\n          res = {\n            header: {\n              success: false,\n            },\n          };\n        } finally {\n          this.searching = false;\n        }\n        return res;\n      }\n    },\n    onSelectionChange(value) {\n      this.checks = value;\n    },\n    onSingleSelectionChange(value) {\n      this.checks = [value];\n    },\n    reset(reload = true) {\n      this.condition.productName = '';\n      this.pagination.pageIndex = 1;\n      if (reload) {\n        this.search();\n      }\n    },\n    search() {\n      this.searching = true;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.container {\n  .container-condition {\n    align-items: center;\n    border-bottom: 1px solid $--line_color--divider;\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 20px;\n    /deep/ .el-form {\n      .el-form-item {\n        width: 366px;\n      }\n\n      .el-form-item--small {\n        .el-form-item__content {\n          .el-input,\n          .el-select {\n            height: 32px;\n          }\n        }\n      }\n    }\n\n    /deep/ .el-input--small {\n      height: 32px;\n    }\n  }\n  .condition-options {\n    display: flex;\n    flex-flow: row nowrap;\n  }\n\n  .option-buttons {\n    margin-top: 20px;\n    display: flex;\n    flex-flow: row-reverse nowrap;\n\n    /deep/.el-button {\n      margin-left: 8px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dialog-product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dialog-product.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dialog-product.vue?vue&type=template&id=128da0fc&scoped=true&\"\nimport script from \"./dialog-product.vue?vue&type=script&lang=js&\"\nexport * from \"./dialog-product.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dialog-product.vue?vue&type=style&index=0&id=128da0fc&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"128da0fc\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3824b766&prod&lang=scss&scoped=true&\""],"sourceRoot":""}