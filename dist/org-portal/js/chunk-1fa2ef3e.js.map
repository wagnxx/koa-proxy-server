{"version":3,"sources":["webpack:///./src/common/utils/file-utils.js","webpack:///./src/views/business-center/pages/bulk/pages/bulk-task-template/index.vue","webpack:///src/views/business-center/pages/bulk/pages/bulk-task-template/index.vue","webpack:///./src/views/business-center/pages/bulk/pages/bulk-task-template/index.vue?a2bc","webpack:///./src/views/business-center/pages/bulk/pages/bulk-task-template/index.vue?5de6","webpack:///./src/components/portal-header/index.vue?35d5","webpack:///./src/components/portal-header/index.vue","webpack:///src/components/portal-header/index.vue","webpack:///./src/components/portal-header/index.vue?53d5","webpack:///./src/components/portal-header/index.vue?45e4","webpack:///./src/views/business-center/pages/bulk/api/api-bulk.js"],"names":["downLoadFile","url","data","method","hasXXSRFTOKEN","xhr","XMLHttpRequest","open","setRequestHeader","cookie","get","responseType","onload","this","status","blob","response","temp","getResponseHeader","split","fileName","decodeURIComponent","zipUrl","URL","createObjectURL","link","document","createElement","href","download","click","MessageBox","alert","type","confirmButtonText","send","JSON","stringify","render","_vm","_c","_self","staticClass","attrs","titleConfig","ref","formData","formRules","formConfigList","searchLoading","on","search","reset","_e","staticStyle","isSearch","taskTemplateColumns","paginationConfig","getTableData","scopedSlots","_u","key","fn","scope","directives","name","rawName","$index","$event","handleDownloadClick","row","_v","_s","$t","staticRenderFns","components","PortalHeader","PortalForm","TablePage","title","desc","bulkTypeName","fileFormat","templateName","pageIndex","pageSize","label","prop","align","__slotName","width","bulkTypeOptions","computed","comp","bind","placeholder","clearable","options","queryParams","bulkTypeID","offset","limit","bulkFileFormatOptions","bulkTaskTemplateTypeOptions","methods","totalRecords","list","FileUtil","value","enaabled","moduleName","dictCodes","queryAPI","created","component","class","showBottomLine","projectObj","_t","props","default","API_PREFIX","TASK_TEMPLATE_PREFIX","BULK_TASK_PLAN_PREFIX","queryBulkDataDicts","request","queryBulkTypes","buildUrlWithObj","queryBulkTaskTemplates","queryTaskPlanList","queryTimeSlot","params","addTaskPlan","cancelTaskPlan","suspendTaskPlan","resumeTaskPlan","getFailedRecords","getSuccessRecords","queryValidRecords","getTaskPlanDetail","queryBulkHistoryDetail","preValidation","contentType","queryPreValidationResult","fileID","downloadBulkFile","getCustomerList","ignoreError","searchCustomerIdentity","checkShortCode","shortCode","getOrganizationList","getOrgOperList","getServiceMapping","queryProduct","queryService","queryReasonType"],"mappings":"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","file":"js/chunk-1fa2ef3e.js","sourcesContent":["import cookie from './cookie';\nimport { MessageBox } from 'element-ui';\n\nexport default {\n  downLoadFile: function (url, data, method, hasXXSRFTOKEN) {\n    let xhr = new XMLHttpRequest();\n    xhr.open(method || 'POST', url, true);\n    xhr.setRequestHeader('Content-type', 'application/json');\n    if (hasXXSRFTOKEN) {\n      xhr.setRequestHeader('X-XSRF-TOKEN', cookie.get('O-XSRF-TOKEN'));\n    }\n    xhr.setRequestHeader('o-token', cookie.get('o-token'));\n    xhr.setRequestHeader('Cache-Control', 'no-store, max-age=0, must-revalidate');\n    xhr.responseType = 'blob'; // 返回类型blob\n    xhr.onload = function () {\n      // 定义请求完成的处理函数，请求前也可以增加加载框/禁用下载按钮逻辑\n      if (this.status === 200) {\n        let blob = this.response;\n        let temp = xhr.getResponseHeader('content-disposition').split(';')[1].split('filename=')[1];\n        let fileName = decodeURIComponent(temp);\n        let zipUrl = URL.createObjectURL(blob);\n        let link = document.createElement('a');\n        link.href = zipUrl;\n        link.download = fileName;\n        link.click();\n      } else {\n        MessageBox.alert('Download failed.', 'Error', { type: 'error', confirmButtonText: 'Confirm' });\n      }\n    };\n    xhr.send(JSON.stringify(data));\n  },\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"business-portal-page\"},[_c('portal-header',{attrs:{\"projectObj\":_vm.titleConfig}}),_c('portal-form',{ref:\"searchList\",attrs:{\"form-data\":_vm.formData,\"form-rules\":_vm.formRules,\"form-config-list\":_vm.formConfigList,\"searchBtnLoading\":_vm.searchLoading},on:{\"common-enter-event\":_vm.search,\"reset-btn-click\":_vm.reset,\"search-btn-click\":_vm.search}}),(false)?_c('div',{staticStyle:{\"padding-left\":\"20px\"}},[_c('el-button',{staticStyle:{\"margin-top\":\"8px\"},attrs:{\"id\":\"create-bulk-template-btn\",\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.handleAddClick()}}},[_vm._v(\" \"+_vm._s(_vm.$t('common.button.create'))+\" \")])],1):_vm._e(),_c('div',{staticStyle:{\"padding\":\"20px\"}},[_c('table-page',{attrs:{\"size\":\"small\",\"has-pagination\":true,\"isSearch\":_vm.isSearch,\"initializingLoading\":true,\"columns\":_vm.taskTemplateColumns,\"pagination\":_vm.paginationConfig,\"getTableData\":_vm.getTableData},scopedSlots:_vm._u([{key:\"operation\",fn:function(scope){return [_c('el-button',{directives:[{name:\"preventReClick\",rawName:\"v-preventReClick\"}],attrs:{\"id\":'bulk-template-download-' + scope.data.$index,\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleDownloadClick(scope.data.row)}}},[_vm._v(\" \"+_vm._s(_vm.$t('common.button.download'))+\" \")])]}}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"business-portal-page\">\n    <portal-header :projectObj=\"titleConfig\" />\n    <portal-form\n      ref=\"searchList\"\n      :form-data=\"formData\"\n      :form-rules=\"formRules\"\n      :form-config-list=\"formConfigList\"\n      :searchBtnLoading=\"searchLoading\"\n      @common-enter-event=\"search\"\n      @reset-btn-click=\"reset\"\n      @search-btn-click=\"search\"\n    />\n    <div style=\"padding-left: 20px\" v-if=\"false\">\n      <el-button\n        id=\"create-bulk-template-btn\"\n        type=\"primary\"\n        size=\"small\"\n        icon=\"el-icon-plus\"\n        style=\"margin-top: 8px\"\n        @click=\"handleAddClick()\"\n      >\n        {{ $t('common.button.create') }}\n      </el-button>\n    </div>\n    <div style=\"padding: 20px\">\n      <table-page\n        size=\"small\"\n        :has-pagination=\"true\"\n        :isSearch=\"isSearch\"\n        :initializingLoading=\"true\"\n        :columns=\"taskTemplateColumns\"\n        :pagination=\"paginationConfig\"\n        :getTableData=\"getTableData\"\n      >\n        <template slot=\"operation\" slot-scope=\"scope\">\n          <el-button\n            :id=\"'bulk-template-download-' + scope.data.$index\"\n            type=\"text\"\n            size=\"small\"\n            v-preventReClick\n            @click=\"handleDownloadClick(scope.data.row)\"\n          >\n            {{ $t('common.button.download') }}\n          </el-button>\n        </template>\n      </table-page>\n    </div>\n  </div>\n</template>\n\n<script>\nimport PortalHeader from '@/components/portal-header';\nimport PortalForm from '@/components/portal-form';\nimport TablePage from '@/components/tablePage';\nimport { queryBulkTypes, queryBulkTaskTemplates, queryBulkDataDicts } from '../../api/api-bulk';\nimport FileUtil from '@/common/utils/file-utils';\nimport { mapGetters } from 'vuex';\nexport default {\n  name: 'TaskTemplateList',\n  components: {\n    PortalHeader,\n    PortalForm,\n    TablePage,\n  },\n  data() {\n    return {\n      titleConfig: {\n        title: this.$t('BUC.taskTemplate.pageTitle'),\n        desc: this.$t('BUC.taskTemplate.pageDesc'),\n      },\n      formData: {\n        bulkTypeName: null,\n        fileFormat: null,\n        templateName: '',\n      },\n      paginationConfig: {\n        pageIndex: 1,\n        pageSize: 10,\n      },\n      isSearch: false,\n      searchLoading: false,\n      taskTemplateColumns: [\n        {\n          label: this.$t('BUC.taskTemplate.bulkType'),\n          prop: 'bulkTypeName',\n          align: 'left',\n        },\n        {\n          label: this.$t('BUC.taskTemplate.fileFormat'),\n          prop: 'fileFormat',\n          align: 'left',\n        },\n        {\n          label: this.$t('BUC.taskTemplate.templateName'),\n          prop: 'templateName',\n          align: 'left',\n        },\n        {\n          label: this.$t('BUC.taskTemplate.templateType'),\n          prop: 'templateType',\n          align: 'left',\n        },\n        {\n          label: this.$t('home.description'),\n          prop: 'description',\n          align: 'left',\n        },\n        {\n          label: this.$t('common.label.operation'),\n          prop: 'operation',\n          align: 'left',\n          __slotName: 'operation',\n          width: '120',\n        },\n      ],\n\n      bulkTypeOptions: [],\n    };\n  },\n  computed: {\n    formRules() {\n      return {};\n    },\n    formConfigList() {\n      return [\n        {\n          label: this.$t('BUC.taskTemplate.bulkType'),\n          key: 'bulkTypeName',\n          comp: 'el-select',\n          bind: {\n            placeholder: this.$t('common.placeholder.select'),\n            clearable: true,\n          },\n          options: this.bulkTypeOptions,\n        },\n        {\n          label: this.$t('BUC.taskTemplate.templateName'),\n          key: 'templateName',\n          comp: 'el-input',\n          bind: {\n            placeholder: this.$t('common.placeholder.enter'),\n            clearable: true,\n          },\n        },\n        {\n          label: this.$t('BUC.taskTemplate.fileType'),\n          key: 'fileFormat',\n          comp: 'el-select',\n          bind: {\n            placeholder: this.$t('common.placeholder.select'),\n            clearable: true,\n          },\n          options: this.bulkFileFormatOptions,\n        },\n      ];\n    },\n    queryParams() {\n      const { bulkTypeName, fileFormat, templateName } = this.formData;\n      const { pageIndex, pageSize } = this.paginationConfig;\n      return {\n        templateName,\n        bulkTypeID: bulkTypeName,\n        fileFormat,\n        offset: (pageIndex - 1) * pageSize,\n        limit: pageSize,\n      };\n    },\n    ...mapGetters('datadict', ['moduleDict']),\n    bulkFileFormatOptions() {\n      return this.moduleDict.bulk['config.bulk.file-format.list'].listWithAll || [];\n    },\n    bulkTaskTemplateTypeOptions() {\n      return this.moduleDict.bulk['config.bulk.sample-template-type.list'].list || [];\n    },\n  },\n  methods: {\n    search() {\n      this.$refs['searchList'].validate((valid) => {\n        if (valid) {\n          // 点击search起始页应该为1\n          this.paginationConfig.pageIndex = 1;\n          this.searchLoading = true;\n          this.isSearch = true;\n        }\n      });\n    },\n    async getTableData() {\n      try {\n        let res = await queryBulkTaskTemplates(this.queryParams);\n        if (res.header && res.header.success) {\n          this.hasPagination = res.data.length > 0;\n          return {\n            ...res,\n            totalRecords: res.total,\n            list: res.data || [],\n          };\n        }\n      } catch (error) {\n      } finally {\n        this.isSearch = false;\n        this.searchLoading = false;\n      }\n    },\n    reset() {\n      this.paginationConfig.pageIndex = 1;\n      this.$refs.searchList.innerFormRef.resetFields();\n      this.isSearch = true;\n    },\n    handleDownloadClick(row) {\n      const url = `orgportal/fintech/v1/bulk/task/template/${row.templateID}/download`;\n      FileUtil.downLoadFile(url, {}, 'GET');\n    },\n    async initBulkTypes() {\n      await queryBulkTypes({ limit: 50, offset: 0 }).then((res) => {\n        this.bulkTypeOptions = (res.data || []).map((type) => {\n          return {\n            value: type.id,\n            label: type.bulkTypeName,\n          };\n        });\n        this.bulkTypeOptions.unshift({ value: null, label: 'All', status: 'Y', enaabled: true });\n      });\n    },\n    async initDataDict() {\n      this.$store.dispatch('datadict/getModuleDicts', {\n        moduleName: 'bulk',\n        dictCodes: ['config.bulk.file-format.list', 'config.bulk.sample-template-type.list'],\n        queryAPI: queryBulkDataDicts,\n      });\n    },\n  },\n  created() {\n    this.initBulkTypes();\n    this.initDataDict();\n  },\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=75e23526&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=73566ca8&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"page-header\",class:{ 'no-bottom-border': !_vm.showBottomLine, 'no-desc-height': !_vm.projectObj.desc }},[_c('div',{staticClass:\"header-left\"},[(_vm.projectObj.title)?_c('div',{staticClass:\"page-title\"},[_vm._v(\" \"+_vm._s(_vm.projectObj.title)+\" \"),_vm._t(\"title-suffix\")],2):_vm._e(),(!!_vm.projectObj.desc)?_c('div',{staticClass:\"page-desc\"},[_vm._v(\" \"+_vm._s(_vm.projectObj.desc)+\" \")]):_vm._e()]),_c('div',{staticClass:\"header-right\"},[_vm._t(\"header-right\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page-header\" :class=\"{ 'no-bottom-border': !showBottomLine, 'no-desc-height': !projectObj.desc }\">\n    <!-- left -->\n    <div class=\"header-left\">\n      <div class=\"page-title\" v-if=\"projectObj.title\">\n        {{ projectObj.title }}\n        <slot name=\"title-suffix\"></slot>\n      </div>\n      <div class=\"page-desc\" v-if=\"!!projectObj.desc\">\n        {{ projectObj.desc }}\n      </div>\n    </div>\n    <!-- right -->\n    <div class=\"header-right\">\n      <slot name=\"header-right\"></slot>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'PortalHeader',\n  components: {},\n  props: {\n    projectObj: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n    // 是否显示header下边的线\n    showBottomLine: {\n      type: Boolean,\n      default: true,\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n// 页面头部部分\n.page-header {\n  position: relative;\n  width: 100%;\n  padding: 20px;\n  box-sizing: border-box;\n  border-bottom: 1px solid $--fill_color--regular;\n  background-color: $--text_color--white;\n}\n// 页面标题\n.page-title {\n  line-height: 32px;\n  font-size: 24px;\n  font-weight: 700;\n  color: $--text_color--emphasis;\n}\n// 页面标题描述文字\n.page-desc {\n  line-height: 16px;\n  margin-top: 8px;\n  font-size: 12px;\n  font-weight: 400;\n  color: $--line_color--strong;\n}\n.no-bottom-border {\n  border-bottom: none !important;\n}\n// 无desc时高度为66px\n.no-desc-height {\n  min-height: 66px !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=73566ca8&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=73566ca8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"73566ca8\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/common/utils/request';\nimport { buildUrlWithObj } from '@/common/utils/url-utils';\nimport FileUtil from '@/common/utils/file-utils';\n\nconst API_PREFIX = '/fintech/v1/bulk';\nconst TASK_TEMPLATE_PREFIX = API_PREFIX + '/task/template';\nconst BULK_TASK_PLAN_PREFIX = API_PREFIX + '/task/plan';\n\n// 批量查询字典\nexport function queryBulkDataDicts({ dictCodes }) {\n  return request({\n    url: API_PREFIX + '/data-dict/list',\n    method: 'post',\n    data: { dictCodes },\n  });\n}\n\n// 查询bulk 类型API\nexport function queryBulkTypes(data) {\n  return request({\n    url: buildUrlWithObj(API_PREFIX + '/type/list', data),\n    method: 'get',\n  });\n}\n\n// 查询bulk任务模板列表\nexport function queryBulkTaskTemplates(data) {\n  return request({\n    url: buildUrlWithObj(TASK_TEMPLATE_PREFIX + '/list', data),\n    method: 'get',\n  });\n}\n\n// 查询Bulk任务计划列表\nexport function queryTaskPlanList(data) {\n  return request({\n    url: buildUrlWithObj(BULK_TASK_PLAN_PREFIX + '/list', data),\n    method: 'get',\n  });\n}\n\nexport function queryTimeSlot(params) {\n  return request({\n    url: buildUrlWithObj('/fintech/v1/bulk/tps/timeslot', params),\n    method: 'get',\n  });\n}\n\nexport function addTaskPlan(data) {\n  return request({\n    url: '/fintech/v1/bulk/task/plan/add',\n    method: 'POST',\n    data,\n  });\n}\n\nexport function cancelTaskPlan(data) {\n  return request({\n    url: '/fintech/v1/bulk/task/plan/cancel',\n    method: 'POST',\n    data,\n  });\n}\n\nexport function suspendTaskPlan(data) {\n  return request({\n    url: '/fintech/v1/bulk/task/plan/suspend',\n    method: 'POST',\n    data,\n  });\n}\nexport function resumeTaskPlan(data) {\n  return request({\n    url: '/fintech/v1/bulk/task/plan/resume',\n    method: 'POST',\n    data,\n  });\n}\n\nexport function getFailedRecords(params) {\n  return request({\n    url: '/fintech/v1/bulk/task/plan/failedRecords',\n    params,\n  });\n}\n\nexport function getSuccessRecords(params) {\n  return request({\n    url: '/fintech/v1/bulk/task/plan/successRecords',\n    params,\n  });\n}\n\nexport function queryValidRecords(params) {\n  return request({\n    url: '/fintech/v1/bulk/task/plan/validRecords',\n    params,\n  });\n}\n\nexport function getTaskPlanDetail(data) {\n  return request({\n    url: buildUrlWithObj('/fintech/v1/bulk/task/plan/detail', data),\n    method: 'get',\n  });\n}\n\nexport function queryBulkHistoryDetail(data) {\n  return request({\n    url: buildUrlWithObj('/fintech/v1/bulk/task/plan/hisDetail', data),\n    method: 'get',\n  });\n}\n\nexport function preValidation(data) {\n  return request({\n    url: BULK_TASK_PLAN_PREFIX + '/prevalidation',\n    method: 'post',\n    contentType: 'application/x-www-form-urlencoded',\n    data,\n  });\n}\n\nexport function queryPreValidationResult(fileID) {\n  return request({\n    url: BULK_TASK_PLAN_PREFIX + `/prevalidation/${fileID}`,\n    method: 'get',\n  });\n}\n\nexport function downloadBulkFile(fileID, type) {\n  FileUtil.downLoadFile(\n    'orgportal' + BULK_TASK_PLAN_PREFIX + `/download/bulkFile?fileID=${fileID}&type=${type}`,\n    {},\n    'get'\n  );\n}\n// 查询customer列表\nexport function getCustomerList(data) {\n  return request({\n    url: '/fintech/v1/queryCustomerList',\n    method: 'post',\n    data,\n    ignoreError: true,\n  });\n}\n// 查询客户identity\nexport function searchCustomerIdentity(data) {\n  return request({\n    url: '/fintech/v1/queryCustomerIdentity/msisdn',\n    method: 'post',\n    data,\n  });\n}\n// 查询操作员列表\nexport function selectOperatorList(data) {\n  return request({\n    url: buildUrlWithObj('/fintech/v1/spOperator/list', data),\n    method: 'get',\n  });\n}\n// 验证Short Code\nexport function checkShortCode(shortCode) {\n  return request({\n    url: `/fintech/v1/identity/verify/${shortCode}`,\n    method: 'post',\n  });\n}\n// 查询组织列表\nexport function getOrganizationList(data) {\n  return request({\n    url: buildUrlWithObj('/fintech/v1/organization/list', data),\n    method: 'get',\n  });\n}\n// 查询组织操作员列表\nexport function getOrgOperList(data) {\n  return request({\n    url: buildUrlWithObj('/fintech/v1/spOperator/list', data),\n    method: 'get',\n  });\n}\nexport function getServiceMapping(data) {\n  return request({\n    url: buildUrlWithObj('/fintech/v1/bulk/type/service/mapping', data),\n    method: 'get',\n  });\n}\nexport function orgProducts(data) {\n  return request({\n    url: '/fintech/v1/orgProducts',\n    method: 'post',\n    data,\n  });\n}\nexport function queryProduct(data) {\n  return request({\n    url: '/fintech/v1/dcc/queryProduct',\n    method: 'post',\n    data,\n  });\n}\nexport function queryService(data) {\n  return request({\n    url: '/fintech/v1/dcc/queryService',\n    method: 'post',\n    data,\n  });\n}\nexport function queryReasonType(data) {\n  return request({\n    url: '/fintech/v1/dcc/queryReasonType',\n    method: 'post',\n    data,\n  });\n}\n"],"sourceRoot":""}