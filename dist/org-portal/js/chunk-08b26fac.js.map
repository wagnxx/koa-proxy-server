{"version":3,"sources":["webpack:///./src/common/validator/common.js","webpack:///./src/views/identifier-center/pages/till/list/index.vue?34b1","webpack:///./src/views/identifier-center/pages/till/list/index.vue","webpack:///./src/views/identifier-center/pages/till/list/components/close-dialog.vue","webpack:///src/views/identifier-center/pages/till/list/components/close-dialog.vue","webpack:///./src/views/identifier-center/pages/till/list/components/close-dialog.vue?3f63","webpack:///./src/views/identifier-center/pages/till/list/components/close-dialog.vue?8d8c","webpack:///src/views/identifier-center/pages/till/list/index.vue","webpack:///./src/views/identifier-center/pages/till/list/index.vue?1264","webpack:///./src/views/identifier-center/pages/till/list/index.vue?8990","webpack:///./src/views/identifier-center/pages/till/list/components/close-dialog.vue?a57c"],"names":["inputRequiredValidateObj","required","message","trigger","checkRequiredValidateObj","selectRequiredValidateObj","numberAndCharacterValidateObj","pattern","integerValidateObj","msisdnValidateObj","nonSpecialCharValidateObj","nonSpecialCharExceptPercentSignValidateObj","nonSpecialValidateObj","getStrLenValidateObj","minLen","maxLen","len0To18StrValidateObj","len6To16StrValidateObj","len4To12StrValidateObj","len6To12StrValidateObj","len19StrValidateObj","len24StrValidateObj","len64StrValidateObj","len256StrValidateObj","len512StrValidateObj","len1To18StrValidateObj","len0To32StrValidateObj","len0To30StrValidateObj","len9To18StrValidateObj","msg","min","max","len4to0trValidateObj","checkFuzzySearchInput","obj","arr","item","toString","startsWith","length","push","every","checkLengthExceptPercentSign","errorMsg","validator","rule","value","callback","Error","render","_vm","this","_c","_self","class","isShowheaderTitle","attrs","titleConfig","staticClass","isOrganization","activeName","_e","directives","name","rawName","collapseValue","expression","ref","tillForm","tillFormRules","formConfigArray","searchLoading","hasPerm","on","searchTill","reset","createTill","_v","_s","$t","isSearch","isOrgCokumns","tillColumns","paginationConfig","getTableData","fristSearchMap","scopedSlots","_u","key","fn","scope","data","row","status","style","statusStyle","showStatus","$event","handleEditStatus","handleDetail","showColose","closeData","closeDialog","ishow","closeSubmit","searchVisible","tillFormData","merchantId","orgshortcode","$set","closeStatusDialog","addProductVisible","addForm","loadProduct","initCheckList","selectProductList","staticRenderFns","isShow","closeService","nativeOn","preventDefault","tillNumber","rules","submitData","model","remark","$$v","slot","submitLoading","submitService","props","type","default","watch","computed","methods","receiverIdentityId","closeTill","mounted","component","queryConditionSelectOptions","label","components","TablePage","PortalHeader","PortalForm","portalShortCode","EditStatus","PortalAddPopup","fristSearch","isOrganizationPage","identityId","total","pageNo","pageSize","msisdn","productName","queryCondition","title","idKey","columns","prop","align","searchForm","formData","producrName","formConf","comp","bind","clearable","placeholder","tills","pageIndex","productIndex","__slotName","width","fixed","hasPagination","desc","handler","statusOptions","list","hidden","options","event","change","id","formItemClass","slots","icon","underline","click","focus","isShowItem","val","pageQuery","addProduct","getList","params","tillId","path","query","productId","shortCode","selectTillList","then","res","resolve","catch","finally"],"mappings":"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mBAAmB,CAAC/E,EAAI2B,GAAG3B,EAAI4B,GAAG5B,EAAI6B,GAAG,8BAA8B,IAAI,IAEt1CqC,EAAkB,G,YC2BP,GACfrD,mBACAmE,OACA5B,aACA6B,aACAC,YAEA/B,WACA8B,cAGAxC,OACA,OACA+B,OACAG,iBAEAG,iBACAX,wBACAM,YACAE,aAIAQ,OACA/B,eACA,gBAGAgC,YACAC,SACAjB,eACA,oCACA,eACA,wBAEAW,gBACA,sCACA,MACA,OACAO,6CACAX,+BAEA,sBACAY,2BACA,4BACA,mFACA,oBACA,2BAEA,oBAEA,6BAMAC,aCtFia,I,wBCQ7ZC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,4CC0Gf,MAAMC,EAA8B,CACpC,CAAAC,eAAA/F,WACA,CAAA+F,8CAAA/F,WACA,CAAA+F,gBAAA/F,WACA,CAAA+F,eAAA/F,YAGe,OACfiB,gBACA+E,YACAC,iBACAC,oBACAC,kBACA3C,cACA4C,uBACAC,kBACAC,uBAEAlB,OACAtE,YACAuE,aACAC,YAEAzE,gBACAwE,aACAC,aAGAzC,OACA,OACA0D,eAEAC,uCACAV,8BACAnC,iBACAC,cACAE,gBACAD,eAEAI,qBACAV,WACAkD,cACA9B,eAEAnB,eACAkD,QACAC,SACAC,YACAtF,UACAuF,WACAlC,eACAb,gBACAf,aACA+D,eACAC,oBAEA7C,SACA8C,wCACAjB,SACAkB,qBACAvE,WACAwE,SACA,CAAAnB,sCAAAoB,mBAAAC,cACA,CAAArB,sCAAAoB,mBAAAC,eAEAC,YACAC,UACAC,gBAEAC,UACA,CACAzB,sCACArD,kBACAyE,mBACAM,gBACAC,MACAC,aACAC,qDAMAnG,iBACAoG,SACAxF,kBACAqE,QACAoB,YACAlB,aAEAxC,iBACA2D,gBACA5F,cACA,CACA,qBACA,+BAGA4D,qCACAoB,kBACAC,cAEA,CACA,qBACA,uBAEArB,iCACAoB,cACAC,cAEA,CACArB,qCACAoB,cACA,qBACA,uBAEAC,aACAY,qBAEA,CACAjC,wCACAoB,iBACAC,aACAY,uBACAC,YAGA7F,aACA,CACA,qBACA,6BAEA2D,gDACAoB,iBACAC,cAEA,CACA,qBACA,+BAGArB,qCACAoB,kBACAC,cAEA,CACA,qBACA,2CAGArB,2CACAoB,wBACAC,cAEA,CACA,qBACA,uBAEArB,iCACAoB,cACAC,cAEA,CACArB,qCACAoB,cACA,qBACA,uBAEAC,aACAY,qBAEA,CACAjC,wCACAoB,iBACAC,aACAc,cACAF,uBACAC,cAGA/F,YACAf,iBACAgH,iBACAxH,aACAqG,oCACAoB,wCAIA7C,OACA,yBACA8C,WACA,IACA,mBACAvE,gBACAD,kBAKA,wBACAwE,WACA,IACA,wBAIAxH,kBACA,4BAGA2E,UACA8C,gBACA,OACA,CAAAvC,eAAA/F,YACA,CAAA+F,eAAA/F,YACA,CAAA+F,eAAA/F,YACA,CAAA+F,YAAA/F,YACA,CAAA+F,uBAAA/F,aAKA,OAHA,yBACAuI,WAAAxC,YAAA/F,cAEA,GAEAuB,gBACA,+BACA,iBAEA,kBAGAgB,iBACA,qDAKAf,kBACA,OACA,CACAgH,+BACAzC,wBACArD,qBACA+E,iBACAtK,YACAsL,yCACAf,MACAE,kDAEAc,OACAC,WACA,eACA9B,WACAlC,eACAb,gBACAf,0BACA+D,eACAC,qBAKA,CACAyB,4BACAzC,qCACArD,iBACA+E,gBACAC,MACAE,gDACAgB,kBAGA,CACAJ,4BACAzC,iCACArD,aACA+E,gBACAC,MACAE,gDACAgB,cAGA,CACAJ,4BACAK,+BACA9C,kCACArD,kBACA+E,gBACAC,MACAE,iDACAD,cAEAmB,OACA,CACA7H,cACAwG,eACAjH,wBACAkH,MACAqB,oBACAC,cAEAN,OACAO,WACA,sBAKAP,OACAQ,wBAGA,CACAV,4BACAzC,+EACArD,aACA+E,iBACAgB,2BACAf,MACAE,mDAGA,CACAY,+BACAK,+BACA9C,gDACArD,mBACA+E,gBACAC,MACAE,iDACAD,cAEAmB,OACA,CACA7H,cACAwG,eACAjH,wBACAkH,MACAqB,oBACAC,cAEAN,OACAO,WACA,4BAOA,UAEAhG,cACA,WACA,UACA,SACA,uEACA,SACA,wEACA,SACA,wEACA,SACA,2EACA,SACA,2EACA,SACA,SACA,kIACA,QACA,WAKAwC,SACA0D,mBACA,gBACA,kCACA,kBAIA,kCAMA1I,oBACA,yCACA,SAWA,OAVA,0BACA2I,qBACA,mEAEA,kBACA,2BACA,iEACA,kEACAA,MAEA,GAEA/E,qBACA,iCACA,yCAEA,qBACA,OACAuC,wBACAD,mBACA0C,cAEA,cACAxG,uCAEA,8BACA,UAEAyG,aACA,2BAEAtF,oBACA,gBAEAuF,UACA,kBAEAnG,oBACA,QACAoG,sBACA,sCAEAlG,cACA,gBACAmD,oBACA9B,yBAEA,qBAEAlB,QACA,qBAEAC,cACA,kBAEAR,cACA,uBAEArB,QACA,kDACA,kBAEAD,aACA,mBAAAmF,aAAApC,eAAAb,GAAA,cACA,GACAa,aACAb,gBAEA,4BAIA,sBACA,iDACA,MAIA,OADA,uBACA,EAHA,oBANA,eAAA1G,qCAAAiI,kBAaAhC,gBACA,OACA2D,mBACAyC,iBAEA,oBACAC,wCACAC,OAAA9G,+CAGA,mBACA,oBAAA6G,6CAEApH,eACA,6CAGA,uBACA,mBAAAyE,SAAAhE,GAAA,cACA,mCACAA,MAEA,OACA+E,0CACAlB,wCACAC,0DACAlC,sEACA5B,SACA6G,4BACAC,0CAEAC,kBACAC,SACA,6BACA,OACAC,8BAEAA,iBACAA,WAEAC,QAGAC,cACAC,aACA,sBACA,wBCroB2Y,ICQvY,G,UAAY,eACd,EACAhK,EACAmE,GACA,EACA,KACA,WACA,OAIa,e,2CCnBf","file":"js/chunk-08b26fac.js","sourcesContent":["let inputRequiredValidateObj = {\n  required: true,\n  message: 'Please enter content',\n  trigger: 'blur',\n};\n\nlet checkRequiredValidateObj = {\n  required: true,\n  message: 'Please check content',\n  trigger: 'blur',\n};\n\nlet selectRequiredValidateObj = {\n  required: true,\n  message: 'Please select content',\n  trigger: 'change',\n};\n\nlet zeroAndPositiveNumberValidateObj = {\n  pattern: /^\\+?[0-9]*(\\.[0-9]*)?$/,\n  message: 'enter a non-nagative integer',\n  trigger: 'blur',\n};\n\nlet numberAndCharacterValidateObj = {\n  pattern: /^[0-9a-zA-Z]*$/,\n  message: 'Must be number and letters.',\n  trigger: 'blur',\n};\n\nlet integerValidateObj = {\n  pattern: /^[+-]?[0-9]*$/,\n  message: 'Must be integer number.',\n  trigger: 'blur',\n};\nlet msisdnValidateObj = {\n  pattern: /[0-9]{4}/,\n  message: 'The MSISDN must contain at least 4 dligits',\n  trigger: 'blur',\n};\n\nlet phoneNumberRuleObj = {\n  pattern: /^((13[5-9])|(1[4-9][0-9]))[0-9]{8}$/,\n  message: 'The regular expression is ^((13[5-9])|(1[4-9][0-9]))[0-9]{8}$.',\n  trigger: 'blur',\n};\n\nlet emailRuleObj = {\n  pattern: /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/,\n  message: 'The regular expression is ^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\\\.[a-zA-Z0-9_-]+)+$.',\n  trigger: 'blur',\n};\n\nlet emailValidateObj = {\n  type: 'email',\n  message: 'Invalid email address.',\n  trigger: 'blur',\n};\n\nlet nonSpecialCharValidateObj = {\n  pattern: /^[^@~`！!#$%^*（）()\\-+=|,/<>《》?？;':\\\"“\\[\\]{}\\\\&]*$/,\n  message: 'Cannot contain special characters (~`!#$%^*()-+=|,/<>?;\\':\"[]{}\\\\&)',\n  trigger: 'blur',\n};\n\nlet nonSpecialCharExceptPercentSignValidateObj = {\n  pattern: /^[^@~`！!#$^*（）()\\-+=|,/<>《》?？;':\\\"“\\[\\]{}\\\\&]*$/,\n  message: 'Cannot contain special characters (~`!#$^*()-+=|,/<>?;\\':\"[]{}\\\\&)',\n  trigger: 'blur',\n};\n\nlet nameValidateObj = {\n  pattern: /^[a-zA-Z][\\s\\w.-]*$/,\n  message: 'The regular expression is ^[a-zA-Z][\\\\s\\\\w.-]*$',\n  trigger: 'blur',\n};\nlet nonSpecialValidateObj = {\n  pattern: /^[\\w- ]+$/,\n  message: 'Please do not enter any special characters.',\n  trigger: 'blur',\n};\n\nexport {\n  inputRequiredValidateObj,\n  zeroAndPositiveNumberValidateObj,\n  checkRequiredValidateObj,\n  numberAndCharacterValidateObj,\n  selectRequiredValidateObj,\n  emailValidateObj,\n  nonSpecialCharValidateObj,\n  nameValidateObj,\n  phoneNumberRuleObj,\n  emailRuleObj,\n  integerValidateObj,\n  msisdnValidateObj,\n  nonSpecialCharExceptPercentSignValidateObj,\n  nonSpecialValidateObj,\n};\n\nexport const len0To11StrValidateObj = getStrLenValidateObj({\n  minLen: 0,\n  maxLen: 11,\n});\nexport const len0To18StrValidateObj = getStrLenValidateObj({\n  minLen: 0,\n  maxLen: 18,\n});\n\nexport const len3To3StrValidateObj = getStrLenValidateObj({\n  minLen: 3,\n  maxLen: 3,\n});\n\nexport const len6To16StrValidateObj = getStrLenValidateObj({\n  minLen: 6,\n  maxLen: 16,\n});\n\nexport const len8To10StrValidateObj = getStrLenValidateObj({\n  minLen: 8,\n  maxLen: 10,\n});\nexport const len8To11StrValidateObj = getStrLenValidateObj({\n  minLen: 8,\n  maxLen: 11,\n});\n\nexport const len4To12StrValidateObj = getStrLenValidateObj({\n  minLen: 4,\n  maxLen: 12,\n});\n\nexport const len6To12StrValidateObj = getStrLenValidateObj({\n  minLen: 6,\n  maxLen: 12,\n});\n\nexport const len19StrValidateObj = getStrLenValidateObj({\n  minLen: 0,\n  maxLen: 19,\n});\n\nexport const len24StrValidateObj = getStrLenValidateObj({\n  minLen: 0,\n  maxLen: 24,\n});\n\nexport const len64StrValidateObj = getStrLenValidateObj({\n  minLen: 0,\n  maxLen: 64,\n});\n\nexport const len100StrValidateObj = getStrLenValidateObj({\n  minLen: 0,\n  maxLen: 100,\n});\n\nexport const len256StrValidateObj = getStrLenValidateObj({\n  minLen: 0,\n  maxLen: 256,\n});\n\nexport const len512StrValidateObj = getStrLenValidateObj({\n  minLen: 0,\n  maxLen: 512,\n});\n\nexport const len8To50StrValidateObj = getStrLenValidateObj({\n  minLen: 8,\n  maxLen: 50,\n});\nexport const len1To18StrValidateObj = getStrLenValidateObj({\n  minLen: 1,\n  maxLen: 18,\n});\n\nexport const len0To32StrValidateObj = getStrLenValidateObj({\n  minLen: 0,\n  maxLen: 32,\n});\n\nexport const len0To30StrValidateObj = getStrLenValidateObj({\n  minLen: 0,\n  maxLen: 30,\n});\n\nexport const len9To18StrValidateObj = getStrLenValidateObj({\n  minLen: 9,\n  maxLen: 18,\n});\n\nexport const len256to2StrValidateObj = getStrLenValidateObj({\n  minLen: 2,\n  maxLen: 256,\n});\n\n/**\n * 获取字符串校验对象\n * @param {minLen, maxLen} 最小，最大长度\n */\nexport function getStrLenValidateObj({ minLen = 0, maxLen = 100 }) {\n  let msg = '';\n  if (minLen > 0) {\n    msg = `Must be between ${minLen} and ${maxLen} characters`;\n  } else {\n    msg = `Must be less than ${maxLen} characters`;\n  }\n  return {\n    min: minLen,\n    max: maxLen,\n    message: msg,\n    trigger: 'blur',\n  };\n}\n\nexport const len4to0trValidateObj = getStrLenValidateObj({\n  minLen: 0,\n  maxLen: 4,\n});\n\n// 将路径表达式转换取值方法\nexport function parsePath(path) {\n  const arr = path.split('.');\n  return function (data) {\n    for (const key of arr) {\n      if (!data) {\n        return;\n      }\n      data = data[key];\n    }\n    return data;\n  };\n}\n\n// 校验模糊查询是否输入了内容\nexport function checkFuzzySearchInput(obj) {\n  let arr = [];\n  for (let item in obj) {\n    if ((obj[item] && obj[item].toString().startsWith('%') && obj[item].length === 1) || !obj[item]) {\n      arr.push(false);\n    } else {\n      arr.push(true);\n    }\n  }\n  if (arr.every((item) => item === false)) {\n    return false;\n  }\n  return true;\n}\n\nexport function checkLengthExceptPercentSign(errorMsg) {\n  return {\n    validator: (rule, value, callback) => {\n      if (value && value.startsWith('%') && value.length === 1) {\n        callback(new Error(`${errorMsg}`));\n      } else {\n        callback();\n      }\n    },\n    trigger: 'blur',\n  };\n}\n\nexport function checkmsisdnLengthExceptPercentSign() {\n  return {\n    validator: (rule, value, callback) => {\n      if (value && value.startsWith('%') && value.length <= 4) {\n        callback(new Error('The MSISDN must contain at least 4 digits.'));\n      } else {\n        callback();\n      }\n    },\n    trigger: 'blur',\n  };\n}\n","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=f95268e0&prod&scoped=true&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('portal-header',{class:_vm.isShowheaderTitle(),attrs:{\"projectObj\":_vm.titleConfig}}),_c('div',{staticClass:\"table-search-container\"},[(!_vm.isOrganization || _vm.activeName)?_c('el-divider',{staticClass:\"header-divider\"}):_vm._e(),_c('el-collapse-transition',[_c('portal-form',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.collapseValue),expression:\"collapseValue\"}],ref:\"tillForm\",class:_vm.isOrganization && !_vm.activeName ? 'till-portal-form' : '',attrs:{\"needBottomLine\":false,\"form-data\":_vm.tillForm,\"form-rules\":_vm.tillFormRules,\"form-config-list\":_vm.formConfigArray,\"searchBtnLoading\":_vm.searchLoading,\"searchBtnDisabled\":!_vm.hasPerm('IC_TILL_MANAGE_SEARCH_BTN')},on:{\"common-enter-event\":_vm.searchTill,\"reset-btn-click\":_vm.reset,\"search-btn-click\":_vm.searchTill}})],1)],1),_c('div',{staticClass:\"till-table-list\"},[_c('el-divider'),_c('el-button',{attrs:{\"disabled\":!_vm.hasPerm('IC_TILL_ADDBASICINFO_NEXT_BTN'),\"icon\":\"el-icon-plus\",\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.createTill}},[_vm._v(\" \"+_vm._s(_vm.$t('common.button.create'))+\" \")]),_c('table-page',{staticClass:\"margin-top-16\",attrs:{\"size\":\"small\",\"has-pagination\":true,\"isSearch\":_vm.isSearch,\"columns\":_vm.isOrganization ? _vm.isOrgCokumns : _vm.tillColumns,\"pagination\":_vm.paginationConfig,\"getTableData\":_vm.getTableData,\"initializing-loading\":_vm.fristSearchMap,\"sortArr\":['status', 'shortCode', 'msisdn', 'tillNumber']},scopedSlots:_vm._u([{key:\"status\",fn:function(scope){return [_c('div',{staticClass:\"flex flex-align\"},[(scope.data.row.status !== '')?_c('span',{staticClass:\"status-circle\",style:(_vm.statusStyle(scope.data.row.status))}):_vm._e(),_c('span',[_vm._v(_vm._s(_vm.showStatus(scope.data.row.status)))]),(scope.data.row.status == '03' || scope.data.row.status == '05')?_c('i',{staticClass:\"el-icon-black-edit icon-cursor margin-left-12\",attrs:{\"id\":\"language\"},on:{\"click\":function($event){return _vm.handleEditStatus(scope.data.row)}}}):_vm._e()])]}},{key:\"operation\",fn:function(scope){return [_c('el-button',{staticClass:\"table-operation-btn icon-cursor operation-button\",attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleDetail(scope.data.row)}}},[_vm._v(\" \"+_vm._s(_vm.$t('common.button.detail'))+\" \")]),(scope.data.row.status == '03' || scope.data.row.status == '05')?_c('el-button',{staticClass:\"table-operation-btn icon-cursor\",attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.showColose(scope.data.row)}}},[_vm._v(\" \"+_vm._s(_vm.$t('common.button.close'))+\" \")]):_vm._e()]}}])})],1),_c('close-dialog',{attrs:{\"closeData\":_vm.closeData,\"closeDialog\":_vm.closeDialog},on:{\"ishow\":_vm.ishow,\"update:closeDialog\":function($event){_vm.closeDialog=$event},\"update:close-dialog\":function($event){_vm.closeDialog=$event},\"closeSubmit\":_vm.closeSubmit}}),_c('portal-short-code',{ref:\"selectShortCode\",attrs:{\"invoking-flag\":\"createOrgOperator\",\"searchVisible\":_vm.searchVisible,\"merchant-id\":_vm.tillFormData.merchantId,\"short-code\":_vm.tillForm.orgshortcode,\"isSelect\":true},on:{\"update:searchVisible\":function($event){_vm.searchVisible=$event},\"update:search-visible\":function($event){_vm.searchVisible=$event},\"update:merchantId\":function($event){return _vm.$set(_vm.tillFormData, \"merchantId\", $event)},\"update:merchant-id\":function($event){return _vm.$set(_vm.tillFormData, \"merchantId\", $event)},\"update:shortCode\":function($event){return _vm.$set(_vm.tillForm, \"orgshortcode\", $event)},\"update:short-code\":function($event){return _vm.$set(_vm.tillForm, \"orgshortcode\", $event)}}}),_c('edit-status',{ref:\"editStatus\",on:{\"closeStatusDialog\":_vm.closeStatusDialog}}),_c('portal-add-popup',{attrs:{\"id\":\"popup-product\",\"isCheck\":true,\"isSingleCheck\":true,\"isCheckMemory\":true,\"hasCheckBox\":false,\"searchVisible\":_vm.addProductVisible,\"addForm\":_vm.addForm,\"childSearch\":_vm.loadProduct,\"init-checks\":_vm.initCheckList,\"has-pagination\":true},on:{\"update:searchVisible\":function($event){_vm.addProductVisible=$event},\"update:search-visible\":function($event){_vm.addProductVisible=$event},\"submit-call-back\":_vm.selectProductList}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',{attrs:{\"visible\":_vm.isShow,\"title\":_vm.$t('IDC.till.closeTillTitle'),\"width\":\"448px\",\"top\":\"29vh\",\"height\":\"342\",\"close-on-click-modal\":false,\"before-close\":_vm.closeService},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('h1',{staticClass:\"dialog-title\"},[_vm._v(_vm._s(_vm.$t('IDC.till.closeTill') + ' ' + _vm.closeData.tillNumber + ' ' + '?'))]),_c('el-divider'),_c('el-form',{ref:\"tillDialog\",attrs:{\"rules\":_vm.rules,\"label-position\":\"top\",\"model\":_vm.submitData}},[_c('el-form-item',{attrs:{\"label\":\"Remark\",\"prop\":\"remark\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":5,\"resize\":\"none\",\"placeholder\":\"Please enter \"},model:{value:(_vm.submitData.remark),callback:function ($$v) {_vm.$set(_vm.submitData, \"remark\", $$v)},expression:\"submitData.remark\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticClass:\"btn-cancel\",on:{\"click\":function($event){return _vm.closeService()}}},[_vm._v(_vm._s(_vm.$t('common.button.cancel')))]),_c('el-button',{directives:[{name:\"preventReClick\",rawName:\"v-preventReClick\"}],attrs:{\"type\":\"primary\",\"loading\":_vm.submitLoading,\"size\":\"small\"},on:{\"click\":function($event){return _vm.submitService()}}},[_vm._v(_vm._s(_vm.$t('common.button.confirm')))])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog\n    :visible=\"isShow\"\n    :title=\"$t('IDC.till.closeTillTitle')\"\n    width=\"448px\"\n    top=\"29vh\"\n    height=\"342\"\n    :close-on-click-modal=\"false\"\n    @submit.prevent.native\n    :before-close=\"closeService\"\n  >\n    <h1 class=\"dialog-title\">{{ $t('IDC.till.closeTill') + ' ' + closeData.tillNumber + ' ' + '?' }}</h1>\n    <el-divider />\n    <el-form :rules=\"rules\" label-position=\"top\" ref=\"tillDialog\" :model=\"submitData\">\n      <el-form-item label=\"Remark\" prop=\"remark\">\n        <el-input type=\"textarea\" :rows=\"5\" resize=\"none\" v-model=\"submitData.remark\" placeholder=\"Please enter \" />\n      </el-form-item>\n    </el-form>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button class=\"btn-cancel\" @click=\"closeService()\">{{ $t('common.button.cancel') }}</el-button>\n      <el-button type=\"primary\" :loading=\"submitLoading\" size=\"small\" @click=\"submitService()\" v-preventReClick>{{\n        $t('common.button.confirm')\n      }}</el-button>\n    </span>\n  </el-dialog>\n</template>\n<script>\nimport { closeTill } from '@/views/identifier-center/api/api-till';\nimport { inputRequiredValidateObj } from '@/common/validator/common';\nexport default {\n  name: 'closeDialog',\n  props: {\n    closeDialog: {\n      type: Boolean,\n      default: false,\n    },\n    closeData: {\n      type: Object,\n    },\n  },\n  data() {\n    return {\n      rules: {\n        remark: [inputRequiredValidateObj],\n      },\n      submitLoading: false,\n      isShow: this.closeDialog,\n      submitData: {\n        remark: '',\n      },\n    };\n  },\n  watch: {\n    closeDialog(val) {\n      this.isShow = val;\n    },\n  },\n  computed: {},\n  methods: {\n    closeService() {\n      this.$refs.tillDialog.resetFields();\n      this.isShow = false;\n      this.$emit('ishow', false);\n    },\n    submitService() {\n      this.$refs['tillDialog'].validate((valid) => {\n        if (valid) {\n          let params = {\n            receiverIdentityId: this.closeData.identityId,\n            remark: this.submitData.remark,\n          };\n          this.submitLoading = true;\n          closeTill(params).then((res) => {\n            if (res.header && res.header.success) {\n              this.$modal.msgSuccess(`Till \"${this.closeData.tillNumber}\" closed successfully.`);\n              this.closeService();\n              this.$emit('closeSubmit');\n            } else {\n              this.closeService();\n            }\n            this.submitLoading = false;\n          });\n        }\n      });\n    },\n  },\n  mounted() {},\n};\n</script>\n<style scoped lang=\"scss\">\n.dialog-title {\n  color: $--text_color--emphasis;\n  font-size: 14px;\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./close-dialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./close-dialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./close-dialog.vue?vue&type=template&id=4ea12e7c&scoped=true&\"\nimport script from \"./close-dialog.vue?vue&type=script&lang=js&\"\nexport * from \"./close-dialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./close-dialog.vue?vue&type=style&index=0&id=4ea12e7c&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ea12e7c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <portal-header :class=\"isShowheaderTitle()\" :projectObj=\"titleConfig\"></portal-header>\n    <div class=\"table-search-container\">\n      <el-divider class=\"header-divider\" v-if=\"!isOrganization || activeName\"></el-divider>\n      <el-collapse-transition>\n        <portal-form\n          :class=\"isOrganization && !activeName ? 'till-portal-form' : ''\"\n          v-show=\"collapseValue\"\n          ref=\"tillForm\"\n          :needBottomLine=\"false\"\n          :form-data=\"tillForm\"\n          :form-rules=\"tillFormRules\"\n          :form-config-list=\"formConfigArray\"\n          :searchBtnLoading=\"searchLoading\"\n          @common-enter-event=\"searchTill\"\n          @reset-btn-click=\"reset\"\n          @search-btn-click=\"searchTill\"\n          :searchBtnDisabled=\"!hasPerm('IC_TILL_MANAGE_SEARCH_BTN')\"\n        />\n      </el-collapse-transition>\n    </div>\n    <div class=\"till-table-list\">\n      <el-divider></el-divider>\n      <el-button\n        :disabled=\"!hasPerm('IC_TILL_ADDBASICINFO_NEXT_BTN')\"\n        @click=\"createTill\"\n        icon=\"el-icon-plus\"\n        size=\"small\"\n        type=\"primary\"\n      >\n        {{ $t('common.button.create') }}\n      </el-button>\n      <table-page\n        class=\"margin-top-16\"\n        size=\"small\"\n        :has-pagination=\"true\"\n        :isSearch=\"isSearch\"\n        :columns=\"isOrganization ? isOrgCokumns : tillColumns\"\n        :pagination=\"paginationConfig\"\n        :getTableData=\"getTableData\"\n        :initializing-loading=\"fristSearchMap\"\n        :sortArr=\"['status', 'shortCode', 'msisdn', 'tillNumber']\"\n      >\n        <template slot-scope=\"scope\" slot=\"status\">\n          <div class=\"flex flex-align\">\n            <span\n              v-if=\"scope.data.row.status !== ''\"\n              class=\"status-circle\"\n              :style=\"statusStyle(scope.data.row.status)\"\n            ></span>\n            <span>{{ showStatus(scope.data.row.status) }}</span>\n            <i\n              v-if=\"scope.data.row.status == '03' || scope.data.row.status == '05'\"\n              id=\"language\"\n              class=\"el-icon-black-edit icon-cursor margin-left-12\"\n              @click=\"handleEditStatus(scope.data.row)\"\n            />\n          </div>\n        </template>\n        <template slot-scope=\"scope\" slot=\"operation\">\n          <el-button\n            size=\"mini\"\n            type=\"text\"\n            class=\"table-operation-btn icon-cursor operation-button\"\n            @click=\"handleDetail(scope.data.row)\"\n          >\n            {{ $t('common.button.detail') }}\n          </el-button>\n          <el-button\n            v-if=\"scope.data.row.status == '03' || scope.data.row.status == '05'\"\n            size=\"mini\"\n            type=\"text\"\n            class=\"table-operation-btn icon-cursor\"\n            @click=\"showColose(scope.data.row)\"\n          >\n            {{ $t('common.button.close') }}\n          </el-button>\n        </template>\n      </table-page>\n    </div>\n    <close-dialog\n      @ishow=\"ishow\"\n      :closeData=\"closeData\"\n      :closeDialog.sync=\"closeDialog\"\n      @closeSubmit=\"closeSubmit\"\n    ></close-dialog>\n    <portal-short-code\n      ref=\"selectShortCode\"\n      invoking-flag=\"createOrgOperator\"\n      :searchVisible.sync=\"searchVisible\"\n      :merchant-id.sync=\"tillFormData.merchantId\"\n      :short-code.sync=\"tillForm.orgshortcode\"\n      :isSelect=\"true\"\n    ></portal-short-code>\n    <edit-status ref=\"editStatus\" @closeStatusDialog=\"closeStatusDialog\"></edit-status>\n    <portal-add-popup\n      id=\"popup-product\"\n      :isCheck=\"true\"\n      :isSingleCheck=\"true\"\n      :isCheckMemory=\"true\"\n      :hasCheckBox=\"false\"\n      :searchVisible.sync=\"addProductVisible\"\n      :addForm=\"addForm\"\n      :childSearch=\"loadProduct\"\n      @submit-call-back=\"selectProductList\"\n      :init-checks=\"initCheckList\"\n      :has-pagination=\"true\"\n    ></portal-add-popup>\n  </div>\n</template>\n\n<script>\nimport { getSearchTillRules, tillListRules } from '@/views/identifier-center/validator/till.js';\nimport PortalHeader from '@/components/portal-header';\nimport PortalAddPopup from '@/components/portal-add-popup/index';\nimport TablePage from '@/components/tablePage';\nimport PortalForm from '@/components/portal-form';\nimport { selectTillList, getProduct } from '@/views/identifier-center/api/api-till';\nimport closeDialog from './components/close-dialog';\nimport portalShortCode from '@/components/portal-short-code/index.vue';\nimport EditStatus from '../view/components/edit-status.vue';\nimport { STATUS_MAP } from '@/views/task-center/page/task-detail/utils/data-dic.js';\nimport { checkFuzzySearchInput } from '@/common/validator/common.js';\n\nconst queryConditionSelectOptions = [\n  { label: 'MSISDN', value: '0' },\n  { label: 'Till Number + Organization Short Code', value: '1' },\n  { label: 'Product', value: '2' },\n  { label: 'Status', value: '3' },\n];\n\nexport default {\n  name: 'TillList',\n  components: {\n    TablePage,\n    PortalHeader,\n    PortalForm,\n    closeDialog,\n    portalShortCode,\n    EditStatus,\n    PortalAddPopup,\n  },\n  props: {\n    activeName: {\n      type: Boolean,\n      default: false,\n    },\n    isOrganization: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      fristSearch: false,\n      // 定义一个isOrganizationPage来接收传递过来的值\n      isOrganizationPage: this.isOrganization,\n      queryConditionSelectOptions,\n      searchVisible: false,\n      tillFormData: {\n        orgshortcode: '',\n        merchantId: '',\n      },\n      addProductVisible: false,\n      closeData: {\n        identityId: '',\n        tillNumber: '',\n      },\n      closeDialog: false,\n      total: 0,\n      pageNo: 1,\n      pageSize: 10,\n      tillForm: {\n        msisdn: '%',\n        tillNumber: '%',\n        orgshortcode: '',\n        status: 'All',\n        productName: '',\n        queryCondition: '0',\n      },\n      addForm: {\n        title: this.$t('IDC.till.selectProduct'),\n        label: '',\n        idKey: 'productIndex',\n        key: 'till',\n        columns: [\n          { label: this.$t('IDC.till.productName'), prop: 'productName', align: 'left' },\n          { label: this.$t('IDC.till.description'), prop: 'description', align: 'left' },\n        ],\n        searchForm: {\n          formData: {\n            producrName: '',\n          },\n          formConf: [\n            {\n              label: this.$t('IDC.till.productName'),\n              key: 'producrName',\n              prop: 'producrName',\n              comp: 'el-input',\n              bind: {\n                clearable: true,\n                placeholder: this.$t('common.placeholder.enter'),\n              },\n            },\n          ],\n        },\n      },\n      searchLoading: false,\n      tills: [],\n      paginationConfig: {\n        total: 0,\n        pageIndex: 1,\n        pageSize: 10,\n      },\n      initCheckList: [],\n      productIndex: '',\n      isOrgCokumns: [\n        {\n          'sort-method': (a, b) => {\n            return a.tillNumber > b.tillNumber ? 1 : -1;\n          },\n\n          label: this.$t('IDC.till.tillNumber'),\n          prop: 'tillNumber',\n          align: 'left',\n        },\n        {\n          'sort-method': (a, b) => {\n            return a.msisdn > b.msisdn ? 1 : -1;\n          },\n          label: this.$t('IDC.till.msisdn'),\n          prop: 'msisdn',\n          align: 'left',\n        },\n        {\n          label: this.$t('common.label.status'),\n          prop: 'status',\n          'sort-method': (a, b) => {\n            return a.status > b.status ? 1 : -1;\n          },\n          align: 'left',\n          __slotName: 'status',\n        },\n        {\n          label: this.$t('common.label.operation'),\n          prop: 'operation',\n          align: 'left',\n          __slotName: 'operation',\n          width: 200,\n        },\n      ],\n      tillColumns: [\n        {\n          'sort-method': (a, b) => {\n            return a.shortCode > b.shortCode ? 1 : -1;\n          },\n          label: this.$t('IDC.till.organizationShortCode'),\n          prop: 'shortCode',\n          align: 'left',\n        },\n        {\n          'sort-method': (a, b) => {\n            return a.tillNumber > b.tillNumber ? 1 : -1;\n          },\n\n          label: this.$t('IDC.till.tillNumber'),\n          prop: 'tillNumber',\n          align: 'left',\n        },\n        {\n          'sort-method': (a, b) => {\n            return a.organizationName > b.organizationName ? 1 : -1;\n          },\n\n          label: this.$t('IDC.till.organizationName'),\n          prop: 'organizationName',\n          align: 'left',\n        },\n        {\n          'sort-method': (a, b) => {\n            return a.msisdn > b.msisdn ? 1 : -1;\n          },\n          label: this.$t('IDC.till.msisdn'),\n          prop: 'msisdn',\n          align: 'left',\n        },\n        {\n          label: this.$t('common.label.status'),\n          prop: 'status',\n          'sort-method': (a, b) => {\n            return a.status > b.status ? 1 : -1;\n          },\n          align: 'left',\n          __slotName: 'status',\n        },\n        {\n          label: this.$t('common.label.operation'),\n          prop: 'operation',\n          align: 'left',\n          fixed: 'right',\n          __slotName: 'operation',\n          width: '160',\n        },\n      ],\n      isSearch: false,\n      collapseValue: true,\n      hasPagination: true,\n      titleConfig: {\n        title: this.$t('IDC.till.pageTitle'),\n        desc: this.$t('IDC.till.createTitle'),\n      },\n    };\n  },\n  watch: {\n    'tillForm.orgshortcode': {\n      handler(value) {\n        if (!value) {\n          this.tillFormData = {\n            orgshortcode: '',\n            merchantId: '',\n          };\n        }\n      },\n    },\n    'tillForm.productName': {\n      handler(value) {\n        if (!value) {\n          this.productIndex = '';\n        }\n      },\n    },\n    isOrganization(value) {\n      this.isOrganizationPage = value;\n    },\n  },\n  computed: {\n    statusOptions() {\n      let list = [\n        { label: 'Active', value: '03' },\n        { label: 'Closed', value: '06' },\n        { label: 'Frozen', value: '05' },\n        { label: 'New', value: '00' },\n        { label: 'Pending Active', value: '02' },\n      ];\n      if (this.isOrganizationPage) {\n        list.unshift({ label: 'All', value: 'All' });\n      }\n      return list;\n    },\n    tillFormRules() {\n      if (this.isOrganizationPage) {\n        return getSearchTillRules();\n      } else {\n        return tillListRules();\n      }\n    },\n    fristSearchMap() {\n      if (this.isOrganizationPage && this.activeName) {\n        return true;\n      }\n      return false;\n    },\n    formConfigArray() {\n      let formList = [\n        {\n          hidden: this.isOrganizationPage,\n          label: 'Query Condition',\n          key: 'queryCondition',\n          comp: 'el-select',\n          required: true,\n          options: this.queryConditionSelectOptions,\n          bind: {\n            placeholder: this.$t('common.placeholder.select'),\n          },\n          event: {\n            change: (e) => {\n              this.tillForm = {\n                msisdn: '%',\n                tillNumber: '%',\n                orgshortcode: '',\n                status: e === '3' ? '03' : 'All',\n                productName: '',\n                queryCondition: e,\n              };\n            },\n          },\n        },\n        {\n          hidden: this.isShowItem('1'),\n          label: this.$t('IDC.till.tillNumber'),\n          key: 'tillNumber',\n          comp: 'el-input',\n          bind: {\n            placeholder: this.$t('common.placeholder.enter'),\n            id: 'tillNumber',\n          },\n        },\n        {\n          hidden: this.isShowItem('0'),\n          label: this.$t('IDC.till.msisdn'),\n          key: 'msisdn',\n          comp: 'el-input',\n          bind: {\n            placeholder: this.$t('common.placeholder.enter'),\n            id: 'msisdn',\n          },\n        },\n        {\n          hidden: this.isShowItem('2'),\n          formItemClass: 'org-short-code',\n          label: this.$t('IDC.till.product'),\n          key: 'productName',\n          comp: 'el-input',\n          bind: {\n            placeholder: this.$t('common.placeholder.select'),\n            clearable: true,\n          },\n          slots: [\n            {\n              name: 'append',\n              comp: 'el-link',\n              class: 'short-code-icon',\n              bind: {\n                icon: 'el-icon-more',\n                underline: false,\n              },\n              event: {\n                click: () => {\n                  this.addProduct();\n                },\n              },\n            },\n          ],\n          event: {\n            focus: this.addProduct,\n          },\n        },\n        {\n          hidden: this.isShowItem('3'),\n          label: this.isOrganizationPage ? this.$t('common.label.status') : 'Identity Status',\n          key: 'status',\n          comp: 'el-select',\n          options: this.statusOptions,\n          bind: {\n            placeholder: this.$t('common.placeholder.select'),\n          },\n        },\n        {\n          hidden: this.isShowItem('1', false),\n          formItemClass: 'org-short-code',\n          label: this.$t('IDC.till.organizationShortCode'),\n          key: 'orgshortcode',\n          comp: 'el-input',\n          bind: {\n            placeholder: this.$t('common.placeholder.select'),\n            clearable: true,\n          },\n          slots: [\n            {\n              name: 'append',\n              comp: 'el-link',\n              class: 'short-code-icon',\n              bind: {\n                icon: 'el-icon-more',\n                underline: false,\n              },\n              event: {\n                click: () => {\n                  this.searchVisible = true;\n                },\n              },\n            },\n          ],\n        },\n      ];\n      return formList;\n    },\n    statusStyle() {\n      return (status) => {\n        switch (status) {\n          case '03':\n            return { 'background-color': this.GlobalStyleVariables.statusNoticeColor };\n          case '06':\n            return { 'background-color': `${this.GlobalStyleVariables.fillStrongColor}` };\n          case '05':\n            return { 'background-color': this.GlobalStyleVariables.statusColorwarning };\n          case '04':\n            return { 'background-color': `${this.GlobalStyleVariables.statusColorwarning}` };\n          case '07':\n            return { 'background-color': `${this.GlobalStyleVariables.statusSuccessColor}` };\n          case '00':\n          case '02':\n            return `background-color:${this.GlobalStyleVariables.backgroundColor};border:1px solid ${this.GlobalStyleVariables.initialColor};`;\n          default:\n            return;\n        }\n      };\n    },\n  },\n  methods: {\n    isShowItem(val, identification = true) {\n      let showList = ['1', '2'];\n      if (this.isOrganizationPage) {\n        if (!val.includes(showList) && identification) {\n          return false;\n        }\n        return true;\n      } else if (this.tillForm.queryCondition === val) {\n        return false;\n      } else {\n        return true;\n      }\n    },\n    isShowheaderTitle() {\n      this.fristSearch = this.isOrganizationPage;\n      let val = '';\n      if (this.isOrganizationPage) {\n        val = 'till-page-header';\n        this.$set(this.titleConfig, 'desc', this.$t('IDC.till.detailTile'));\n      }\n      if (this.activeName) {\n        this.isOrganizationPage = true;\n        this.$set(this.titleConfig, 'title', this.$t('IDC.till.tillList'));\n        this.$set(this.titleConfig, 'desc', this.$t('IDC.till.detailTile'));\n        val = '';\n      }\n      return val;\n    },\n    selectProductList(val) {\n      this.productIndex = val.productIndex;\n      this.tillForm.productName = val.productName;\n    },\n    async loadProduct(params) {\n      let data = {\n        pageSize: params.pageSize || 10,\n        pageNo: params.pageNo || 1,\n        pageQuery: true,\n      };\n      if (params.searchKey) {\n        data.productName = params.searchKey.producrName;\n      }\n      let res = await getProduct(data);\n      return res;\n    },\n    addProduct() {\n      this.addProductVisible = true;\n    },\n    closeStatusDialog() {\n      this.getList();\n    },\n    getList() {\n      this.isSearch = true;\n    },\n    handleEditStatus(val) {\n      let params = val;\n      params.identityId = val.tillId;\n      this.$refs['editStatus'].showView(params);\n    },\n    showColose(scope) {\n      this.closeData = {\n        identityId: scope.tillId,\n        tillNumber: scope.tillNumber,\n      };\n      this.closeDialog = true;\n    },\n    ishow() {\n      this.closeDialog = false;\n    },\n    closeSubmit() {\n      this.isSearch = true;\n    },\n    showStatus(val) {\n      return STATUS_MAP[val] || '-';\n    },\n    reset() {\n      this.$refs['tillForm'].innerFormRef.resetFields();\n      this.isSearch = true;\n    },\n    searchTill() {\n      let { queryCondition, tillNumber, orgshortcode } = this.tillForm;\n      let checkObj = {\n        tillNumber,\n        orgshortcode,\n      };\n      if (queryCondition === '1' && !checkFuzzySearchInput(checkObj)) {\n        this.$message({ message: this.$t('IDC.till.listTips'), type: 'warning' });\n        return;\n      }\n      this.searchLoading = true;\n      this.$refs['tillForm'].innerFormRef.validate((valid) => {\n        if (valid) {\n          this.isSearch = true;\n        } else {\n          this.searchLoading = false;\n          return false;\n        }\n      });\n    },\n    handleDetail(row) {\n      let params = {\n        title: row.tillNumber,\n        tillId: row.tillId,\n      };\n      this.openNewWindow({\n        path: '../../organizationInfo/till/view',\n        query: { data: encodeURIComponent(JSON.stringify(params)) },\n      });\n    },\n    async createTill() {\n      this.openNewWindow({ path: '../../organizationInfo/till/create' });\n    },\n    getTableData() {\n      if (!this.hasPerm('IC_TILL_MANAGE_SEARCH_BTN')) {\n        return;\n      }\n      return new Promise((resolve) => {\n        let { queryCondition, status } = this.tillForm;\n        if (queryCondition !== '3' && !this.isOrganizationPage) {\n          status = '';\n        }\n        let params = {\n          pageIndex: this.paginationConfig.pageIndex,\n          pageSize: this.paginationConfig.pageSize,\n          msisdn: this.tillForm.msisdn === '%' ? '' : this.tillForm.msisdn,\n          tillNumber: this.tillForm.tillNumber === '%' ? '' : this.tillForm.tillNumber,\n          status: status,\n          productId: this.productIndex,\n          shortCode: this.tillForm.orgshortcode || '',\n        };\n        selectTillList(params)\n          .then((res) => {\n            if (res.header && res.header.success) {\n              if (res.list) {\n                res.totalRecords = res.totalRecord;\n              } else {\n                res.totalRecords = 0;\n                res.list = [];\n              }\n              resolve(res);\n            }\n          })\n          .catch(() => {})\n          .finally(() => {\n            this.searchLoading = false;\n            this.isSearch = false;\n          });\n      });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n/deep/ .org-short-code {\n  position: relative;\n  .el-input__inner {\n    border-radius: 4px;\n    padding-right: 76px;\n  }\n  .el-input__suffix {\n    transform: translateX(-20px) !important;\n  }\n}\n.table-search-container {\n  box-shadow: none;\n}\n/deep/.till-page-header {\n  min-height: 60px;\n  .page-title {\n    display: none;\n  }\n}\n/deep/ .page-header {\n  border-bottom: none;\n}\n/deep/.till-list-divider {\n  width: 90%;\n  margin: auto;\n}\n.till-table-list {\n  background-color: $--text_color--white;\n  padding: 0 20px 20px 20px;\n}\n/deep/.el-divider--horizontal {\n  margin: 0 0 20px 0;\n}\n/deep/ .header-divider {\n  margin-bottom: 0;\n}\n.till-portal-form {\n  padding-top: 0;\n}\n/deep/.el-dialog__footer {\n  margin-top: 20px;\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=f95268e0&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=f95268e0&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f95268e0\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./close-dialog.vue?vue&type=style&index=0&id=4ea12e7c&prod&scoped=true&lang=scss&\""],"sourceRoot":""}