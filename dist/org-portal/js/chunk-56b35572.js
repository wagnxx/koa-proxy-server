(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56b35572","chunk-43eec914"],{"0e19":function(e,t,i){},"2df2":function(e,t,i){},3001:function(e,t,i){"use strict";i("f01c")},"3bd5":function(e,t,i){},5826:function(e,t,i){"use strict";i.d(t,"f",(function(){return o})),i.d(t,"n",(function(){return r})),i.d(t,"m",(function(){return s})),i.d(t,"l",(function(){return n})),i.d(t,"p",(function(){return l})),i.d(t,"q",(function(){return c})),i.d(t,"o",(function(){return u})),i.d(t,"j",(function(){return d})),i.d(t,"h",(function(){return m})),i.d(t,"d",(function(){return f})),i.d(t,"a",(function(){return g})),i.d(t,"k",(function(){return p})),i.d(t,"e",(function(){return b})),i.d(t,"g",(function(){return h})),i.d(t,"b",(function(){return y})),i.d(t,"c",(function(){return I})),i.d(t,"i",(function(){return C})),i.d(t,"r",(function(){return v}));var a=i("0bbd");function o(e){return Object(a["a"])({url:"/fintech/v1/customer/queryAccountType",method:"post",data:e})}function r(e){return Object(a["a"])({url:"/fintech/v1/customer/product",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/fintech/v1/customer/loadRange",method:"get",data:e})}function n(e){return Object(a["a"])({url:"/fintech/v1/customer/languages",method:"get",data:e})}function l(e){return Object(a["a"])({url:"/fintech/v1/customer/checkRange",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/fintech/v1/customer/trustLevelAndSegment",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/fintech/v1/customer/addCustomer",method:"post",data:e})}function d(e){return Object(a["a"])({url:"/fintech/v1/queryCustomerIdentity/msisdn",method:"post",data:e})}function m(e){return Object(a["a"])({url:"/fintech/v1/queryBusinessCustomerList",method:"post",data:e})}function f(e){return Object(a["a"])({url:"/fintech/v1/customer/getStatusList",method:"post",data:e})}function g(e){return Object(a["a"])({url:"/fintech/v1/customer/changeStatus",method:"post",data:e})}function p(e){return Object(a["a"])({url:"/fintech/v1/queryCustomerInfo",method:"post",data:e})}function b(e){return Object(a["a"])({url:"/fintech/v1/beneficiaryMgt/lookUpBeneficiary/"+e,method:"get",data:e})}function h(e){return Object(a["a"])({url:"/fintech/v1/customer/assign/product",method:"post",data:e})}function y(e){return Object(a["a"])({url:"/fintech/v1/customer/checkInputKyc",method:"post",data:e})}function I(){return Object(a["a"])({url:"/fintech/v1/customer/getIdType",method:"get"})}function C(e){return Object(a["a"])({url:"/fintech/v1/groupMember/queryCustomerGroup",method:"post",data:e})}function v(e){return Object(a["a"])({url:"/fintech/v1/imtOrgTransaction/upgradeCustomer",method:"post",data:e})}},"67f4":function(e,t,i){"use strict";i("2df2")},"79de":function(e,t,i){},8899:function(e,t,i){},9395:function(e,t,i){"use strict";i("79de")},9488:function(e,t,i){"use strict";i("0e19")},b6b7:function(e,t,i){"use strict";i("8899")},c273:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"customer-detail-page"},[t("div",{staticClass:"header-content"},[t("svg-icon",{staticClass:"title-img",attrs:{"icon-class":"customer"}}),t("div",{staticClass:"titles"},[t("div",{staticClass:"title-main"},[e._v(e._s(e.basicInfoForm.publicName))]),t("div",{staticClass:"title-light"},[t("span",[e._v(e._s(e.$t("Identity Status"))+" : "),t("span",{staticStyle:{color:"#5c5c5c"}},[e._v(e._s(e.datilStatus))])]),t("span",{staticStyle:{"margin-left":"14px"}},[e._e()],1)])]),t("div",{staticClass:"right-operation operation-position"},[t("el-select",{staticClass:"operation-select",style:e.customerType&&"1002"!==e.customerType?"":"visibility: hidden",attrs:{id:"upgradeValue",value:"upgrade","popper-append-to-body":!1,size:"small","popper-class":"operation-select-option"},on:{change:e.upgradeSelectChange}},[t("template",{slot:"prefix"},[t("span",{staticClass:"select-prefix"},[t("i",{staticClass:"el-icon-upload2"})])]),e._l(e.upgradeOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],2)],1),e._e()],1),t("div",{staticClass:"panel"},[t("div",{staticClass:"content"},[t("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:e.$t("IDC.groupDetail.label.info"),name:"first"}},[t("info",{attrs:{basicInfoForm:e.basicInfoForm,identityID:e.identityID,isShowVerify:e.isShowVerify,languageName:e.languageName},on:{"update:basicInfoForm":function(t){e.basicInfoForm=t},"update:basic-info-form":function(t){e.basicInfoForm=t},"update:identityID":function(t){e.identityID=t},"update:identity-i-d":function(t){e.identityID=t},"update:isShowVerify":function(t){e.isShowVerify=t},"update:is-show-verify":function(t){e.isShowVerify=t},"update:languageName":function(t){e.languageName=t},"update:language-name":function(t){e.languageName=t}}})],1),t("el-tab-pane",{attrs:{label:e.$t("IDC.groupDetail.label.AuditLog"),name:"second"}},[t("audit-log",{attrs:{identityId:e.identityID,initiatorType:e.initiatorType}})],1),t("el-tab-pane",{attrs:{label:e.$t("IDC.orgCustomer.beneficiaryList"),name:"third"}},[t("beneficiary-list",{attrs:{basicInfoForm:e.basicInfoForm,identityID:e.identityID},on:{"update:basicInfoForm":function(t){e.basicInfoForm=t},"update:basic-info-form":function(t){e.basicInfoForm=t},"update:identityID":function(t){e.identityID=t},"update:identity-i-d":function(t){e.identityID=t}}})],1),t("el-tab-pane",{attrs:{label:e.$t("IDC.orgCustomer.groupList"),name:"fourth"}},[t("group-list",{attrs:{identityID:e.identityID},on:{"update:identityID":function(t){e.identityID=t},"update:identity-i-d":function(t){e.identityID=t}}})],1)],1)],1)]),t("edit-dialog",{attrs:{dialogType:e.dialogType,isVisible:e.editIdentityVisible},on:{closeIdentityStatusDialog:e.closeIdentityStatusDialog}})],1)},o=[],r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"customer-detail-info-page"},[t("el-form",{ref:"basicInfoForm",attrs:{model:e.basicInfoForm,"label-position":"top",size:"small"}},[t("div",{staticClass:"basic-info-container"},[t("p",{staticClass:"title"},[e._v(e._s(e.$t("IDC.groupDetail.label.basicInfo")))]),t("el-divider"),t("el-row",{attrs:{gutter:20}},[t("el-col",e._b({},"el-col",e.colOptions,!1),[t("el-form-item",{attrs:{label:e.$t("IDC.orgCustomer.customerType")}},[e._v(" "+e._s(e.showCustomerType(e.basicInfoForm.customerType)||"-")+" ")])],1),t("el-col",e._b({},"el-col",e.colOptions,!1),[t("el-form-item",{attrs:{label:e.$t("IDC.orgCustomer.registrationDate")}},[e._v(" "+e._s(e.basicInfoForm.registerTime||"-")+" ")])],1),t("el-col",e._b({},"el-col",e.colOptions,!1),[t("el-form-item",{attrs:{label:e.$t("IDC.orgCustomer.registeredby")}},[t("div",{staticClass:"edit-button-container"},[t("div",{staticClass:"content-item"},[e._v(e._s(e.basicInfoForm.registeredBy||"-"))]),t("div",{staticClass:"content-icon"},[e._e()],1)])])],1),t("el-col",e._b({},"el-col",e.colOptions,!1),[t("el-form-item",{attrs:{label:e.$t("IDC.orgCustomer.MSISDN")}},[e._v(" "+e._s(e.basicInfoForm.msisdn||"-")+" ")])],1),t("el-col",e._b({},"el-col",e.colOptions,!1),[t("el-form-item",{attrs:{label:e.$t("IDC.orgCustomer.language")}},[t("div",{staticClass:"edit-button-container"},[t("div",{staticClass:"content-item"},[e._v(" "+e._s(e.languageName||"-")+" ")]),t("div",{staticClass:"content-icon"},[e._e()],1)])])],1),t("el-col",e._b({},"el-col",e.colOptions,!1),[t("el-form-item",{attrs:{label:e.$t("IDC.orgCustomer.trustLevel")}},[e._v(" "+e._s(e.basicInfoForm.trustLevel||"-")+" ")])],1),t("el-col",e._b({},"el-col",e.colOptions,!1),[t("el-form-item",{attrs:{label:e.$t("IDC.orgCustomer.segment")}},[e._v(" "+e._s(e.basicInfoForm.segment||"-")+" ")])],1),t("el-col",e._b({},"el-col",e.colOptions,!1),[t("el-form-item",{attrs:{label:e.$t("IDC.orgCustomer.chargeProfile")}},[t("div",{staticClass:"edit-button-container"},[t("div",{staticClass:"content-item"},[e._v(e._s(e.basicInfoForm.chargeProfileName||"-"))]),t("div",{staticClass:"content-icon"},[e._e()],1)])])],1),t("el-col",e._b({},"el-col",e.colOptions,!1),[t("el-form-item",{attrs:{label:e.$t("IDC.orgCustomer.ruleProfile")}},[t("div",{staticClass:"edit-button-container"},[t("div",{staticClass:"content-item"},[e._v(e._s(e.basicInfoForm.ruleProfileName||"-"))]),t("div",{staticClass:"content-icon"},[e._e()],1)])])],1)],1),e.isShowVerify?t("div",[t("el-divider"),t("div",{staticClass:"section-title"},[e._v(e._s(e.$t("IDC.orgCustomer.verifyInfo")))]),t("el-row",{attrs:{gutter:40}},[t("el-col",e._b({},"el-col",e.colOptions,!1),[t("el-form-item",{attrs:{label:e.$t("IDC.orgCustomer.verifyStatus")}},[e._v(" "+e._s(e.basicInfoForm&&e.basicInfoForm.verifyInfoDTO&&e.basicInfoForm.verifyInfoDTO.verifyStatus||"-")+" ")])],1),t("el-col",e._b({},"el-col",e.colOptions,!1),[t("el-form-item",{attrs:{label:e.$t("IDC.orgCustomer.startTime")}},[e._v(" "+e._s(e.basicInfoForm&&e.basicInfoForm.verifyInfoDTO&&e.basicInfoForm.verifyInfoDTO.startTime||"-")+" ")])],1),t("el-col",e._b({},"el-col",e.colOptions,!1),[t("el-form-item",{attrs:{label:e.$t("IDC.orgCustomer.endTime")}},[e._v(" "+e._s(e.basicInfoForm&&e.basicInfoForm.verifyInfoDTO&&e.basicInfoForm.verifyInfoDTO.endTime||"-")+" ")])],1)],1)],1):e._e()],1),e._e(),t("div",{staticClass:"basic-info-container"},[t("p",{staticClass:"titleKyc"},[e._v(e._s(e.$t("KYC Info")))]),t("p",{staticClass:"titleDic"},[e._v("KYC information of an organization operator. The field marked with * is mandatory.")]),t("el-divider"),"1000"!==e.basicInfoForm.customerType?t("kyc-form",{ref:"kycForm",attrs:{mode:"06"==e.basicInfoForm.status?"detail":"edit",identityType:"",identityId:e.identityID,adaptiveLayout:!0,identityClassify:"customer"}}):e._e()],1)]),t("edit-dialog",{attrs:{dialogType:e.dialogType,basicInfoForm:e.basicInfoForm,isVisible:e.editEditRuleProfileVisible},on:{closeEditRuleProfileDialog:e.closeEditRuleProfileDialog}})],1)},s=[],n=i("0bbd");function l(e){return Object(n["a"])({url:"",method:"post",data:e})}var c=function(){var e=this,t=e._self._c;return t("div",{staticClass:"edit-dialog-page"},[t("portal-dialog",{attrs:{visible:e.editIdentityVisible,title:e.$t("IDC.organizationOperatorDetail.label.editIdentity"),width:"448px",confirmText:e.confirmText},on:{"update:visible":function(t){e.editIdentityVisible=t},closed:e.closeIdentityStatusDialog,"cancel-btn-click":e.closeIdentityStatusDialog,"confirm-btn-click":e.handleEditIdentity},scopedSlots:e._u([{key:"content",fn:function(){return[t("el-form",{ref:"editIdentity",attrs:{model:e.editIdentityForm,rules:e.editIdentityRules,size:"small","label-position":"top"}},[t("div",{staticClass:"light-title"},[e._v(" "+e._s(e.$t("IDC.organizationOperatorDetail.label.currentIdentityStatus"))+" ")]),t("div",{staticClass:"font-hei"},[e._v(" "+e._s(e.editIdentityForm.identityStatus||"Active")+" ")]),t("el-form-item",{attrs:{label:e.$t("IDC.organizationOperatorDetail.label.newIdentityStatus"),prop:"identityStatus"}},[t("el-select",{attrs:{placeholder:e.$t("common.placeholder.select")},model:{value:e.editIdentityForm.identityStatus,callback:function(t){e.$set(e.editIdentityForm,"identityStatus",t)},expression:"editIdentityForm.identityStatus"}},e._l(e.demoSelectData,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("div",{staticClass:"line"}),t("div",{staticClass:"dialog-in-title"},[e._v(e._s(e.$t("IDC.organizationOperatorDetail.label.RemarkReason")))]),t("el-form-item",{attrs:{label:e.$t("IDC.organizationOperatorDetail.label.Reason")}},[t("el-select",{attrs:{placeholder:e.$t("common.placeholder.select")},model:{value:e.editIdentityForm.Reason,callback:function(t){e.$set(e.editIdentityForm,"Reason",t)},expression:"editIdentityForm.Reason"}},e._l(e.demoSelectData,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{staticClass:"remark",attrs:{label:e.$t("IDC.organizationOperatorDetail.label.Remark"),prop:"remark"}},[t("el-input",{attrs:{type:"textarea",rows:5,resize:"none",placeholder:e.$t("common.placeholder.enter")},model:{value:e.editIdentityForm.remark,callback:function(t){e.$set(e.editIdentityForm,"remark",t)},expression:"editIdentityForm.remark"}})],1)],1)]},proxy:!0}])}),t("portal-dialog",{attrs:{visible:e.editLanguageVisible,title:e.$t("IDC.organizationOperatorDetail.label.editLaenguage"),width:"448px",confirmText:e.confirmText},on:{"update:visible":function(t){e.editLanguageVisible=t},closed:e.closeEditLanguageDialog,"cancel-btn-click":e.closeEditLanguageDialog,"confirm-btn-click":e.handleEditLanguage},scopedSlots:e._u([{key:"content",fn:function(){return[t("el-form",{ref:"editLanguageFormRef",attrs:{model:e.editLanguageForm,rules:e.editLanguageFormRules,"label-position":"top","label-width":"200px"}},[t("div",{staticClass:"light-title"},[e._v(" "+e._s(e.$t("IDC.organizationOperatorDetail.label.currentLanguage"))+" ")]),t("div",{staticClass:"font-hei"},[e._v(" "+e._s(e.editLanguageForm.oldLanguage||"Active")+" ")]),t("el-form-item",{attrs:{prop:"languageCode",label:e.$t("IDC.organizationOperatorDetail.label.language")}},[t("el-select",{attrs:{id:"languageCode",placeholder:e.$t("common.placeholder.select"),size:"small"},model:{value:e.editLanguageForm.languageCode,callback:function(t){e.$set(e.editLanguageForm,"languageCode",t)},expression:"editLanguageForm.languageCode"}},e._l(e.newLanguageOptions,(function(e){return t("el-option",{key:e.languageCode,attrs:{label:e.languageName,value:e.languageCode}})})),1)],1),t("el-divider",{attrs:{direction:"horizontal"}}),t("el-form-item",{attrs:{prop:"remark",label:e.$t("IDC.organizationOperatorDetail.label.Remark")}},[t("el-input",{attrs:{id:"remark",clearable:"",type:"textarea",rows:4,resize:"none"},model:{value:e.editLanguageForm.remark,callback:function(t){e.$set(e.editLanguageForm,"remark","string"===typeof t?t.trim():t)},expression:"editLanguageForm.remark"}})],1)],1)]},proxy:!0}])}),t("portal-dialog",{attrs:{visible:e.editRuleProfileVisible,title:e.$t("Edit Rule Profile"),width:"448px",confirmText:e.confirmText},on:{"update:visible":function(t){e.editRuleProfileVisible=t},closed:e.closeEditRuleProfileDialog,"cancel-btn-click":e.closeEditRuleProfileDialog,"confirm-btn-click":e.handleEditRuleProfile},scopedSlots:e._u([{key:"content",fn:function(){return[t("el-form",{ref:"editRuleProfileForm",attrs:{model:e.editRuleProfileForm,rules:e.editRuleProfileRules,"label-position":"top","label-width":"200px"}},[t("div",{staticClass:"light-title"},[e._v(" "+e._s(e.$t("IDC.organizationOperatorDetail.label.currentRuleProfile"))+" ")]),t("div",{staticClass:"font-hei"},[e._v(" "+e._s(e.basicInfoForm.ruleProfileName||"Active")+" ")]),t("el-form-item",{attrs:{prop:"languageCode",label:e.$t("IDC.organizationOperatorDetail.label.ruleProfile")}},[t("el-select",{attrs:{id:"languageCode",placeholder:e.$t("common.placeholder.select"),size:"small"},model:{value:e.editRuleProfileForm.ruleProfile,callback:function(t){e.$set(e.editRuleProfileForm,"ruleProfile",t)},expression:"editRuleProfileForm.ruleProfile"}},e._l(e.basicInfoForm.ruleProfileMap,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("el-divider",{attrs:{direction:"horizontal"}}),t("el-form-item",{attrs:{prop:"remark",label:e.$t("IDC.organizationOperatorDetail.label.Remark")}},[t("el-input",{attrs:{id:"remark",clearable:"",type:"textarea",rows:4,resize:"none"},model:{value:e.editRuleProfileForm.remark,callback:function(t){e.$set(e.editRuleProfileForm,"remark","string"===typeof t?t.trim():t)},expression:"editRuleProfileForm.remark"}})],1)],1)]},proxy:!0}])})],1)},u=[],d=i("8ac9"),m=i("02e3"),f={name:"EditDialog",components:{PortalDialog:d["a"]},props:{isVisible:{type:Boolean,default:!1},dialogType:{type:String,default:""},basicInfoForm:{type:Object,default(){return{}}}},data(){return{confirmText:this.$t("common.button.submit"),submitLoading:!1,currentPannel:this.$t("IDC.organizationOperatorDetail.label.KYCInfo"),demoSelectData:[{value:"10",label:"New CI"},{value:"30",label:"New Version"},{value:"60",label:"Deactive"}],editIdentityVisible:!1,editIdentityForm:{identityStatus:"",reason:"",remark:""},editIdentityRules:{identityStatus:[m["e"]],remark:[m["e"]]},editRegisteredbyVisible:!1,authenticationTypeForm:{currentAuthenticationType:"",authenticationType:[],userName:"",operatorID:"",remark:""},authenticationTypeFormRules:{authenticationType:[m["c"]],remark:[m["e"]]},editRuleProfileVisible:!1,ruleProfileOptions:[],editRuleProfileForm:{remark:"",ruleProfile:""},editRuleProfileRules:{remark:[m["e"]]},newLanguageOptions:[],editLanguageVisible:!1,editLanguageForm:{oldLanguage:"",languageCode:"",remark:""},editLanguageFormRules:{remark:[m["e"]]},editMSISDNVisible:!1,editMSISDNForm:{MSISDN:"",newMSISDN:"",remark:""},editMSISDNRules:{newMSISDN:[m["e"]],remark:[m["e"]]}}},created(){this.loadLanguages()},activated(){},deactivated(){this.basicInfoForm={}},computed:{basePath(){const e=this.getConfigRouteType();return`/config/${e}/commissionDistribution/`}},watch:{isVisible:{handler(e){switch(this.dialogType){case"identity":this.editIdentityVisible=e;break;case"language":this.editLanguageVisible=e;break;case"ruleProfile":this.editRuleProfileVisible=e;break}},immediate:!0}},methods:{async getDetail(){this.submitLoading=!0,this.submitLoading=!1},loadLanguages(){},closeIdentityStatusDialog(){this.editIdentityVisible=!1,this.$emit("closeIdentityStatusDialog",!1),this.$refs["editIdentity"].resetFields()},closeAuthenticationTypeDialog(){this.editRegisteredbyVisible=!1,this.$refs["authenticationFormRef"].resetFields()},closeEditLanguageDialog(){this.editLanguageVisible=!1,this.$emit("closeEditLanguageDialog",!1),this.$refs["editLanguageFormRef"].resetFields()},closeEditRuleProfileDialog(){this.editRuleProfileVisible=!1,this.$emit("closeEditRuleProfileDialog",!1),this.$refs["editRuleProfileForm"].resetFields()},closeMSISDNDialog(){this.editMSISDNVisible=!1,this.$refs["editMSISDNForm"].resetFields()},handleEditIdentity(){},handleEditAccessChannel(){},handleEditRuleProfile(){},handleEditLanguage(){},handleEditMSISDN(){},toReturn(){this.$tagTab.closeCurrentPage()}}},g=f,p=(i("3001"),i("2877")),b=Object(p["a"])(g,c,u,!1,null,"82289644",null),h=b.exports,y=i("4c09"),I=i("5b4e"),C={name:"groupDetail",props:{basicInfoForm:{type:Object,default(){return{}}},isShowVerify:{type:Boolean,default:!1},languageName:{type:String,default:""},identityID:{type:String,default:""}},components:{TablePage:y["a"],EditDialog:h,KycForm:I["a"]},data(){return{titleConfig:{title:"",desc:this.$t("IDC.groupDetail.pageDesc")},dialogType:"",submitLoading:!1,currentPannel:this.$t("IDC.groupDetail.label.AccountInfo"),stateTagPage:[{label:"Tag Name",prop:"tagName",align:"left",__slotName:"tagName"},{label:"Added Time",prop:"addedTime",align:"left",__slotName:"addedTime"},{label:"Auto Remove",prop:"autoRemove",align:"left",__slotName:"autoRemove"},{label:"Keep Duration",prop:"keepDuration",align:"left",__slotName:"keepDuration"},{label:"Keep Duration Unit",prop:"keepDurationUnit",align:"left",__slotName:"keepDurationUnit"},{label:"Auto Remove Time",prop:"autoRemoveTime",align:"left",__slotName:"autoRemoveTime"},{label:"Keep Duration",prop:"keepDuration",align:"left",__slotName:"keepDuration"},{label:"Reason",prop:"reason",align:"left",__slotName:"reason"},{label:this.$t("common.label.operation"),prop:"operation",align:"left",__slotName:"operation"}],editRegisteredbyVisible:!1,editLanguageVisible:!1,editEditRuleProfileVisible:!1,ruleProfile:[]}},created(){},activated(){},deactivated(){this.basicInfoForm={}},computed:{basePath(){const e=this.getConfigRouteType();return`/config/${e}/commissionDistribution/`}},methods:{showCustomerType(e){switch(e){case"1002":return this.$t("IDC.orgCustomer.registeredCustomer");case"1001":return this.$t("IDC.orgCustomer.liteCustomer");case"1000":return this.$t("IDC.orgCustomer.unregisteredCustomer");default:return}},async getDetail(){this.submitLoading=!0;let e=await l({ciId:this.basicInfoForm.id});e.header&&e.header.success,this.submitLoading=!1},editRegisteredbyVisibleFn(){this.editRegisteredbyVisible=!0},editLanguageVisibleFn(){this.dialogType="language",this.editLanguageVisible=!0},closeEditLanguageDialog(e){this.editLanguageVisible=e},editRuleProfileVisibleFn(){this.dialogType="ruleProfile",this.ruleProfile=this.basicInfoForm.ruleProfileMap,this.editEditRuleProfileVisible=!0},closeEditRuleProfileDialog(e){this.editEditRuleProfileVisible=e},handleDelete(){},toReturn(){this.$tagTab.closeCurrentPage()},getTableData(){return new Promise(e=>{e({header:{success:"success"},list:[{},{}]})},()=>{})}}},v=C,D=(i("9395"),Object(p["a"])(v,r,s,!1,null,"01cde350",null)),_=D.exports,S=i("516e"),F=function(){var e=this,t=e._self._c;return t("div",{staticClass:"audit-log-page"},[t("div",{staticClass:"basicDec"},[e._v(" "+e._s(e.$t("IDC.orgCustomer.basicDec"))+" ")]),t("div",{staticClass:"table-list-container"},[t("div",{staticClass:"section-title"},[e._v(e._s(e.$t("IDC.orgCustomer.customerBeneficiary")))]),t("table-page",{staticClass:"margin-top-16",attrs:{size:"small","has-pagination":!0,isSearch:e.isSearch,columns:e.customerColumns,pagination:e.paginationConfig,getTableData:e.getCustomerTableData,sortArr:["status","beneficiaryIdentifier","beneficiaryName","beneficiaryReference"]}})],1),t("div",{staticClass:"table-list-container"},[t("div",{staticClass:"section-title"},[e._v(e._s(e.$t("IDC.orgCustomer.organizationBeneficiary")))]),t("table-page",{staticClass:"margin-top-16",attrs:{size:"small","has-pagination":!0,isSearch:e.isSearch,columns:e.organizationColumns,pagination:e.paginationConfig,getTableData:e.getOrganizationTableData,sortArr:["status","beneficiaryIdentifier","beneficiaryName","billReference","beneficiaryReference"]}})],1),e._e()])},k=[],R=i("5826"),O={name:"beneficiaryList",props:{basicInfoForm:{type:Object,default(){return{}}},identityID:{type:String,default:""}},components:{TablePage:y["a"]},data(){return{closeData:{identityId:"",tillNumber:""},closeDialog:!1,identityStatus:"",total:0,pageNo:1,pageSize:10,customerForm:{msisdn:"",tillNumber:"",status:""},searchLoading:!1,paginationConfig:{total:0,pageIndex:1,pageSize:10},customerColumns:[{label:this.$t("MSISDN"),prop:"beneficiaryIdentifier","sort-method":(e,t)=>e.beneficiaryIdentifier>t.beneficiaryIdentifier?1:-1,align:"left"},{label:this.$t("Customer Name"),prop:"beneficiaryName","sort-method":(e,t)=>e.beneficiaryName>t.beneficiaryName?1:-1,align:"left"},{label:this.$t("Beneficiary Reference"),prop:"beneficiaryReference","sort-method":(e,t)=>e.beneficiaryReference>t.beneficiaryReference?1:-1,align:"left"}],organizationColumns:[{label:this.$t("Organization Short Code"),prop:"beneficiaryIdentifier","sort-method":(e,t)=>e.beneficiaryIdentifier>t.beneficiaryIdentifier?1:-1,align:"left"},{label:this.$t("Organization Name"),prop:"beneficiaryName","sort-method":(e,t)=>e.beneficiaryName>t.beneficiaryName?1:-1,align:"left"},{label:this.$t("Bill Reference"),prop:"billReference","sort-method":(e,t)=>e.billReference>t.billReference?1:-1,align:"left"},{label:this.$t("Beneficiary Reference"),prop:"beneficiaryReference","sort-method":(e,t)=>e.beneficiaryReference>t.beneficiaryReference?1:-1,align:"left"}],groupColumns:[{label:"Group Code",prop:"kycName",align:"left"},{label:"Group Name",prop:"kycName",align:"left"},{label:"Beneficiary Reference",prop:"kycName",align:"left"}],isSearch:!1,collapseValue:!0,statusOptions:[{label:"All",value:"01"},{label:"Active",value:"03"},{label:"Closed",value:"06"},{label:"Frozen",value:"05"},{label:"Suspended",value:"00"}]}},computed:{statusStyle(){return e=>{switch(e){case"03":return{"background-color":"#658DF9"};case"06":return{"background-color":""+this.GlobalStyleVariables.fillStrongColor};case"07":return{"background-color":""+this.GlobalStyleVariables.statusSuccessColor};case"00":return{"background-color":"#658DF9"};case"02":return{"background-color":""+this.GlobalStyleVariables.statusSuccessColor};default:return}}},formConfigArray(){return[{label:this.$t("Category"),key:"status",comp:"el-select",options:this.statusOptions,bind:{clearable:!0}},{label:this.$t("Group Event"),key:"status",comp:"el-select",options:this.statusOptions,bind:{clearable:!0}},{label:this.$t("Event"),key:"status",comp:"el-select",options:this.statusOptions,bind:{clearable:!0}},{formItemClass:"form-special-date-box",sameGroup:!0,label:this.$t("Time (Data within 31 days)"),prop:"processTime",comp:[{key:"processTime",comp:"el-date-picker",bind:{align:"right",type:"datetimerange",format:"dd/MM/yyyy HH:mm:ss","range-separator":"~","value-format":"yyyy-MM-dd HH:mm:ss","default-time":["00:00:00","23:59:59"],"start-placeholder":"Please select","end-placeholder":"Please select"}},{comp:"i",class:"el-icon-date data_icon"}]}]}},created(){this.customerForm.status=this.statusOptions[0].value},methods:{getCustomerTableData(){return new Promise(e=>{Object(R["e"])(this.identityID).then(t=>{t.header&&t.header.success&&(t.totalRecords=t.total);let i=t.customerBeneficiaryList,a={header:{success:!0},list:i||[]};e(a)}).catch(()=>{e()}).finally(()=>{this.refreshTableFlag=!1,this.searchLoading=!1})})},getOrganizationTableData(){return new Promise(e=>{Object(R["e"])(this.identityID).then(t=>{t.header&&t.header.success&&(t.totalRecords=t.total);let i=t.organizationBeneficiaryList,a={header:{success:!0},list:i||[]};e(a)}).catch(()=>{e()}).finally(()=>{this.refreshTableFlag=!1,this.searchLoading=!1})})}}},$=O,T=(i("b6b7"),Object(p["a"])($,F,k,!1,null,"052bf495",null)),N=T.exports,P=function(){var e=this,t=e._self._c;return t("div",{staticClass:"audit-log-page"},[t("div",{staticClass:"basicDec"},[e._v(" You can query customers based on customer information and select a record in the query result to access the customer management page. ")]),t("div",{staticClass:"table-list-container"},[t("div",{staticClass:"section-title"},[e._v("Group List")]),t("table-page",{staticClass:"margin-top-16",attrs:{size:"small","has-pagination":!0,isSearch:e.isSearch,columns:e.customerColumns,pagination:e.paginationConfig,getTableData:e.getTableData,sortArr:["groupCode","groupName","status","role"]},scopedSlots:e._u([{key:"status",fn:function(i){return[t("div",{staticClass:"flex flex-align"},[""!==i.data.row.status?t("span",{staticClass:"status-circle",style:e.statusStyle(i.data.row.status)}):e._e(),t("span",[e._v(e._s(e.showStatus(i.data.row.status)))])])]}},{key:"operation",fn:function(i){return[t("el-button",{staticClass:"table-operation-btn icon-cursor",attrs:{size:"mini",type:"text"},on:{click:function(t){return e.handleDetail(i.data.row)}}},[e._v(" "+e._s(e.$t("common.button.detail"))+" ")])]}}])})],1)])},w=[],L={name:"GroupList",components:{TablePage:y["a"]},props:{identityID:{type:String,default:""}},data(){return{paginationConfig:{total:0,pageIndex:1,pageSize:10},customerColumns:[{label:this.$t("Group Code"),prop:"groupCode",align:"left","sort-method":(e,t)=>e.groupCode>t.groupCode?1:-1},{label:this.$t("Group Name"),prop:"groupName",align:"left","sort-method":(e,t)=>e.groupName>t.groupName?1:-1},{label:this.$t("Status"),prop:"status",__slotName:"status","sort-method":(e,t)=>e.status>t.status?1:-1,align:"left"},{label:this.$t("Role"),prop:"role",align:"left","sort-method":(e,t)=>e.role>t.role?1:-1},{label:this.$t("common.label.operation"),prop:"operation",align:"left",__slotName:"operation",width:200}],isSearch:!1}},computed:{statusStyle(){return e=>{switch(e){case"00":return{"background-color":""+this.GlobalStyleVariables.backgroundColor};case"02":return{"background-color":""+this.GlobalStyleVariables.backgroundColor};case"03":return{"background-color":""+this.GlobalStyleVariables.statusNoticeColor};case"04":return{"background-color":""+this.GlobalStyleVariables.statusColorwarning};case"05":return{"background-color":""+this.GlobalStyleVariables.statusColorwarning};case"06":return{"background-color":""+this.GlobalStyleVariables.statusDarkBackgroundColor};case"07":return{"background-color":""+this.GlobalStyleVariables.statusColorwarning};case"08":return{"background-color":""+this.GlobalStyleVariables.statusColorwarning};default:return}}}},created(){},methods:{showStatus(e){switch(e){case"00":return"New";case"02":return"Pending Active";case"03":return"Active";case"04":return"Suspended";case"05":return"Frozen";case"06":return"Closed";case"07":return"Capped";case"08":return"Dormant";default:return}},handleDetail(e){let t={groupCode:e.groupCode,identityId:e.identityId};this.openNewWindow({path:"/mainPage/identifierCenter/organizationInfo/group/detail",query:{params:encodeURIComponent(JSON.stringify(t))}})},async getTableData(){let e={receiverIdentityId:this.identityID,pageNo:this.paginationConfig.pageIndex,pageSize:this.paginationConfig.pageSize},t=await Object(R["i"])(e);if(t.header&&t.header.success){var i=t.custGroupList;i.map((e,i)=>{e.role=e.roleNameList.join(", "),e.status=e.groupStatus,e.identityId=t.groupList[i].identityId})}return this.isSearch=!1,{header:{success:"success"},list:i,totalRecords:Number(t.total)||0}}}},V=L,j=(i("67f4"),Object(p["a"])(V,P,w,!1,null,"1ef7082e",null)),z=j.exports,x=i("5a0c"),E=i.n(x),A=i("d8d3"),M={name:"groupDetail",components:{info:_,AuditLog:S["default"],beneficiaryList:N,groupList:z,EditDialog:h},data(){return{titleConfig:{title:"",desc:this.$t("IDC.groupDetail.pageDesc")},submitLoading:!1,basicInfoForm:{},isShowVerify:!1,activeName:"first",editIdentityForm:{identityStatus:"",reason:"",remark:""},upgradeOptions:[{label:this.$t("IDC.orgCustomer.upgradeRegistered"),value:"registered"}],demoSelectData:[{value:"10",label:"New CI"},{value:"30",label:"New Version"},{value:"60",label:"Deactive"}],editIdentityVisible:!1,editIdentityRules:{identityStatus:[m["e"]],remark:[m["e"]]},dialogType:"",listData:"",datilStatus:"",identityID:"",languageName:"",initiatorType:"Customer"}},created(){let e=this.$route.query.params;this.listData=e&&JSON.parse(decodeURIComponent(e))||"",this.identityID=this.listData.identityID,this.getCustomerInfoFn()},deactivated(){this.basicInfoForm={}},computed:{customerType(){return this.basicInfoForm&&this.basicInfoForm.customerType||""},basePath(){const e=this.getConfigRouteType();return`/config/${e}/commissionDistribution/`}},methods:{upgradeSelectChange(e){if("registered"===e){let e={identityId:this.identityID||"",upgradeMsisdn:this.basicInfoForm.msisdn||""};this.openNewWindow({path:"create",query:{params:encodeURIComponent(JSON.stringify(e))}})}},getCustomerInfoFn(){return new Promise(e=>{let t={};t.cpId=this.listData.cpId,t.customerId=this.listData.identityID,Object(R["k"])(t).then(i=>{i.header&&i.header.success&&(i.totalRecords=i.total),this.basicInfoForm={...i},this.basicInfoForm.registerTime=E()(this.basicInfoForm.registerTime,"DD-MM-YYYY hh:mm:ss").format("DD/MM/YYYY"),this.datilStatus=this.showStatus(this.basicInfoForm.status),"05"===this.basicInfoForm.status&&(this.isShowVerify=!0),Object(R["l"])(t).then(t=>{if(t.header&&t.header.success){let e;e=t.locales;for(let t in e)e[t].id===this.basicInfoForm.customerBasicKyc.languageCode&&(this.languageName=e[t].name)}e(t)}).catch(()=>{}).finally(()=>{}),e(i)}).catch(()=>{}).finally(()=>{this.refreshTableFlag=!1,this.searchLoading=!1})})},showStatus(e){return A["c"][e]||"-"},handleEditIdentity(){},editIdentityVisibleFn(){this.dialogType="identity",this.editIdentityVisible=!0},closeIdentityStatusDialog(e){this.editIdentityVisible=e}}},G=M,B=(i("d022"),Object(p["a"])(G,a,o,!1,null,"6b5963d4",null));t["default"]=B.exports},c811:function(e,t,i){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"page-header",class:{"no-bottom-border":!e.showBottomLine,"no-desc-height":!e.projectObj.desc}},[t("div",{staticClass:"header-left"},[e.projectObj.title?t("div",{staticClass:"page-title"},[e._v(" "+e._s(e.projectObj.title)+" "),e._t("title-suffix")],2):e._e(),e.projectObj.desc?t("div",{staticClass:"page-desc"},[e._v(" "+e._s(e.projectObj.desc)+" ")]):e._e()]),t("div",{staticClass:"header-right"},[e._t("header-right")],2)])},o=[],r={name:"PortalHeader",components:{},props:{projectObj:{type:Object,default(){return{}}},showBottomLine:{type:Boolean,default:!0}}},s=r,n=(i("9488"),i("2877")),l=Object(n["a"])(s,a,o,!1,null,"73566ca8",null);t["a"]=l.exports},d022:function(e,t,i){"use strict";i("3bd5")},d8d3:function(e,t,i){"use strict";i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return r}));const a={"00":"New","02":"Pending Active","03":"Active","04":"Suspended","05":"Frozen","06":"Closed","07":"Capped","08":"Dormant"},o={1005:"Web",1007:"Handset",1010:"API"},r={1:"Porta",2:"AG",3:"ThirdParty",4:"System",5:"NC",6:"TransactionCenter",7:"IdentityBusiness",8:"BulkCenter"}},f01c:function(e,t,i){}}]);
//# sourceMappingURL=chunk-56b35572.js.map