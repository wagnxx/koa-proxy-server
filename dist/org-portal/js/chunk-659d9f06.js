(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-659d9f06"],{"0934":function(e,t,a){},3186:function(e,t,a){"use strict";var l=function(){var e=this,t=e._self._c;return t("el-form",e._g(e._b({ref:"portalForm",class:["form-flex-container",e.cunstomFormClass],style:e.formLineStyle,attrs:{model:e.formData,rules:e.formRules,"label-position":e.labelPosition,size:e.size}},"el-form",e.$attrs,!1),e.$listeners),[t("el-row",{staticClass:"row-flex-wrap",attrs:{gutter:e.rowGutter,type:"flex"}},[e._l(e.formConfigList,(function(a,l){return[a.hidden?e._e():t("el-col",{key:l,attrs:{xs:e.colSmall*(a.smallSpan||1),sm:e.colSmall*(a.smallSpan||1),md:e.colSmall*(a.smallSpan||1),lg:e.colSmall*(a.smallSpan||1),xl:e.colXL*(a.bigSpan||1)}},[a.slotName?e._t(a.slotName):"string"===typeof a.comp?[t("el-form-item",{class:a.formItemClass||"",attrs:{label:a.label||"",prop:a.prop||a.key||""},scopedSlots:e._u([{key:"label",fn:function(){return[a.labelClear?t("div",{staticClass:"custom-label"},[t("span",{staticClass:"label-text"},[e._v(e._s(a.label||""))]),t("el-button",e._g(e._b({staticClass:"label-clear",class:a.labelClear.class,style:a.labelClear.style,attrs:{type:"text",size:"small"}},"el-button",a.labelClear.bind||{},!1),a.labelClear.event||{}),[e._v(" Clear ")])],1):e._e()]},proxy:!0}],null,!0)},[t(a.comp,e._g(e._b({key:a.comp+a.key,ref:a.ref||"",refInFor:!0,tag:"component",class:a.class,style:a.style,attrs:{size:a.size||e.size},on:{blur:function(t){return e.handleCommonBlurEvent(a.comp,a.key,e.formData[a.key])}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleCommonEnterEvent(a.comp,a.key,e.formData[a.key])}},model:{value:e.formData[a.key],callback:function(t){e.$set(e.formData,a.key,t)},expression:"formData[item.key]"}},"component",a.bind,!1),a.event),["el-select"===a.comp?e._l(a.options,(function(e,a){return t("el-option",{key:a+""+e.value,attrs:{label:e.label,value:e.value}})})):e._e(),a.slots&&a.slots.length?e._l(a.slots,(function(a,l){return t(a.comp,e._g(e._b({key:a.name+a.comp+l,tag:"component",class:a.class,style:a.style,attrs:{slot:a.name},slot:a.name},"component",a.bind,!1),a.event))})):e._e()],2)],1)]:"Array"===Object.prototype.toString.call(a.comp).slice(8,-1)?[a.sameGroup?t("el-form-item",{class:a.formItemClass||"",attrs:{label:a.label||"",prop:a.prop||""},scopedSlots:e._u([{key:"label",fn:function(){return[a.labelClear?t("div",{staticClass:"custom-label"},[t("span",{staticClass:"label-text"},[e._v(e._s(a.label||""))]),t("el-button",e._g(e._b({staticClass:"label-clear",class:a.labelClear.class,style:a.labelClear.style,attrs:{type:"text",size:"small"}},"el-button",a.labelClear.bind||{},!1),a.labelClear.event||{}),[e._v(" Clear ")])],1):e._e(),t("div",{staticClass:"custom-description"},[t("span",{staticClass:"label-text"},[e._v(e._s(a.label||""))]),a.description?t("span",{staticClass:"description"},[e._v(" "+e._s(a.description)+" ")]):e._e()])]},proxy:!0}],null,!0)},e._l(a.comp,(function(a,l){return t(a.comp,e._g(e._b({key:l+a.comp+a.key,ref:a.ref||"",refInFor:!0,tag:"component",class:a.class,style:a.style,attrs:{size:a.size||e.size},on:{blur:function(t){return e.handleCommonBlurEvent(a.comp,a.key,e.formData[a.key])}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleCommonEnterEvent(a.comp,a.key,e.formData[a.key])}},model:{value:e.formData[a.key],callback:function(t){e.$set(e.formData,a.key,t)},expression:"formData[com.key]"}},"component",a.bind,!1),a.event),["el-select"===a.comp?e._l(a.options,(function(e,a){return t("el-option",{key:a+""+e.value,attrs:{label:e.label,value:e.value}})})):e._e(),a.slots&&a.slots.length?e._l(a.slots,(function(a,l){return t(a.comp,e._g(e._b({key:a.name+a.comp+l,tag:"component",class:a.class,style:a.style,attrs:{slot:a.name},slot:a.name},"component",a.bind,!1),a.event))})):e._e()],2)})),1):t("el-row",{staticStyle:{"align-items":"flex-end"},attrs:{gutter:a.gutter||20,type:"flex"}},e._l(a.comp,(function(l,n){return t("el-col",{key:n+l.comp,attrs:{span:24/(a.comp.length||1)}},[t("el-form-item",{class:l.formItemClass||"",attrs:{label:l.label||"",prop:l.prop||l.key},scopedSlots:e._u([{key:"label",fn:function(){return[l.labelClear?t("div",{staticClass:"custom-label"},[t("span",{staticClass:"label-text"},[e._v(e._s(l.label||""))]),t("el-button",e._g(e._b({staticClass:"label-clear",class:l.labelClear.class,style:l.labelClear.style,attrs:{type:"text",size:"small"}},"el-button",l.labelClear.bind||{},!1),l.labelClear.event||{}),[e._v(" Clear ")])],1):e._e()]},proxy:!0}],null,!0)},[t(l.comp,e._g(e._b({key:l.comp+l.key,ref:l.ref||"",refInFor:!0,tag:"component",class:l.class,style:l.style,attrs:{size:l.size||e.size},on:{blur:function(t){return e.handleCommonBlurEvent(l.comp,l.key,e.formData[l.key])}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleCommonEnterEvent(l.comp,l.key,e.formData[l.key])}},model:{value:e.formData[l.key],callback:function(t){e.$set(e.formData,l.key,t)},expression:"formData[col.key]"}},"component",l.bind,!1),l.event),["el-select"===l.comp?e._l(l.options,(function(e,a){return t("el-option",{key:a+""+e.value,attrs:{label:e.label,value:e.value}})})):e._e(),l.slots&&l.slots.length?e._l(l.slots,(function(a,l){return t(a.comp,e._g(e._b({key:a.name+a.comp+l,tag:"component",class:a.class,style:a.style,attrs:{slot:a.name},slot:a.name},"component",a.bind,!1),a.event))})):e._e()],2)],1)],1)})),1)]:e._e()],2)]})),e.needOperateBtn?t("el-col",{staticClass:"col-flex-button-list",attrs:{xs:e.colSmall,sm:e.colSmall,md:e.colSmall,lg:e.colSmall,xl:e.colXL}},[t("div",{staticClass:"form-btns"},[e.customOperateBtn?e._e():[t("el-button",{attrs:{size:"small",plain:""},on:{click:e.handleResetClick}},[e._v(" Reset ")]),t("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{plain:"",size:"small",type:"primary",disabled:e.searchBtnDisabled,loading:e.searchBtnLoading},on:{click:e.handleSearchClick}},[e._v(" Search ")])],e._t("btn-list")],2)]):e._e()],2),e.needBottomLine?t("div",{staticClass:"form-flex-bottom-line"}):e._e()],1)},n=[],i={name:"PortalForm",props:{formData:{required:!0,type:Object,default:()=>({})},formRules:{type:Object,default:()=>({})},formConfigList:{required:!0,type:Array,default:()=>[]},labelPosition:{type:String,default:"top"},size:{type:String,default:"small"},rowGutter:{type:Number,default:20},smallAutoColumn:{type:Number,default:3,validate:e=>!(24%e)},bigAutoColumn:{type:Number,default:4,validate:e=>!(24%e)},selectTriggerEnter:{type:Boolean,default:!1},customOperateBtn:{type:Boolean,default:!1},needOperateBtn:{type:Boolean,default:!0},searchBtnDisabled:{type:Boolean,default:!1},searchBtnLoading:{type:Boolean,default:!1},needBottomLine:{type:Boolean,default:!0},cunstomFormClass:{type:String,default:""},formLineStyle:{type:String,default:""}},data(){return{}},computed:{colXL(){return 24/this.bigAutoColumn},colSmall(){return 24/this.smallAutoColumn},innerFormRef(){return this.$refs.portalForm||null}},methods:{handleCommonEnterEvent(e,t,a){("el-select"!==e||this.selectTriggerEnter)&&this.$emit("common-enter-event",t,a)},handleCommonBlurEvent(e,t,a){"el-input"===e&&(this.formData[t]=a.replace(/^\s+|\s+$/g,""))},handleResetClick(){this.$emit("reset-btn-click"),this.resetFields()},handleSearchClick(){this.innerFormRef&&this.innerFormRef.validate(e=>{e&&this.$emit("search-btn-click",this.formData)})},resetFields(){this.innerFormRef&&this.innerFormRef.resetFields()},clearValidate(e){this.innerFormRef&&this.innerFormRef.clearValidate(e||void 0)},validate(e){return this.innerFormRef&&this.innerFormRef.validate(e)},validateField(e,t){return this.innerFormRef&&this.innerFormRef.validateField(e,t)}}},o=i,s=(a("861d"),a("2877")),r=Object(s["a"])(o,l,n,!1,null,"50226d08",null);t["a"]=r.exports},"3b8a":function(e,t,a){},"4c09":function(e,t,a){"use strict";var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"table-page-container"},[e.showAddButton?t("div",{staticClass:"add-button"},[t("el-button",{staticClass:"template-add",attrs:{icon:"el-icon-plus",type:"primary",size:"small"},on:{click:function(t){return e.showAddDialog()}}},[e._v(" Add ")]),t("el-dialog",{attrs:{title:e.createTitle,visible:e.isShowAddDialog,width:"448px","before-close":e.closeAddDialog},on:{"update:visible":function(t){e.isShowAddDialog=t}}},[e._t("addDialogContext"),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.closeAddDialog}},[e._v("cancel")]),t("el-button",{attrs:{type:"primary"},on:{click:e.addSubmit}},[e._v("submit")])],1)],2)],1):e._e(),t("div",{class:{"table-region":!0,"no-data-fixed":!e.tableData.length},staticStyle:{height:"100%"}},[t("el-table",e._g(e._b({directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],key:e.tableKey,ref:"tableRef",class:{"mini-table":e.isSingleCheck},attrs:{"empty-text":"No records found.","header-cell-style":e.headerStyle,data:e.tableData,size:e.size,border:e.border,"row-key":e.idKey,"max-height":e.maxHeight}},"el-table",e.$attrs,!1),e.listeners),[e.isCheck?t("el-table-column",{attrs:{align:"center",width:"30",type:"selection","reserve-selection":e.isCheckMemory,selectable:e.checkSelectable}}):e._e(),e._l(e.columns,(function(a,l){return[t("el-table-column",e._b({key:l,attrs:{sortable:e.sortFun(a),width:a.width||"","show-overflow-tooltip":[!0,!1].includes(a.showOverflowTooltip)?a.showOverflowTooltip:e.showOverflowTooltip,formatter:a.formatter||e.formatterHandle},scopedSlots:e._u([a.__slotName?{key:"default",fn:function(t){return[e._t(a.__slotName,null,{data:t})]}}:null],null,!0)},"el-table-column",a,!1))]})),t("template",{slot:"empty"},[e._t("emptya")],2)],2)],1),e.hasPagination&&e.pagination.total>0?t("div",{staticClass:"pagination-region"},[t("portal-pagination",{attrs:{id:"tablePagination",total:e.pagination.total,currentPage:e.pagination.pageIndex,pageSize:e.pagination.pageSize,pageSizes:e.pageSizes,layout:e.pagination.layout},on:{"update:currentPage":function(t){return e.$set(e.pagination,"pageIndex",t)},"update:current-page":function(t){return e.$set(e.pagination,"pageIndex",t)},"update:pageSize":function(t){return e.$set(e.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.pagination,"pageSize",t)},pagination:e.handleSizeChange}})],1):e._e()])},n=[],i=a("4d26"),o={name:"TablePage",components:{PortalPagination:i["a"]},props:{showOverflowTooltip:{type:Boolean,default:!0},createTitle:{type:String},showAddButton:{type:Boolean,default:!1},submitNewDataFun:{type:Function,default:()=>{}},checkSelectable:{type:Function,default:()=>!0},columns:{type:Array,default:()=>[]},size:{type:String,default:"medium"},isCheck:{type:Boolean,default:!1},isCheckMemory:{type:Boolean,default:!1},isSingleCheck:{type:Boolean,default:!1},idKey:{type:String,default:"id"},sortArr:{type:Array,default:()=>[]},pageParam:{type:Object,default:()=>({pageOffset:"pageNo",pageSize:"pageSize"})},hasPagination:{type:Boolean,default:!0},pagination:{type:Object,default:()=>({total:0,pageIndex:1})},pageSizes:{type:Array,default(){return[10,20,50,100]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},getTableData:{type:Function,default:null},outSideTableData:{type:Array,default:()=>[]},isSearch:{type:Boolean,default:!1},initializingLoading:{type:Boolean,default:!0},border:{type:Boolean,default:!0},initChecks:{type:Array,default:()=>[]},maxHeight:{type:[Number,String]}},data(){return{isShowAddDialog:!1,order:{sortName:"",sortOrder:""},tableData:[],tableKey:(new Date).getTime(),loading:!1,headerStyle:{"background-color":""+this.GlobalStyleVariables.fillLightColor,"font-size":"14px","font-family":"HuaweiSans-Medium","font-weight":500,color:""+this.GlobalStyleVariables.textEmphasisColor},singleSelectData:[]}},computed:{listeners:function(){let e=this;return Object.assign({},this.$listeners,{"selection-change":function(t){e.isSingleCheck||e.$emit("selection-change",t)},select:function(t,a){const l=e.$refs.tableRef;e.isSingleCheck&&t.includes(a)?(l.clearSelection(),l.toggleRowSelection(a,!0),e.singleSelectData=a):e.singleSelectData=[],e.$emit("single-selection-change",e.singleSelectData)},"sort-change":function(t){switch(e.order.sortName=t.prop,t.order){case"ascending":e.order.sortOrder="asc";break;case"descending":e.order.sortOrder="desc";break;default:e.order.sortOrder=""}e.$emit("sortChange",e.order)}})}},watch:{isSearch(){this.isSearch&&(this.$refs.tableRef.clearSelection(),this.queryData())},outSideTableData:{handler(e){e&&(this.tableData=e,this.tableKey=(new Date).getTime(),this.pagination.pageIndex=1,this.pagination.total=0)},immediate:!0,deep:!0},initChecks:{handler(e){if(this.$refs.tableRef&&this.$refs.tableRef.clearSelection(),e&&e.length)for(const t in this.tableData)e&&e.forEach(e=>{e[this.idKey]===this.tableData[t][this.idKey]&&this.$refs.tableRef.toggleRowSelection(this.tableData[t],!0)})},immediate:!0,deep:!0}},created(){this.initializingLoading?this.queryData().then(()=>{this.$refs.tableRef.clearSelection(),this.initChecks&&this.initChecks.length&&this.$nextTick(()=>{this.initChecks.forEach(e=>{for(const t in this.tableData)e[this.idKey]===this.tableData[t][this.idKey]&&this.$refs.tableRef.toggleRowSelection(this.tableData[t],!0)})})}):(this.pagination.pageIndex=1,this.pagination.total=0)},mounted(){},methods:{addSubmit(){const e=this,t=function(){e.closeAddDialog()};this.submitNewDataFun(t)},closeAddDialog(){this.isShowAddDialog=!1},showAddDialog(){this.isShowAddDialog=!0},handleSizeChange(e){this.pagination.pageIndex=e.pageIndex,this.pagination.pageSize=e.pageSize,this.queryData()},sortFun(e){const t=this.sortArr&&this.sortArr.indexOf(e.prop)>-1;return!!t&&(!!e["sort-method"]||"custom")},async queryData(e){if(this.getTableData){this.loading=!0,this.pagination.pageIndex=e?1:this.pagination.pageIndex;let a=this.hasPagination?Object.assign({},{[this.pageParam.pageOffset]:this.pagination.pageIndex,[this.pageParam.pageSize]:this.pagination.pageSize}):{};this.order.sortName&&this.order.sortOrder&&(a.sortName=this.order.sortName,a.sortOrder=this.order.sortOrder);let l=null;try{this.$refs.tableRef&&this.$refs.tableRef.clearSort(),l=await this.getTableData(a)}catch(t){this.loading=!1}finally{this.loading=!1,l&&l.header.success?(this.pagination.total=l.totalRecords||0,this.tableData=Array.from(l.list)||[],this.$emit("fetchData",l)):(this.tableData=[],this.pagination.pageIndex=1,this.pagination.total=0)}}},formatterHandle(e,t){const a=t.property;let l=e,n="",i=a&&a.split(".");return i.forEach(e=>{"object"===typeof l[e]?l=l[e]:n=l[e]}),""!==n&&null!==n&&void 0!==n?n:"-"}}},s=o,r=(a("563f"),a("be9f"),a("2877")),c=Object(r["a"])(s,l,n,!1,null,"6710ceed",null);t["a"]=c.exports},"4d26":function(e,t,a){"use strict";var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex flex-align flex-jus pagination-container",class:{hidden:e.hidden}},[t("el-pagination",e._b({attrs:{id:"pagination","page-size":e.tempPageSize,"page-sizes":e.pageSizes,total:e.total,"pager-count":5,layout:e.layout,"current-page":e.tempCurrentPage},on:{"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1),[[t("span",{staticClass:"pagination__total pagination___text"},[e._v(e._s("Total:"+e.total))]),e.showPageSize?[t("el-select",{staticStyle:{width:"76px","margin-left":"16px","margin-right":"10px"},attrs:{size:"mini"},model:{value:e.tempPageSize,callback:function(t){e.tempPageSize=t},expression:"tempPageSize"}},e._l(e.pageSizes,(function(e){return t("el-option",{key:e,attrs:{label:""+e,value:e}})})),1),t("span",{staticClass:"show-title"},[e._v("items/page")])]:e._e()]],2),-1!==e.layout.indexOf("jumper")?t("div",{staticClass:"go-to-buttom"},[t("button",{on:{click:e.goToHandle}},[e._v("GO")])]):e._e()],1)},n=[],i={name:"PortalPagination",props:{total:{required:!0,type:Number},currentPage:{type:Number,default:1},pageSize:{type:Number,default:10},pageSizes:{type:Array,default(){return[10,20,50,100]}},layout:{type:String,default:"slot, prev, pager, next, jumper"},showPageSize:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},data(){return{}},computed:{tempCurrentPage:{get(){return this.currentPage},set(e){this.$emit("update:currentPage",e)}},tempPageSize:{get(){return this.pageSize},set(e){this.$emit("update:pageSize",e),this.handleSizeChange(e)}}},methods:{handleSizeChange(e){this.tempCurrentPage=1,this.$emit("pagination",{pageIndex:1,pageSize:e})},handleCurrentChange(e){this.tempCurrentPage=e,this.$emit("pagination",{pageIndex:e,pageSize:this.pageSize})},goToHandle(){}}},o=i,s=(a("fe42"),a("2877")),r=Object(s["a"])(o,l,n,!1,null,"03a8757f",null);t["a"]=r.exports},"563f":function(e,t,a){"use strict";a("a1d6")},"861d":function(e,t,a){"use strict";a("c1cd")},a1d6:function(e,t,a){},be9f:function(e,t,a){"use strict";a("3b8a")},c1cd:function(e,t,a){},fe42:function(e,t,a){"use strict";a("0934")}}]);
//# sourceMappingURL=chunk-659d9f06.js.map