(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78580fd1","chunk-43eec914"],{"02e3":function(t,e,i){"use strict";i.d(e,"e",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"y",(function(){return o})),i.d(e,"z",(function(){return n})),i.d(e,"w",(function(){return l})),i.d(e,"f",(function(){return s})),i.d(e,"u",(function(){return c})),i.d(e,"v",(function(){return u})),i.d(e,"x",(function(){return d})),i.d(e,"g",(function(){return h})),i.d(e,"s",(function(){return p})),i.d(e,"n",(function(){return f})),i.d(e,"r",(function(){return m})),i.d(e,"j",(function(){return b})),i.d(e,"l",(function(){return g})),i.d(e,"q",(function(){return y})),i.d(e,"m",(function(){return v})),i.d(e,"p",(function(){return O})),i.d(e,"k",(function(){return T})),i.d(e,"i",(function(){return C})),i.d(e,"h",(function(){return P})),i.d(e,"t",(function(){return L})),i.d(e,"d",(function(){return S})),i.d(e,"o",(function(){return j})),i.d(e,"a",(function(){return I})),i.d(e,"b",(function(){return k}));let r={required:!0,message:"Please enter content",trigger:"blur"},a={required:!0,message:"Please check content",trigger:"blur"},n={required:!0,message:"Please select content",trigger:"change"},o={pattern:/^[0-9a-zA-Z]*$/,message:"Must be number and letters.",trigger:"blur"},s={pattern:/^[+-]?[0-9]*$/,message:"Must be integer number.",trigger:"blur"},c={pattern:/[0-9]{4}/,message:"The MSISDN must contain at least 4 dligits",trigger:"blur"},l={pattern:/^[^@~`！!#$%^*（）()\-+=|,/<>《》?？;':\"“\[\]{}\\&]*$/,message:"Cannot contain special characters (~`!#$%^*()-+=|,/<>?;':\"[]{}\\&)",trigger:"blur"},u={pattern:/^[^@~`！!#$^*（）()\-+=|,/<>《》?？;':\"“\[\]{}\\&]*$/,message:"Cannot contain special characters (~`!#$^*()-+=|,/<>?;':\"[]{}\\&)",trigger:"blur"},d={pattern:/^[\w- ]+$/,message:"Please do not enter any special characters.",trigger:"blur"};S({minLen:0,maxLen:11});const h=S({minLen:0,maxLen:18}),p=(S({minLen:3,maxLen:3}),S({minLen:6,maxLen:16})),f=(S({minLen:8,maxLen:10}),S({minLen:8,maxLen:11}),S({minLen:4,maxLen:12})),m=S({minLen:6,maxLen:12}),b=S({minLen:0,maxLen:19}),g=S({minLen:0,maxLen:24}),y=S({minLen:0,maxLen:64}),v=(S({minLen:0,maxLen:100}),S({minLen:0,maxLen:256})),O=S({minLen:0,maxLen:512}),T=(S({minLen:8,maxLen:50}),S({minLen:1,maxLen:18})),C=S({minLen:0,maxLen:32}),P=S({minLen:0,maxLen:30}),L=S({minLen:9,maxLen:18});S({minLen:2,maxLen:256});function S({minLen:t=0,maxLen:e=100}){let i="";return i=t>0?`Must be between ${t} and ${e} characters`:`Must be less than ${e} characters`,{min:t,max:e,message:i,trigger:"blur"}}const j=S({minLen:0,maxLen:4});function I(t){let e=[];for(let i in t)t[i]&&t[i].toString().startsWith("%")&&1===t[i].length||!t[i]?e.push(!1):e.push(!0);return!e.every(t=>!1===t)}function k(t){return{validator:(e,i,r)=>{i&&i.startsWith("%")&&1===i.length?r(new Error(""+t)):r()},trigger:"blur"}}},"0e19":function(t,e,i){},2069:function(t,e,i){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"entity-search-dialog"},[e("el-dialog",{attrs:{title:t.dialogTitle,"destroy-on-close":!0,visible:t.dialogVisible_,"close-on-click-modal":!1,width:"800px"},on:{"update:visible":function(e){t.dialogVisible_=e},close:t.isClosedDialog}},[e("div",{staticClass:"dialog-form-search"},[e("portal-form",{ref:"dialogFormRef",attrs:{id:"dialogForm","form-data":t.dialogForm,"form-rules":t.dialogFormRules,"form-config-list":t.formConfigList,searchBtnLoading:t.searchLoading,smallAutoColumn:t.smallAutoColumn,bigAutoColumn:t.bigAutoColumn},on:{"common-enter-event":t.searchEntity,"reset-btn-click":t.resetForm,"search-btn-click":t.searchEntity}})],1),e("div",{staticClass:"dialog-table-list margin-top-20"},[e("table-page",{attrs:{size:"small",isCheck:!0,isCheckMemory:!1,isSingleCheck:!0,isSearch:t.isSearchTable,columns:t.dialogTableColumns,getTableData:t.getDialogTableData,initializingLoading:!1,pagination:t.pagination},on:{"single-selection-change":t.handleTableSelection},scopedSlots:t._u([{key:"status",fn:function(i){return[e("div",{staticClass:"flex flex-align"},[""!==i.data.row.status?e("span",{staticClass:"status-circle",style:t.statusStyle(i.data.row.status)}):t._e(),e("span",[t._v(t._s(t.showStatus(i.data.row.status)))])])]}}])})],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("div",{staticClass:"option-buttons"},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.isOk}},[t._v(t._s(t.$t("common.button.confirm"))+" ")]),e("el-button",{attrs:{plain:"",size:"small"},on:{click:t.isClosedDialog}},[t._v(t._s(t.$t("common.button.cancel")))])],1)])])],1)},a=[],n=i("5826"),o=i("cb9d"),s=i("35a4"),c=i("3186"),l=i("4c09"),u={name:"EntitySearchDialog",props:{smallAutoColumn:{type:Number,default:2,validate:t=>!(24%t)},bigAutoColumn:{type:Number,default:2,validate:t=>!(24%t)},dialogTitle:{type:String,default:""},fieldName:{type:String,default:""},dialogVisible:{type:Boolean,default:!1}},components:{PortalForm:c["a"],TablePage:l["a"]},data(){return{identityStatus:[{label:"All",value:""},{label:"Active",value:"03"},{label:"Dormant",value:"08"},{label:"Frozen",value:"05"},{label:"New",value:"00"},{label:"Suspended",value:"04"}],status:[{label:"All",value:""}],dialogForm:{shortCode:"",msisdn:"",bankName:"",bankShortCode:"",groupCode:"",groupName:""},dialogFormRules:{},searchLoading:!1,isSearchTable:!1,selectedData:{}}},computed:{formConfigList(){return this.computedForm()},dialogTableColumns(){return this.computedTableColumns()},dialogVisible_:{get(){return this.dialogVisible},set(){this.isClosedDialog()}},statusStyle(){return t=>{switch(t){case"03":return{"background-color":"#658DF9"};case"06":return{"background-color":""+this.GlobalStyleVariables.fillStrongColor};case"07":return{"background-color":""+this.GlobalStyleVariables.statusSuccessColor};case"00":return{"background-color":"#658DF9"};case"02":return{"background-color":""+this.GlobalStyleVariables.statusSuccessColor};case"04":return{"background-color":""+this.GlobalStyleVariables.statusSuccessColor};case"05":return{"background-color":""+this.GlobalStyleVariables.fillStrongColor};case"08":return{"background-color":""+this.GlobalStyleVariables.fillStrongColor};default:return}}},pagination(){return{pageIndex:1,pageSize:5,layout:"total, prev, pager, next"}}},methods:{computedForm(){let t;switch(this.fieldName){case"msisdn":t=[{label:"MSISDN",key:"msisdn",comp:"el-input",bind:{placeholder:"Please enter"}}];break;case"shortCode":t=[{label:"Short Code",key:"shortCode",comp:"el-input",bind:{id:"identityId",placeholder:"Please enter",maxlength:21}},{label:"Organization Name",key:"organizationName",comp:"el-input",bind:{placeholder:"Please enter"}},{label:"Identity Status",key:"status",comp:"el-select",options:this.identityStatus,bind:{id:"identityId",placeholder:"Please select",maxlength:21}}];break;case"groupCode":t=[{label:"Group Code",key:"groupCode",comp:"el-input",bind:{placeholder:"Please enter"}},{label:"Group Name",key:"groupName",comp:"el-input",bind:{placeholder:"Please enter"}},{label:"Status",key:"status",comp:"el-select",options:this.status,bind:{id:"identityId",placeholder:"Please enter",maxlength:21}}];break}return t},computedTableColumns(){let t;switch(this.fieldName){case"msisdn":t=[{label:"MSISDN",prop:"msisdn",align:"left"},{label:"Customer Type",prop:"customerType",align:"left",__slotName:"customerType"},{label:"Status",prop:"status",align:"left",__slotName:"status"}];break;case"shortCode":t=[{label:"Short Code",prop:"shortCode",align:"left"},{label:"Organization Name ",prop:"organizationName",align:"left"},{label:"Status",prop:"status",align:"left",__slotName:"status"}];break;case"groupCode":t=[{label:"Group Code",prop:"groupCode",align:"left"},{label:"Group Name",prop:"groupName",align:"left"},{label:"Status",prop:"status",align:"left",__slotName:"status"}];break}return t},isClosedDialog(){this.$refs["dialogFormRef"].innerFormRef.resetFields(),this.selectedData={},this.pagination.pageIndex=1,this.$emit("onCloseDialog",!1)},searchEntity(){this.$refs["dialogFormRef"].innerFormRef.validate(t=>{if(!t)return this.searchLoading=!1,!1;this.isSearchTable=!0,this.searchLoading=!0})},resetForm(){this.$refs["dialogFormRef"].innerFormRef.resetFields()},getDialogTableData(t){switch(this.fieldName){case"msisdn":return new Promise(t=>{this.getCustomerList(t)});case"shortCode":return new Promise(e=>{this.getOrgList(t,e)});case"groupCode":return new Promise(e=>{this.getGroupList(t,e)})}},getOrgList(t,e){t.shortCode=this.dialogForm.shortCode,t.status=this.dialogForm.status,t.organizationName=this.dialogForm.organizationName,t.pageSize=this.pagination.pageSize,Object(o["G"])(t).then(t=>{if(t.header&&t.header.success){let i={header:t.header,list:t.list||[],totalRecords:t.totalRecord};e(i)}else e()}).catch(()=>{e()}).finally(()=>{this.isSearchTable=!1,this.searchLoading=!1})},async getCustomerList(t){let e={},i={msisdn:this.dialogForm.msisdn,page:this.pagination.pageIndex,pageSize:this.pagination.pageSize};const r=await Object(n["j"])({msisdn:this.dialogForm.msisdn});r.header&&r.header.success?r.identityId?(e.customerId=r.identityId,e.cpId=r.cpId):(this.$modal.msgError("The MSISDN does not exist"),t()):t();let a=null;try{a=await Object(n["h"])(i)}catch(o){t()}finally{if(a.header&&a.header.success){let e={header:a.header,list:a.customerList||[],totalRecords:a.total};t(e)}else t(),this.$modal.msgError(a.header.responseDesc);this.isSearchTable=!1,this.searchLoading=!1}},getGroupList(t,e){let i={groupCode:this.dialogForm.groupCode,groupName:this.dialogForm.groupName,pageSize:this.pagination.pageSize,pageNo:this.pagination.pageIndex};Object(s["i"])(i).then(t=>{if(t.header&&t.header.success){let i={header:t.header,list:t.list||[],totalRecords:t.totalRecords};e(i)}else e()}).catch(()=>{e()}).finally(()=>{this.isSearchTable=!1,this.searchLoading=!1})},handleTableSelection(t){this.selectedData=t},isOk(){"{}"!==JSON.stringify(this.selectedData)&&(this.$emit("select",this.selectedData),this.isClosedDialog())},showStatus(t){switch(t){case"00":return"New";case"02":return"Pending Active";case"03":return"Active";case"04":return"Suspended";case"05":return"Frozen";case"06":return"Closed";case"07":return"Capped";case"08":return"Dormant";default:return}}}},d=u,h=(i("a0cc"),i("2877")),p=Object(h["a"])(d,r,a,!1,null,"3a57a3c1",null);e["a"]=p.exports},"35a4":function(t,e,i){"use strict";i.d(e,"n",(function(){return a})),i.d(e,"d",(function(){return n})),i.d(e,"p",(function(){return o})),i.d(e,"h",(function(){return s})),i.d(e,"g",(function(){return c})),i.d(e,"e",(function(){return l})),i.d(e,"o",(function(){return u})),i.d(e,"k",(function(){return d})),i.d(e,"c",(function(){return h})),i.d(e,"j",(function(){return p})),i.d(e,"i",(function(){return f})),i.d(e,"l",(function(){return m})),i.d(e,"m",(function(){return b})),i.d(e,"b",(function(){return g})),i.d(e,"a",(function(){return y})),i.d(e,"q",(function(){return v})),i.d(e,"f",(function(){return O}));var r=i("0bbd");function a(t){return Object(r["a"])({url:"/fintech/v1/group/product",method:"post",data:t})}function n(t){return Object(r["a"])({url:"/fintech/v1/group/checkInputKyc",method:"post",data:t})}function o(t){return Object(r["a"])({url:"/fintech/v1/group/trustLevelAndSegment",method:"post",data:t})}function s(t){return Object(r["a"])({url:"/fintech/v1/group/assign/product",method:"post",data:t})}function c(t){return Object(r["a"])({url:"/fintech/v1/group/queryAccountType",method:"post",data:t})}function l(t){return Object(r["a"])({url:"fintech/v1/identity/verify/activeMsisdn",method:"post",data:t})}function u(t){return Object(r["a"])({url:"/fintech/v1/group/create",method:"post",data:t})}function d(t){return Object(r["a"])({url:"/fintech/v1/identity/generateIdentifier",method:"post",data:t})}function h(t){return Object(r["a"])({url:"/fintech/v1/identity/verify/groupCode",method:"post",data:t})}function p(t){return Object(r["a"])({url:"/fintech/v1/group/dcc/queryProduct",method:"POST",data:t})}function f(t){return Object(r["a"])({url:"fintech/v1/group/queryBusinessGroupList",method:"post",data:t})}function m(t){return Object(r["a"])({url:"fintech/v1/groupMember/listGroupMembersByCustomer",method:"post",data:t})}function b(t){return Object(r["a"])({url:"fintech/v1/groupMember/queryGroupMemberRule",method:"post",data:t})}function g(t){return Object(r["a"])({url:"fintech/v1/groupMember/changeGroupMember/rule",method:"post",data:t})}function y(t){return Object(r["a"])({url:"fintech/v1/groupMember/addGroupMember",method:"post",data:t})}function v(t){return Object(r["a"])({url:"fintech/v1/groupMember/removeGroupMember",method:"post",data:t})}function O(t){return Object(r["a"])({url:"fintech/v1/group/info",method:"post",data:t})}},4865:function(t,e,i){"use strict";i.d(e,"r",(function(){return n})),i.d(e,"s",(function(){return o})),i.d(e,"g",(function(){return s})),i.d(e,"u",(function(){return c})),i.d(e,"n",(function(){return l})),i.d(e,"l",(function(){return u})),i.d(e,"m",(function(){return d})),i.d(e,"a",(function(){return h})),i.d(e,"A",(function(){return p})),i.d(e,"v",(function(){return f})),i.d(e,"c",(function(){return m})),i.d(e,"w",(function(){return b})),i.d(e,"y",(function(){return g})),i.d(e,"x",(function(){return y})),i.d(e,"t",(function(){return v})),i.d(e,"o",(function(){return O})),i.d(e,"j",(function(){return T})),i.d(e,"d",(function(){return C})),i.d(e,"z",(function(){return P})),i.d(e,"k",(function(){return L})),i.d(e,"f",(function(){return S})),i.d(e,"q",(function(){return I})),i.d(e,"p",(function(){return k})),i.d(e,"B",(function(){return D})),i.d(e,"h",(function(){return R})),i.d(e,"b",(function(){return w})),i.d(e,"e",(function(){return z})),i.d(e,"i",(function(){return N}));var r=i("0bbd"),a=i("5f9a");function n(t){return Object(r["a"])({url:"/fintech/v1/orgOperator/queryOrgOperatorList",method:"post",data:t})}function o(t){return Object(r["a"])({url:Object(a["a"])("/fintech/v1/organization/list",t),method:"get"})}function s(t){return Object(r["a"])({url:Object(a["a"])("/fintech/v1/orgOperator/changeStatus"),method:"post",data:t})}function c(t){return Object(r["a"])({url:Object(a["a"])("/fintech/v1/orgOperator/status",t),method:"get"})}function l(t){return Object(r["a"])({url:Object(a["a"])("/fintech/v1/orgOperator/closeOrgOperator"),method:"post",data:t})}function u(t){return Object(r["a"])({url:"/fintech/v1/identity/verify/"+t,method:"post",data:{}})}function d(t){return Object(r["a"])({url:"/fintech/v1/identity/verify/userName",method:"post",data:t})}function h(t){return Object(r["a"])({url:"/fintech/v1/orgOperator/create",method:"post",data:t})}function p(t){return Object(r["a"])({url:"/fintech/v1/orgOperator/roles",method:"post",data:t})}function f(t){return Object(r["a"])({url:Object(a["a"])("/fintech/v1/orgOperator/detail",t),method:"get"})}function m(t){return Object(r["a"])({url:"/fintech/v1/orgOperator/changeIdentityLanguage",method:"post",data:t})}function b(t){return Object(r["a"])({url:"/fintech/v1/orgOperator/pin/reset",method:"post",data:t})}function g(t){return Object(r["a"])({url:"/fintech/v1/orgOperator/pin/unlock",method:"post",data:t})}function y(t){return Object(r["a"])({url:"/fintech/v1/orgOperator/pin/setPassword",method:"post",data:t})}function v(t){return Object(r["a"])({url:"/fintech/v1/orgOperator/getOrgOperatorRuleProfile",method:"post",data:t})}function O(t){return Object(r["a"])({url:"/fintech/v1/orgOperator/getRule",method:"get",data:t})}function T(t){return Object(r["a"])({url:"/fintech/v1/orgOperator/checkMsisdn",method:"post",data:t})}function C(t){return Object(r["a"])({url:"/fintech/v1/orgOperator/changeMsisdn",method:"post",data:t})}function P(t){return Object(r["a"])({url:"/fintech/v1/orgOperator/resetPassword",method:"post",data:t})}function L(t){return Object(r["a"])({url:"/fintech/v1/identity/verify/operatorId",method:"post",data:t})}function S(t){return Object(r["a"])({url:"/fintech/v1/orgOperator/changeOrgOperatorRuleProfile",method:"post",data:t})}const j="/fintech/v1/notification_type";function I(t){return Object(r["a"])({url:Object(a["a"])(j+"/list",t),method:"get"})}function k(t){return Object(r["a"])({url:`${j}/queryInfo?typeId=${t}`,method:"get"})}function D(t){return Object(r["a"])({url:"/fintech/v1/notification/send",method:"post",data:t})}function R(t){return Object(r["a"])({url:"fintech/v1/orgOperator/checkAPIPasswordFormat",method:"post",data:t})}function w(t){return Object(r["a"])({url:"fintech/v1/orgOperator/changeAuthentication",method:"post",data:t})}function z(t){return Object(r["a"])({url:Object(a["a"])("/fintech/v1/changeOrgOperatorRole"),method:"post",data:t})}function N(t){return Object(r["a"])({url:"/fintech/v1/orgOperator/checkInputKyc",method:"post",data:t})}},5826:function(t,e,i){"use strict";i.d(e,"f",(function(){return a})),i.d(e,"n",(function(){return n})),i.d(e,"m",(function(){return o})),i.d(e,"l",(function(){return s})),i.d(e,"p",(function(){return c})),i.d(e,"q",(function(){return l})),i.d(e,"o",(function(){return u})),i.d(e,"j",(function(){return d})),i.d(e,"h",(function(){return h})),i.d(e,"d",(function(){return p})),i.d(e,"a",(function(){return f})),i.d(e,"k",(function(){return m})),i.d(e,"e",(function(){return b})),i.d(e,"g",(function(){return g})),i.d(e,"b",(function(){return y})),i.d(e,"c",(function(){return v})),i.d(e,"i",(function(){return O})),i.d(e,"r",(function(){return T}));var r=i("0bbd");function a(t){return Object(r["a"])({url:"/fintech/v1/customer/queryAccountType",method:"post",data:t})}function n(t){return Object(r["a"])({url:"/fintech/v1/customer/product",method:"post",data:t})}function o(t){return Object(r["a"])({url:"/fintech/v1/customer/loadRange",method:"get",data:t})}function s(t){return Object(r["a"])({url:"/fintech/v1/customer/languages",method:"get",data:t})}function c(t){return Object(r["a"])({url:"/fintech/v1/customer/checkRange",method:"post",data:t})}function l(t){return Object(r["a"])({url:"/fintech/v1/customer/trustLevelAndSegment",method:"post",data:t})}function u(t){return Object(r["a"])({url:"/fintech/v1/customer/addCustomer",method:"post",data:t})}function d(t){return Object(r["a"])({url:"/fintech/v1/queryCustomerIdentity/msisdn",method:"post",data:t})}function h(t){return Object(r["a"])({url:"/fintech/v1/queryBusinessCustomerList",method:"post",data:t})}function p(t){return Object(r["a"])({url:"/fintech/v1/customer/getStatusList",method:"post",data:t})}function f(t){return Object(r["a"])({url:"/fintech/v1/customer/changeStatus",method:"post",data:t})}function m(t){return Object(r["a"])({url:"/fintech/v1/queryCustomerInfo",method:"post",data:t})}function b(t){return Object(r["a"])({url:"/fintech/v1/beneficiaryMgt/lookUpBeneficiary/"+t,method:"get",data:t})}function g(t){return Object(r["a"])({url:"/fintech/v1/customer/assign/product",method:"post",data:t})}function y(t){return Object(r["a"])({url:"/fintech/v1/customer/checkInputKyc",method:"post",data:t})}function v(){return Object(r["a"])({url:"/fintech/v1/customer/getIdType",method:"get"})}function O(t){return Object(r["a"])({url:"/fintech/v1/groupMember/queryCustomerGroup",method:"post",data:t})}function T(t){return Object(r["a"])({url:"/fintech/v1/imtOrgTransaction/upgradeCustomer",method:"post",data:t})}},"5e70":function(t,e,i){"use strict";i.d(e,"r",(function(){return a})),i.d(e,"p",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return s})),i.d(e,"e",(function(){return c})),i.d(e,"s",(function(){return l})),i.d(e,"a",(function(){return u})),i.d(e,"b",(function(){return d})),i.d(e,"j",(function(){return h})),i.d(e,"h",(function(){return p})),i.d(e,"l",(function(){return f})),i.d(e,"k",(function(){return m})),i.d(e,"f",(function(){return b})),i.d(e,"t",(function(){return g})),i.d(e,"g",(function(){return y})),i.d(e,"q",(function(){return v})),i.d(e,"o",(function(){return O})),i.d(e,"i",(function(){return T})),i.d(e,"m",(function(){return C})),i.d(e,"n",(function(){return P}));var r=i("0bbd");i("5f9a");function a(t){return Object(r["a"])({url:"/fintech/v1/transaction/orderList",method:"post",data:t})}function n(t){return Object(r["a"])({url:"/fintech/v1/transaction/order/orderDetail",method:"post",data:t})}function o(t){return Object(r["a"])({url:"/fintech/v1/transaction/orderList/export",method:"post",data:t,responseType:"blob"})}function s(t){return Object(r["a"])({url:"fintech/v1/transaction/export/reversalRequest",method:"post",data:t,responseType:"blob"})}function c(t){return Object(r["a"])({url:"/fintech/v1/customer/account",method:"post",data:t})}function l(t){return Object(r["a"])({url:"/fintech/v1/transaction/reverseTransaction",method:"post",data:t})}function u(t){return Object(r["a"])({url:"/fintech/v1/transaction/batchApprovalTransaction",method:"post",data:t})}function d(t){return Object(r["a"])({url:"/fintech/v1/transaction/confirmTransaction",method:"post",data:t})}function h(t){return Object(r["a"])({url:"/fintech/v1/Account/queryAccount",method:"post",data:t})}function p(t){return Object(r["a"])({url:"/fintech/v1/transaction/initiateTransaction",method:"post",data:t})}function f(t){return Object(r["a"])({url:"/fintech/v1/transaction/queryAvailableService",method:"post",data:t})}function m(t){return Object(r["a"])({url:"/fintech/v1/transaction/queryAvailableReasonType",method:"post",data:t})}function b(t){return Object(r["a"])({url:"/fintech/v1/transaction/account/statementList",method:"post",data:t})}function g(t){return Object(r["a"])({url:"/fintech/v1/transaction/getTransactionIdentity",method:"post",data:t})}function y(t){return Object(r["a"])({url:"/fintech/v1/account/queryUnFinishHotEntry",method:"post",data:t})}function v(t){return Object(r["a"])({url:"/fintech/v1/transaction/queryServicePreValidation",method:"post",data:t})}function O(t){return Object(r["a"])({url:"/fintech/v1/transaction/queryBudget",method:"post",data:t})}function T(t){return Object(r["a"])({url:"/fintech/v1/transaction/initiateWithdrawTransaction",method:"post",data:t})}function C(t){return Object(r["a"])({url:"/fintech/v1/bankAccount/query",method:"post",data:t})}function P(t){return Object(r["a"])({url:"/fintech/v1/bank/queryBankInfo",method:"post",data:t})}},"68f8":function(t,e,i){},"8ac9":function(t,e,i){"use strict";var r=function(){var t=this,e=t._self._c;return e("el-dialog",t._g(t._b({class:["portal-dialog",t.customFooter?"custom-footer":"",t.subtitle?"has-subtitle":""],attrs:{visible:t.dialogVisible,title:t.title,width:t.width,"close-on-click-modal":t.closeOnClickModal,"show-close":t.showClose,"before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e},opened:t.openedDialog,closed:t.closedDialog}},"el-dialog",t.$attrs,!1),t.$listeners),[t.subtitle?e("span",{staticClass:"subtitle"},[t._v(t._s(t.subtitle))]):t._e(),t._t("title"),t._t("content"),t.customFooter?t._t("footer"):e("div",{attrs:{slot:"footer"},slot:"footer"},[t.showCancel?e("button",{class:["cancel-button",t.cancelBtnDisable?"disabled":""],on:{click:t.handleCancelClick}},[t._v(" "+t._s(t.cancelText)+" ")]):t._e(),t.showSubmit?e("el-button",{attrs:{type:"primary",disabled:t.confirmBtnDisable,loading:t.submitLoading,size:"small"},on:{click:t.handleConfirmClick}},[t._v(t._s(t.confirmText))]):t._e()],1)],2)},a=[],n={name:"PortalDialog",props:{visible:{type:Boolean,default:!1},title:{type:String,default:""},width:{type:String,default:"448px"},customFooter:{type:Boolean,default:!1},cancelText:{type:String,default:"Cancel"},confirmText:{type:String,default:"Confirm"},closeOnClickModal:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},cancelBtnDisable:{type:Boolean,default:!1},confirmBtnDisable:{type:Boolean,default:!1},showSubmit:{type:Boolean,default:!0},subtitle:{type:String,default:""},showCancel:{type:Boolean,default:!0},submitLoading:{type:Boolean,default:!1}},data(){return{dialogVisible:!1}},watch:{visible:{handler(t){this.dialogVisible=t},immediate:!0},dialogVisible:{handler(t){this.$emit("show-dialog",t),this.$emit("update:visible",t)}}},methods:{handleClose(){this.dialogVisible=!1,this.$emit("handle-close")},handleCancelClick(){this.$emit("cancel-btn-click")},handleConfirmClick(){this.$emit("confirm-btn-click")},openedDialog(){this.$emit("opened-dialog")},closedDialog(){this.$emit("closed-dialog")}}},o=n,s=(i("df6c"),i("2877")),c=Object(s["a"])(o,r,a,!1,null,"081459b7",null);e["a"]=c.exports},9488:function(t,e,i){"use strict";i("0e19")},"9cfe":function(t,e,i){"use strict";i.d(e,"e",(function(){return a})),i.d(e,"d",(function(){return n})),i.d(e,"b",(function(){return o})),i.d(e,"h",(function(){return s})),i.d(e,"a",(function(){return c})),i.d(e,"f",(function(){return l})),i.d(e,"c",(function(){return u})),i.d(e,"g",(function(){return d}));var r=i("0bbd");function a(t){return Object(r["a"])({url:"/fintech/v1/settlement/revenue/org/queryOrgRevenuePlans",method:"post",data:t})}function n(t){return Object(r["a"])({url:"/fintech/v1/settlement/revenue/org/queryOrgRevenuePlanDetail",method:"post",data:t})}function o(t){return Object(r["a"])({url:"/fintech/v1/settlement/revenue/org/execOrgAutoSweep",method:"post",data:t})}function s(t){return Object(r["a"])({url:"/fintech/v1/workflow/process/details",method:"post",data:t})}function c(t){return Object(r["a"])({url:"/fintech/v1/workflow/mytask/task/batchProcess",method:"post",data:t})}function l(t){return Object(r["a"])({url:"/fintech/v1/settlement/dict/query",method:"post",data:t})}function u(){return Object(r["a"])({url:"/fintech/v1/trust/currencyDisplay/query",method:"get"})}function d(t){return Object(r["a"])({url:"/fintech/v1/settlement/revenue/org/queryOrgAndProfile",method:"post",data:t})}},a0cc:function(t,e,i){"use strict";i("fcbf")},c5ea:function(t,e,i){},c652:function(t,e,i){"use strict";var r=i("9cfe");class a{constructor(){this.amountUnitList="",this.initAmountUnit()}format(t,e){let i="",r=Number(t),a=parseFloat(r.toFixed(2)).toLocaleString(),n=a.lastIndexOf(".");if(""!==this.amountUnitList)for(let s in this.amountUnitList)s=="en;1005;"+e&&(i=this.amountUnitList[s].symbol);else i="";if(-1===n)return i+a+".00";let o=a.slice(n+1).length;return`${i+a}${1===o?"0":""}`}getCurrency(t){if(""!==this.amountUnitList){let e;for(let i in this.amountUnitList)if(i==="en;1005;"+t){e=this.amountUnitList[i];break}return e}}async initAmountUnit(){this.amountUnitList=await Object(r["c"])()}}e["a"]=new a},c811:function(t,e,i){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-header",class:{"no-bottom-border":!t.showBottomLine,"no-desc-height":!t.projectObj.desc}},[e("div",{staticClass:"header-left"},[t.projectObj.title?e("div",{staticClass:"page-title"},[t._v(" "+t._s(t.projectObj.title)+" "),t._t("title-suffix")],2):t._e(),t.projectObj.desc?e("div",{staticClass:"page-desc"},[t._v(" "+t._s(t.projectObj.desc)+" ")]):t._e()]),e("div",{staticClass:"header-right"},[t._t("header-right")],2)])},a=[],n={name:"PortalHeader",components:{},props:{projectObj:{type:Object,default(){return{}}},showBottomLine:{type:Boolean,default:!0}}},o=n,s=(i("9488"),i("2877")),c=Object(s["a"])(o,r,a,!1,null,"73566ca8",null);e["a"]=c.exports},cb9d:function(t,e,i){"use strict";i.d(e,"u",(function(){return n})),i.d(e,"G",(function(){return o})),i.d(e,"j",(function(){return s})),i.d(e,"x",(function(){return c})),i.d(e,"d",(function(){return l})),i.d(e,"w",(function(){return u})),i.d(e,"i",(function(){return d})),i.d(e,"t",(function(){return h})),i.d(e,"s",(function(){return p})),i.d(e,"v",(function(){return f})),i.d(e,"O",(function(){return m})),i.d(e,"g",(function(){return b})),i.d(e,"h",(function(){return g})),i.d(e,"I",(function(){return y})),i.d(e,"A",(function(){return v})),i.d(e,"b",(function(){return O})),i.d(e,"F",(function(){return T})),i.d(e,"e",(function(){return C})),i.d(e,"o",(function(){return P})),i.d(e,"l",(function(){return L})),i.d(e,"r",(function(){return S})),i.d(e,"q",(function(){return j})),i.d(e,"K",(function(){return I})),i.d(e,"n",(function(){return k})),i.d(e,"D",(function(){return D})),i.d(e,"a",(function(){return R})),i.d(e,"J",(function(){return w})),i.d(e,"C",(function(){return z})),i.d(e,"N",(function(){return N})),i.d(e,"E",(function(){return x})),i.d(e,"m",(function(){return _})),i.d(e,"B",(function(){return $})),i.d(e,"p",(function(){return F})),i.d(e,"y",(function(){return q})),i.d(e,"L",(function(){return A})),i.d(e,"M",(function(){return B})),i.d(e,"z",(function(){return V})),i.d(e,"c",(function(){return M})),i.d(e,"f",(function(){return E})),i.d(e,"H",(function(){return G})),i.d(e,"k",(function(){return U}));var r=i("0bbd"),a=i("5f9a");function n(t){return Object(r["a"])({url:Object(a["a"])("/fintech/v1/organization/list",t),method:"get"})}function o(t){return t.pageNo&&(t.pageIndex=t.pageNo,delete t.pageNo),Object(r["a"])({url:"/fintech/v1/organization/queryOrgListByPage",method:"POST",data:t})}function s(t){return Object(r["a"])({url:"/fintech/v1/identity/verify/"+t,method:"post",data:{}})}function c(t){return Object(r["a"])({url:"fintech/v1/organization/changeStatus",method:"post",data:t})}function l(t){return Object(r["a"])({url:"/fintech/v1/organization/changeOrgName",method:"post",data:t})}function u(){return Object(r["a"])({url:"/fintech/v1/organization/languages",method:"get"})}function d(t){return Object(r["a"])({url:"/fintech/v1/orgOperator/checkRoles",method:"post",data:t})}function h(t){return Object(r["a"])({url:Object(a["a"])("/fintech/v1/organization/detail",t),method:"get"})}function p(t){return Object(r["a"])({url:"/fintech/v1/organization/getChildOrgDetail",method:"post",data:t})}function f(t){return Object(r["a"])({url:Object(a["a"])("/fintech/v1/organization/status",t),method:"get"})}function m(t){return Object(r["a"])({url:"/fintech/v1/organization/updateRuleProfile",method:"post",data:t})}function b(t){return Object(r["a"])({url:"/fintech/v1/identity/verify/merchantName",method:"post",data:t})}function g(t){return Object(r["a"])({url:"/fintech/v1/organization/checkOrganizationName",method:"post",data:t,ignoreError:!0})}function y(t){return Object(r["a"])({url:"/fintech/v1/organization/products",method:"post",data:t})}function v(t){return Object(r["a"])({url:"/fintech/v1/organization/assign/product",method:"post",data:t})}function O(t){return Object(r["a"])({url:"/fintech/v1/organization/create",method:"post",data:t})}function T(t){return Object(r["a"])({url:"/fintech/v1/settlement/queryOrgCommiAgreement",method:"post",data:t,ignoreError:!0})}function C(t){return Object(r["a"])({url:"/fintech/v1/identity/checkRule",method:"post",data:t})}function P(t){return Object(r["a"])({url:"/fintech/v1/identity/generateIdentifier",method:"post",data:t})}function L(t){return Object(r["a"])({url:"/fintech/v1/identity/deleteIdentifier",method:"post",data:t})}function S(){return Object(r["a"])({url:"/fintech/v1/organization/getIdentityTypeEnum",method:"get"})}function j(){return Object(r["a"])({url:"/fintech/v1/organization/getIdentitySubTypeEnum",method:"get"})}function I(t){return Object(r["a"])({url:"/fintech/v1/organization/queryRuleProfileList",method:"post",data:t})}function k(t){return Object(r["a"])({url:"/fintech/v1/organization/downloadChargeProfile",method:"post",data:t,responseType:"blob"})}function D(t){return Object(r["a"])({url:"/fintech/v1/organization/queryChargeProfileList",method:"post",data:t})}function R(t){return Object(r["a"])({url:"/fintech/v1/organization/ChargeProfileRuleList/"+t,method:"get"})}function w(t){return Object(r["a"])({url:"/fintech/v1/organization/queryRuleProfileDetail/"+t,method:"get"})}function z(t){return Object(r["a"])({url:"/fintech/v1/organization/queryChargeProfileDetail",method:"post",data:t})}function N(t){return Object(r["a"])({url:"/fintech/v1/organization/updateChargeProfile",method:"post",data:t})}function x(t){return Object(r["a"])({url:"/fintech/v1/organization/queryChildren",method:"post",data:t})}function _(t){return Object(r["a"])({url:"/fintech/v1/organization/downloadBalanceOverview",method:"post",data:t,responseType:"blob"})}function $(t){return Object(r["a"])({url:"/fintech/v1/organization/queryBalanceOverviewPage",method:"post",data:t})}function F(){return Object(r["a"])({url:"/fintech/v1/organization/queryAccountType",method:"get"})}function q(t){return Object(r["a"])({url:"/fintech/v1/organization/queryAccountType",method:"post",data:t})}function A(t){return Object(r["a"])({url:"/fintech/v1/organization/querySubscribeProducts",method:"post",data:t})}function B(t){return Object(r["a"])({url:"/fintech/v1/organization/trustLevelAndSegment",method:"post",data:t})}function V(t){return Object(r["a"])({url:"/fintech/v1/organization/queryAddProducts",method:"post",data:t})}function M(t){return Object(r["a"])({url:"/fintech/v1/changeOrgProduct",method:"post",data:t})}function E(t){return Object(r["a"])({url:"/fintech/v1/organization/checkInputKyc",method:"post",data:t})}function G(t){return Object(r["a"])({url:"/fintech/v1/organization/queryOrganizationKYC",method:"post",data:t})}function U(t){return Object(r["a"])({url:"/fintech/v1/organization/close",method:"post",data:t})}},df6c:function(t,e,i){"use strict";i("c5ea")},e4d9:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"business-portal-page"},[e("portal-header",{attrs:{projectObj:t.titleConfig}}),e("el-form",{ref:"receiptNoFormRef",staticClass:"margin-left-20 margin-right-20 margin-top-20",attrs:{model:t.receiptNoForm,rules:t.receiptNoFormRules,"label-position":"top","label-width":"200px",size:"small"}},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:8,xs:t.colSmall,sm:t.colSmall,md:t.colSmall,lg:t.colSmall,xl:t.colXL}},[e("el-form-item",{attrs:{prop:"receiptNo",label:t.$t("TRC.reviewTransaction.label.receiptNo")}},[e("el-input",{attrs:{id:"receiptNo",placeholder:t.$t("common.placeholder.enter")},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchByReceiptNo.apply(null,arguments)}},model:{value:t.receiptNoForm.receiptNo,callback:function(e){t.$set(t.receiptNoForm,"receiptNo",e)},expression:"receiptNoForm.receiptNo"}})],1)],1),e("el-col",{staticStyle:{"padding-top":"26px"},attrs:{span:8,xs:t.colSmall,sm:t.colSmall,md:t.colSmall,lg:t.colSmall,xl:t.colXL}},[e("el-button",{attrs:{size:"small",plain:"",type:"primary",loading:t.searchReceiptNoLoading},on:{click:t.searchByReceiptNo}},[t._v(" "+t._s(t.$t("common.button.review"))+" ")])],1)],1),e("el-divider")],1),e("portal-form",{ref:"searchList",attrs:{"form-data":t.searchList,"form-rules":t.formRules,"form-config-list":t.formConfigList,searchBtnLoading:t.searchLoading},on:{"common-enter-event":t.search,"reset-btn-click":t.reset,"search-btn-click":t.search},scopedSlots:t._u([{key:"debitParty",fn:function(){return[e("el-row",{class:["grouped-input"],attrs:{gutter:4}},[e("el-col",{class:["grouped-input-type"],attrs:{span:8}},[e("el-form-item",{attrs:{required:t.debitRequired,label:t.$t("TRC.reviewTransaction.label.debitParty"),prop:"debitPartyType"}},[e("el-select",{attrs:{disabled:t.debitDisabled,placeholder:t.$t("common.placeholder.select")},on:{change:t.handSelect},model:{value:t.searchList.debitPartyType,callback:function(e){t.$set(t.searchList,"debitPartyType",e)},expression:"searchList.debitPartyType"}},t._l(t.partySelectOptions,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),e("el-col",{class:["grouped-input-value"],attrs:{span:16}},[e("el-form-item",{class:["hidden-label"],attrs:{label:t.debitInputTitleLabel,prop:t.initDebitParty}},[e("el-input",{staticClass:"input-with-select",attrs:{placeholder:t.debitInputTitleLabel,readonly:"readonly"},model:{value:t.searchList.debitParty,callback:function(e){t.$set(t.searchList,"debitParty",e)},expression:"searchList.debitParty"}},[t.searchList.debitPartyType?e("i",{staticClass:"el-icon-more icon-cursor",attrs:{slot:"suffix"},on:{click:t.openDebitShortCodeDialog},slot:"suffix"}):t._e()])],1)],1)],1)]},proxy:!0},{key:"creditParty",fn:function(){return[e("el-row",{class:["grouped-input"],attrs:{gutter:4}},[e("el-col",{class:["grouped-input-type"],attrs:{span:8}},[e("el-form-item",{attrs:{required:t.creditRequired,label:t.$t("TRC.reviewTransaction.label.creditParty"),prop:"creditPartyType"}},[e("el-select",{attrs:{disabled:t.creditDisabled,placeholder:t.$t("common.placeholder.select")},on:{change:t.handSelectChange},model:{value:t.searchList.creditPartyType,callback:function(e){t.$set(t.searchList,"creditPartyType",e)},expression:"searchList.creditPartyType"}},t._l(t.creditSelectOptions,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),e("el-col",{class:["grouped-input-value"],attrs:{span:16}},[e("el-form-item",{class:["hidden-label"],attrs:{label:t.creditInputTitleLabel,prop:t.initCreditParty}},[e("el-input",{staticClass:"input-with-select",attrs:{placeholder:t.creditInputTitleLabel,readonly:"readonly"},model:{value:t.searchList.creditParty,callback:function(e){t.$set(t.searchList,"creditParty",e)},expression:"searchList.creditParty"}},[t.searchList.creditPartyType?e("i",{staticClass:"el-icon-more icon-cursor",attrs:{slot:"suffix"},on:{click:t.openCreditShortCodeDialog},slot:"suffix"}):t._e()])],1)],1)],1)]},proxy:!0}])}),e("div",{staticClass:"table-list-container"},[e("div",{staticClass:"margin-bottom-16"},[e("el-button",{attrs:{id:"process",disabled:!t.checkedList.length,size:"small",type:"primary"},on:{click:function(e){return t.handleProcess()}}},[t._v(" "+t._s(this.$t("TRC.reviewTransaction.button.process"))+" ")])],1),e("table-page",{ref:"data-table",staticClass:"table-page",attrs:{size:"small","has-pagination":t.hasPagination,columns:t.columns,pagination:t.paginationConfig,getTableData:t.getTableData,"is-search":t.refreshTableFlag,isCheck:!0,checkSelectable:t.isSelectable,initializingLoading:!1},on:{"selection-change":t.selectTableDataChanged},scopedSlots:t._u([{key:"orderIdOperation",fn:function(i){return[e("el-button",{staticStyle:{padding:"0"},attrs:{type:"text"},on:{click:function(e){return t.showDetail(i.data.row)}}},[t._v(" "+t._s(i.data.row.tradeOrderId)+" ")])]}},{key:"operation",fn:function(i){return[t.isShowReverse(i.data.row)?e("el-button",{staticClass:"btn",staticStyle:{padding:"0"},attrs:{type:"text"},on:{click:function(e){return t.reverse(i.data.row)}}},[t._v(" "+t._s(t.$t("TRC.reviewTransaction.button.reverse"))+" ")]):t._e(),t.isSelectable(i.data.row)?e("el-button",{staticClass:"btn",staticStyle:{padding:"0"},attrs:{type:"text"},on:{click:function(e){return t.goToProcessPage(i.data.row)}}},[t._v(" "+t._s(t.$t("common.button.process"))+" ")]):t._e()]}},{key:"transactionStatus",fn:function(i){return[e("span",{staticClass:"status-circle",style:t.statusStyle(i.data.row.transactionStatus)}),e("span",[t._v(t._s(i.data.row.transactionStatus))])]}}])})],1),e("entity-search-dialog",{attrs:{"dialog-title":t.debitDialogTitle,dialogVisible:t.debitShortCodeVisible,fieldName:t.debitInputField},on:{"update:dialogVisible":function(e){t.debitShortCodeVisible=e},"update:dialog-visible":function(e){t.debitShortCodeVisible=e},select:t.debitReceiverSelected,onCloseDialog:t.debitCloseCallBack}}),e("entity-search-dialog",{attrs:{"dialog-title":t.creditDialogTitle,dialogVisible:t.creditShortCodeVisible,fieldName:t.creditInputField},on:{"update:dialogVisible":function(e){t.creditShortCodeVisible=e},"update:dialog-visible":function(e){t.creditShortCodeVisible=e},select:t.creditReceiverSelected,onCloseDialog:t.creditCoseCallBack}}),t.showProcessDialog?e("portal-dialog",{attrs:{top:"29vh",confirmText:t.$t("common.button.submit"),visible:!0,title:t.$t("IDC.reviewTransaction.processTitle"),width:"448px"},on:{"cancel-btn-click":t.closeProcessDialog,"confirm-btn-click":t.submitProcessDialog,"handle-close":t.closeProcessDialog},scopedSlots:t._u([{key:"content",fn:function(){return[e("el-form",{ref:"processingForm",attrs:{"label-position":"top",model:t.processingForm,rules:t.processingFormRules}},[e("el-form-item",{attrs:{label:t.$t("IDC.reviewTransaction.label.action"),prop:"action"}},[e("el-radio-group",{attrs:{size:"small"},model:{value:t.processingForm.action,callback:function(e){t.$set(t.processingForm,"action",e)},expression:"processingForm.action"}},t._l(t.labelActions,(function(i,r){return e("el-radio",{key:r,attrs:{label:i.toLowerCase()}},[t._v(" "+t._s(i)+" ")])})),1)],1),e("el-form-item",{attrs:{label:t.$t("IDC.bankAccount.label.remark"),prop:"remark"}},[e("el-input",{attrs:{type:"textarea",prop:"remark",rows:5,placeholder:t.$t("common.placeholder.enter")},model:{value:t.processingForm.remark,callback:function(e){t.$set(t.processingForm,"remark",e)},expression:"processingForm.remark"}})],1)],1)]},proxy:!0}],null,!1,1498998429)}):t._e()],1)},a=[],n=i("c811"),o=i("4c09"),s=i("3186"),c=i("2069"),l=i("8ac9"),u=i("02e3"),d=i("ef20"),h=i("5e70"),p=i("4865"),f=i("0bbd"),m=i("5f9a");function b(t){return Object(f["a"])({url:Object(m["a"])("/fintech/v1/transaction/queryReasonType",t),method:"get"})}function g(t){return Object(f["a"])({url:"/fintech/v1/searchTransactionByOrderId",method:"post",data:t})}var y=i("c652"),v=i("5a0c"),O=i.n(v);const T={organization:"5000",customer:"1000",group:"7000"};var C={name:"ReviewTrasaction",components:{PortalHeader:n["a"],TablePage:o["a"],PortalForm:s["a"],PortalDialog:l["a"],entitySearchDialog:c["a"]},data(){return{debitReceiverData:{},creditReceiverData:{},organizationId:"",initCreditParty:"creditParty",initDebitParty:"debitParty",debitDialogTitle:"Select Organization",creditDialogTitle:"Select Organization",debitInputField:"shortCode",creditInputField:"shortCode",searchLoading:!1,searchReceiptNoLoading:!1,receiptNoExist:!0,debitRequired:!0,creditRequired:!0,refreshTableFlag:!1,hasPagination:!0,debitShortCodeVisible:!1,creditShortCodeVisible:!1,showProcessDialog:!1,debitDisabled:!1,creditDisabled:!1,debitShortCode:"",receiptNoForm:{receiptNo:""},receiptNoFormRules:Object(d["a"])(this),checkedList:[],searchList:{initiationTime:this.getInitTime(),reasonType:"all",transactionStatus:"",debit:null,oppositeParty:"",debitPartyType:"5000",debitParty:"",creditPartyType:"5000",creditParty:"",debitPartyId:"",creditPartyId:"",oppositePartyId:"",oppositePartyType:""},entityIdentityType:"",tradePartyId:"",transactionRole:"",processingForm:{remark:"",action:""},processingFormRules:{remark:[u["e"]],action:[u["z"]]},debitInputTitleLabel:"",creditInputTitleLabel:"",columns:[{label:this.$t("TRC.reviewTransaction.label.receiptNo"),prop:"tradeOrderId",align:"left",__slotName:"orderIdOperation","min-width":150},{label:this.$t("TRC.reviewTransaction.label.initiationTime"),prop:"createTime",align:"left","min-width":133},{label:this.$t("TRC.reviewTransaction.label.reasonType"),prop:"reasonTypeName",align:"left","min-width":185},{label:this.$t("TRC.reviewTransaction.label.debitParty"),prop:"payeeName",align:"left","min-width":120},{label:this.$t("TRC.reviewTransaction.label.creditParty"),prop:"payerName",align:"left","min-width":120},{label:this.$t("TRC.reviewTransaction.label.status"),prop:"status",align:"left","min-width":100,__slotName:"transactionStatus"},{label:this.$t("TRC.reviewTransaction.label.amount"),prop:"transactionAmount",align:"right","min-width":150},{label:this.$t("TRC.reviewTransaction.label.expirationDate"),prop:"expireTime",align:"left","min-width":150},{label:this.$t("common.label.operation"),prop:"operation",align:"left",__slotName:"operation","min-width":93}],reasonTypeOptions:[{label:"All",value:"all"}],statusOptions:[{label:"All",value:"all"},{label:"Authorized",value:"Authorized"},{label:"Pending Authorized",value:"Pending Authorized"},{label:"Refund Pending Authorized",value:"Refund Pending Authorized"},{label:"Completed",value:"Completed"},{label:"Cancelled",value:"Cancelled"},{label:"Declined",value:"Declined"},{label:"Expired",value:"Expired"},{label:"Refunded",value:"Refunded"}],partySelectOptions:[{label:"Organization",value:T.organization},{label:"Customer",value:T.customer},{label:"Group",value:T.group}],creditSelectOptions:[{label:"Organization",value:T.organization},{label:"Customer",value:T.customer},{label:"Group",value:T.group}],paginationConfig:{total:0,pageIndex:1,pageSize:10},formRules:Object(d["c"])(this),pickerOptions:{disabledDate:t=>{let e=O()().startOf("date").subtract(14,"day"),i=O()().endOf("date");return t.getTime()<e||t.getTime()>i}}}},computed:{isSearchBtnDisabled(){const t=this.searchList.creditPartyType,e={5e3:"TC_ORGTRANSACTION_REVIEW_SUBMIT_BTN",1e3:"TC_CUS_TRANSACTION_REVIEW_SUBMIT_BTN",7e3:"TC_GROUP_TRANSACTION_REVIEW_BTN"};let i=!this.hasPerm(e[t]);return i},titleConfig(){return{title:this.$t("TRC.reviewTransaction.pageTitle"),desc:this.$t("TRC.reviewTransaction.pageDesc")}},formConfigList(){return[{formItemClass:"form-special-date-box",sameGroup:!0,align:"left",label:this.$t("TRC.reviewTransaction.label.initiationTime"),prop:"initiationTime",comp:[{key:"initiationTime",comp:"el-date-picker",bind:{id:"initiationTime",type:"datetimerange",format:"dd/MM/yyyy HH:mm:ss","range-separator":"~","default-time":["00:00:00","23:59:59"],"start-placeholder":"Please select","end-placeholder":"Please select","picker-options":this.pickerOptions}},{comp:"i",class:"el-icon-date data_icon"}]},{label:this.$t("TRC.reviewTransaction.label.reasonType"),key:"reasonType",comp:"el-select",options:this.reasonTypeOptions,bind:{placeholder:this.$t("common.placeholder.select"),id:"reasonType"}},{label:this.$t("TRC.reviewTransaction.label.status"),key:"transactionStatus",comp:"el-select",options:this.statusOptions,bind:{placeholder:this.$t("common.placeholder.select"),id:"status"}},{slotName:"debitParty"},{slotName:"creditParty"}]},labelActions(){return"Pending Authorized"===this.searchList.transactionStatus?["Approve","Reject"]:["Complete","Cancel"]},statusStyle(){return t=>{switch(t){case"Completed":return{"background-color":""+this.GlobalStyleVariables.statusSuccessColor};case"Pending":return{"background-color":""+this.GlobalStyleVariables.statusColorSAecondaryWarning};case"Full_Refund":return{"background-color":""+this.GlobalStyleVariables.statusErrorColor};default:return{"background-color":""+this.GlobalStyleVariables.statusNoticeColor}}}},colXL(){return 6},colSmall(){return 8},colOptions(){const{colXL:t,colSmall:e}=this;return{xs:1*e,sm:1*e,md:1*e,lg:1*e,xl:1*t}}},watch:{"searchList.debitPartyType":{handler(t){this.searchList.debitParty="",this.searchList.debitPartyId="",t===T.organization&&"5000"===this.searchList.creditPartyType?(this.debitInputTitleLabel=this.$t("TRC.reviewTransaction.label.shortCode"),this.initCreditParty="initCreditParty",this.initDebitParty="debitParty",this.debitRequired=!0,this.creditRequired=!1,this.creditSelectOptions=[{label:"Organization",value:T.organization},{label:"Customer",value:T.customer},{label:"Group",value:T.group}]):t===T.customer&&"5000"===this.searchList.creditPartyType?(this.debitInputTitleLabel=this.$t("TRC.reviewTransaction.label.MSISDN"),this.initCreditParty="creditParty",this.initDebitParty="initDebitParty",this.creditRequired=!0,this.debitRequired=!1,this.creditSelectOptions=[{label:"Organization",value:T.organization}]):t===T.group&&"5000"===this.searchList.creditPartyType?(this.debitInputTitleLabel=this.$t("TRC.reviewTransaction.label.groupCode"),this.initCreditParty="creditParty",this.initDebitParty="initDebitParty",this.creditRequired=!0,this.debitRequired=!1,this.creditSelectOptions=[{label:"Organization",value:T.organization}]):(this.creditRequired=!0,this.debitRequired=!0,this.initCreditParty="creditParty",this.initDebitParty="debitParty"),this.$refs.searchList&&this.$refs.searchList.clearValidate()},immediate:!0,deep:!0},"searchList.creditPartyType":{handler(t){this.searchList.creditParty="",this.searchList.creditPartyId="",t===T.organization&&"5000"===this.searchList.debitPartyType?(this.creditInputTitleLabel=this.$t("TRC.reviewTransaction.label.shortCode"),this.initDebitParty="debitParty",this.debitRequired=!0,""==this.searchList.debitParty&&""==this.searchList.creditParty&&(this.initCreditParty="creditParty",this.creditRequired=!0),this.partySelectOptions=[{label:"Organization",value:T.organization},{label:"Customer",value:T.customer},{label:"Group",value:T.group}]):t===T.customer?(this.creditInputTitleLabel=this.$t("TRC.reviewTransaction.label.MSISDN"),this.debitRequired=!0,this.creditRequired=!1,this.initDebitParty="debitParty",this.initCreditParty="initCreditParty",this.partySelectOptions=[{label:"Organization",value:T.organization}]):t===T.group?(this.creditInputTitleLabel=this.$t("TRC.reviewTransaction.label.groupCode"),this.debitRequired=!0,this.creditRequired=!1,this.initDebitParty="debitParty",this.initCreditParty="initCreditParty",this.partySelectOptions=[{label:"Organization",value:T.organization}]):(this.debitRequired=!0,this.creditRequired=!0,this.initDebitParty="debitParty",this.initCreditParty="creditParty"),this.$refs.searchList&&this.$refs.searchList.clearValidate()},immediate:!0,deep:!0},"searchList.creditParty":{handler(){this.$refs.searchList&&this.$refs.searchList.clearValidate()}},"searchList.debitParty":{handler(){this.$refs.searchList&&this.$refs.searchList.clearValidate()}}},created(){this.getReasonTypeList()},activated(){},mounted(){},methods:{debitReceiverSelected(t){this.debitReceiverData=t||{},t&&t.organizationId?(this.initCreditParty="initCreditParty",this.creditRequired=!1):(this.initCreditParty="creditParty",this.creditRequired=!0);this.searchList.debitParty=t[this.debitInputField]},creditReceiverSelected(t){this.creditReceiverData=t||{},t&&t.organizationId?(this.initDebitParty="initDebitParty",this.debitRequired=!1):(this.initDebitParty="debitParty",this.debitRequired=!0);this.searchList.creditParty=t[this.creditInputField]},debitCloseCallBack(t){this.debitShortCodeVisible=t},creditCoseCallBack(t){this.creditShortCodeVisible=t},handSelect(t){switch(this.oppositePartyType=t,this.searchList.debitParty="",this.searchList.debitPartyId="",t){case"1000":this.debitDialogTitle="Select Customer",this.debitInputField="msisdn";break;case"5000":this.debitDialogTitle="Select Organization",this.debitInputField="shortCode";break;case"7000":this.debitDialogTitle="Select Group Code",this.debitInputField="groupCode";break}},handSelectChange(t){switch(this.oppositePartyType=t,this.searchList.creditParty="",this.searchList.creditPartyId="",t){case"1000":this.creditDialogTitle="Select Customer",this.creditInputField="msisdn";break;case"5000":this.creditDialogTitle="Select Organization",this.creditInputField="shortCode";break;case"7000":this.creditDialogTitle="Select Group Code",this.creditInputField="groupCode";break}},getInitTime(){let t=new Date(O()().startOf("date")),e=new Date(O()().endOf("date"));return[t,e]},isShowReverse(t){return!!t.reverseMode&&(("Paid"===t.transactionStatus||"Completed"===t.transactionStatus)&&"A"!==t.reverseMode)},isSelectable(t){return"Authorized"===t.transactionStatus||"Pending Authorized"===t.transactionStatus},reset(){this.clearSearchListData(),this.$nextTick(()=>{this.$refs.searchList&&this.$refs.searchList.clearValidate()})},clearSearchListData(){this.searchList.initiationTime=this.getInitTime(),this.searchList.transactionStatus=this.statusOptions[0].value,this.searchList.oppositeParty="",this.searchList.reasonType="all",this.searchList.debitPartyType=T.organization,this.searchList.creditPartyType=T.organization,this.searchList.debitParty="",this.searchList.creditParty="",this.searchList.debitPartyId="",this.searchList.creditPartyId="",this.tradePartyId="",this.searchList.oppositePartyId="",this.searchList.oppositePartyType="",this.initDebitParty="debitParty",this.initCreditParty="creditParty",this.debitRequired=!0,this.creditRequired=!0,this.debitDialogTitle="Select Organization",this.creditDialogTitle="Select Organization",this.debitInputField="shortCode",this.creditInputField="shortCode"},search(){this.searchLoading=!0,this.$refs["searchList"].innerFormRef.validate(t=>{t?(this.paginationConfig={total:0,pageIndex:1,pageSize:10},this.refreshTableFlag=!0):this.searchLoading=!1})},showDetail(t){let e={tradeOrderId:t.tradeOrderId,identityId:this.tradePartyId,identityType:this.entityIdentityType,status:t.transactionStatus,type:"detail",from:"transaction"};this.openTransactionDetail(e)},reverse(t){let e={tradeOrderId:t.tradeOrderId,identityId:this.tradePartyId,identityType:this.entityIdentityType,type:"reverse",from:"transaction"};this.openTransactionDetail(e)},getTableData(){return this.searchLoading=!0,new Promise(t=>{this.getIdentityId(),this.getTradePartyId();let e={identityType:this.entityIdentityType,tradePartyId:this.tradePartyId,createTimeBegin:this.searchList.initiationTime?O()(this.searchList.initiationTime[0]).format("YYYY-MM-DD HH:mm:ss"):"",createTimeEnd:this.searchList.initiationTime?O()(this.searchList.initiationTime[1]).format("YYYY-MM-DD HH:mm:ss"):"",accountNo:"",oppositePartyId:this.searchList.oppositePartyId,oppositePartyType:this.searchList.oppositePartyType,transactionRole:this.transactionRole,reasonType:"all"===this.searchList.reasonType?"":this.searchList.reasonType,status:"all"===this.searchList.transactionStatus?[]:[this.searchList.transactionStatus],startNumber:this.paginationConfig.pageIndex,pageSize:this.paginationConfig.pageSize};Object(h["r"])(e).then(e=>{e.header&&e.header.success?(e.totalRecords=e.totalSize||0,e.list=e.spOrderQueryDTOList||[],e.list=e.list.map(t=>(t.transactionAmount&&(t.transactionAmount=y["a"].format(t.transactionAmount,t.transactionCurrency)),t.createTime=O()(t.createTime).format("DD/MM/YYYY HH:mm:ss"),t.expireTime=O()(t.expireTime).format("DD/MM/YYYY HH:mm:ss"),this.refreshTableFlag=!1,this.searchLoading=!1,t))):(e.totalRecords=0,e.list=[]),t(e)}).catch(()=>{t()}).finally(()=>{this.refreshTableFlag=!1,this.searchLoading=!1})})},async getReasonTypeList(){let t=await b();t.header&&t.header.success&&t.reasonTypeList.map(t=>{let e={value:t.reasonIndex,label:t.reasonName};this.reasonTypeOptions.push(e)})},async searchTransaction(){this.receiptNoExist=!0,this.$refs["receiptNoFormRef"].validate(async t=>{if(t){this.searchReceiptNoLoading=!0;let t=await g({tradeOrderId:this.receiptNoForm.receiptNo});if(this.searchReceiptNoLoading=!1,t.header&&t.header.success){if(t.identityId){let e={tradeOrderId:this.receiptNoForm.receiptNo,identityId:t.identityId,identityType:t.identityType,from:"transaction"};this.receiptNoExist=!0,this.openTransactionDetail(e)}else this.receiptNoExist=!1;this.$refs["receiptNoFormRef"].validateField("receiptNo")}}})},orgShortCodeBlur(t){return new Promise(e=>{let i={shortCode:t||""};Object(p["s"])(i).then(t=>{this.searchLoading=!1,t.header&&t.header.success&&t.organizationInfo?e(t.organizationInfo.organizationId):e("")})})},getTradePartyId(){!this.searchList.debitParty&&this.searchList.creditParty?(this.tradePartyId=this.creditReceiverData.organizationId,this.oppositePartyId="",this.oppositePartyType=""):this.searchList.debitParty&&!this.searchList.creditParty?(this.tradePartyId=this.debitReceiverData.organizationId,this.searchList.oppositePartyId="",this.searchList.oppositePartyType=""):this.debitReceiverData.organizationId?(this.tradePartyId=this.debitReceiverData.organizationId,this.searchList.oppositePartyId=this.creditReceiverData.organizationId||this.creditReceiverData.identityId,this.searchList.oppositePartyType=this.searchList.creditPartyType):this.debitReceiverData.identityId&&(this.tradePartyId=this.debitReceiverData.identityId,this.searchList.oppositePartyId=this.creditReceiverData.organizationId,this.searchList.oppositePartyType=this.searchList.creditPartyType)},getIdentityId(){!this.searchList.debitParty&&this.searchList.creditParty?(this.transactionRole="0",this.entityIdentityType=this.searchList.creditPartyType):this.searchList.debitParty&&!this.searchList.creditParty?(this.transactionRole="1",this.entityIdentityType=this.searchList.debitPartyType):(this.transactionRole="1",this.entityIdentityType=this.searchList.creditPartyType)},verifyTransactionCode(t){if(t.length)return new Promise(e=>{let i={shortCode:t};this.entityIdentityType===T.customer&&(i={msisdn:t}),Object(h["t"])(i).then(t=>{t.header&&t.header.success&&t.identityId?e(t.identityId):e("")})})},openDebitShortCodeDialog(){this.debitShortCodeVisible=!0},openCreditShortCodeDialog(){this.creditShortCodeVisible=!0},handleProcess(){this.checkedList.length?this.showProcessDialog=!0:this.$modal.msgError("Please select at least one.")},goToProcessPage(t){let e={tradeOrderId:t.tradeOrderId,identityId:this.tradePartyId,identityType:this.entityIdentityType,type:"process",from:"transaction"};this.openTransactionDetail(e)},openTransactionDetail(t){const e="/mainPage/identifierCenter/organizationInfo/organization/transactionDetail";this.openNewWindow({path:e,query:{params:encodeURIComponent(JSON.stringify(t))}})},selectTableDataChanged(t){this.checkedList=t},searchByReceiptNo(){this.searchTransaction()},submitProcessDialog(){this.$refs["processingForm"].validate(async t=>{if(t){let t=this.processingForm.action,e=[];this.checkedList.map(t=>{e.push(t.tradeOrderId)});let i,r={};"approve"===t||"reject"===t?(r={actionType:t,remark:this.processingForm.remark,tradeOrderIdList:e},i=await Object(h["a"])(r)):(r={operationType:"cancel"===t?"CANCEL":"CONFIRM",tradeOrderIdList:e,remark:this.processingForm.remark,serviceCode:"",reasonType:""},i=await Object(h["b"])(r)),i.header&&i.header.success&&(this.processingForm={remark:"",action:""},this.showProcessDialog=!1,this.checkedList=[],this.refreshTableFlag=!0)}})},closeProcessDialog(){this.showProcessDialog=!1}}},P=C,L=(i("e9cb"),i("2877")),S=Object(L["a"])(P,r,a,!1,null,"b26bfa2c",null);e["default"]=S.exports},e9cb:function(t,e,i){"use strict";i("68f8")},ef20:function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"a",(function(){return a})),i.d(e,"c",(function(){return n}));var r=i("02e3");let a=t=>({receiptNo:[r["w"],r["e"],s(t)]}),n=()=>({initiationTime:[r["z"]],debitParty:[r["w"],r["e"],r["z"]],creditParty:[r["w"],r["e"],r["z"]],initCreditParty:[{require:!1}],initDebitParty:[{require:!1}]}),o=t=>{let e=(e,i,r)=>{if(!i)return void r();let a=t.totalStrAmount,n=t.reverseMode,o=i.replaceAll(",","");if("P"===n){if(Number(o)>=Number(a))return r(new Error("Please enter an amount less than【"+a+"】"));r()}return"B"===n?Number(o)>Number(a)?r(new Error("Please enter a maximum amount of【"+a+"】")):r():void 0};return{reverseAmount:[{validator:e,trigger:"blur"}]}},s=t=>({trigger:"blur",validator:(e,i,r)=>t.receiptNoExist?r():r("The Receipt Number Does Not Exist.")})},fcbf:function(t,e,i){}}]);
//# sourceMappingURL=chunk-78580fd1.js.map