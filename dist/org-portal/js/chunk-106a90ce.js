(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-106a90ce"],{"0ae9":function(t,e,a){},"2a87":function(t,e,a){"use strict";a("9e6a")},"411e":function(t,e,a){},"64e7":function(t,e,a){"use strict";var i=a("0360"),s=a("5c96");e["a"]={downLoadFile:function(t,e,a,n){let o=new XMLHttpRequest;o.open(a||"POST",t,!0),o.setRequestHeader("Content-type","application/json"),n&&o.setRequestHeader("X-XSRF-TOKEN",i["default"].get("O-XSRF-TOKEN")),o.setRequestHeader("o-token",i["default"].get("o-token")),o.setRequestHeader("Cache-Control","no-store, max-age=0, must-revalidate"),o.responseType="blob",o.onload=function(){if(200===this.status){let t=this.response,e=o.getResponseHeader("content-disposition").split(";")[1].split("filename=")[1],a=decodeURIComponent(e),i=URL.createObjectURL(t),s=document.createElement("a");s.href=i,s.download=a,s.click()}else s["MessageBox"].alert("Download failed.","Error",{type:"error",confirmButtonText:"Confirm"})},o.send(JSON.stringify(e))}}},"6b76":function(t,e,a){"use strict";a("0ae9")},"6e60":function(t,e,a){},7841:function(t,e,a){"use strict";a("411e")},"8e76":function(t,e,a){"use strict";a.d(e,"n",(function(){return n})),a.d(e,"j",(function(){return o})),a.d(e,"t",(function(){return r})),a.d(e,"w",(function(){return c})),a.d(e,"h",(function(){return l})),a.d(e,"o",(function(){return u})),a.d(e,"q",(function(){return f})),a.d(e,"a",(function(){return d})),a.d(e,"d",(function(){return p})),a.d(e,"k",(function(){return b})),a.d(e,"m",(function(){return h})),a.d(e,"v",(function(){return m})),a.d(e,"s",(function(){return w})),a.d(e,"x",(function(){return v})),a.d(e,"i",(function(){return C})),a.d(e,"p",(function(){return k})),a.d(e,"b",(function(){return I})),a.d(e,"g",(function(){return _})),a.d(e,"u",(function(){return D})),a.d(e,"c",(function(){return O})),a.d(e,"l",(function(){return T})),a.d(e,"f",(function(){return g})),a.d(e,"e",(function(){return y})),a.d(e,"r",(function(){return j}));var i=a("0bbd"),s=a("5f9a");a("64e7");function n(t){return Object(i["a"])({url:"/fintech/v1/workFlow/queryMyToDoTask",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/fintech/v1/workFlow/queryGroupTask",method:"post",data:t})}function r(t){return Object(i["a"])({url:"/fintech/v1/workFlow/task-type/list",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/fintech/v1/workFlow/workFlow-name/list",method:"post",data:t})}function l(t){return Object(i["a"])({url:"/fintech/v1/workFlow/spOperator/list",method:"post",data:t})}function u(t){return Object(i["a"])({url:"/fintech/v1/orgOperator/queryOrgOperatorList",method:"post",data:t})}function f(t){return Object(i["a"])({url:"/fintech/role/v1/list",method:"post",data:t})}function d(t){return Object(i["a"])({url:"/fintech/v1/workflow/mytask/task/batchProcess",method:"post",data:t})}function p(t){return Object(i["a"])({url:"/fintech/v1/workFlow/queryActiveTask",method:"post",data:t})}function b(t){return Object(i["a"])({url:"/fintech/v1/workFlow/queryHistoryTask",method:"post",data:t})}function h(t){return Object(i["a"])({url:"/fintech/v1/workFlow/queryInitiatedWorkflow",method:"post",data:t})}function m(t){return Object(i["a"])({url:"/fintech/v1/workFlow/data-dict/list",method:"post",data:t})}function w(t){return Object(i["a"])({url:"/fintech/v1/workflow/process/details",method:"post",data:t})}function v(t){return Object(i["a"])({url:"/fintech/v1/searchTransactionByOrderId",method:"post",data:t})}function C(t){return Object(i["a"])({url:"/fintech/v1/transaction/order/orderDetail",method:"post",data:t})}function k(t){return Object(i["a"])({url:"/fintech/v1/orgOperator/detail?receiverIdentityId="+t,method:"get"})}function I(t){return Object(i["a"])({url:"fintech/v1/workFlow/process/backToInitiator",method:"post",data:t})}function _(t){return Object(i["a"])({url:Object(s["a"])("/fintech/v1/bulk/task/plan/detail?planID="+t),method:"get"})}function D(t){return Object(i["a"])({url:"/fintech/v1/bulk/task/plan/validRecords",params:t})}function O(t){return Object(i["a"])({url:"/fintech/v1/workflow/process/kycDetails",method:"post",data:t})}function T(){return Object(i["a"])({url:"/fintech/v1/organization/languages",method:"get"})}const g=t=>Object(i["a"])({url:"/fintech/v1/workFlow/process/backToInitiator",method:"post",data:t});function y(t){return Object(i["a"])({url:"fintech/v1/workFlow/process/backKycToInitiator",method:"post",data:t})}const j=t=>Object(i["a"])({url:"/fintech/v1/organization/querySubscribeProductsForWorkFlow",method:"post",data:t})},"9e6a":function(t,e,a){},b4bb:function(t,e,a){"use strict";a("6e60")},d8d3:function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return n}));const i={"00":"New","02":"Pending Active","03":"Active","04":"Suspended","05":"Frozen","06":"Closed","07":"Capped","08":"Dormant"},s={1005:"Web",1007:"Handset",1010:"API"},n={1:"Porta",2:"AG",3:"ThirdParty",4:"System",5:"NC",6:"TransactionCenter",7:"IdentityBusiness",8:"BulkCenter"}},da89:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"workflow-detail-pending"},[e("div",{staticClass:"basic-info"},[e("div",{staticClass:"basic-info-title"},[e("div",{staticClass:"title"},[e("span",[t._v(t._s(t.title)+" "+t._s(t.$t("TAC.workflowDetail.detail")))]),"Expired"===t.status?e("div",{staticClass:"processing"},[t._v(t._s(t.$t("TAC.taskDetail.processing")))]):t._e(),"Pending"===t.status?e("div",{staticClass:"pending"},[t._v(t._s(t.$t("TAC.workflowDetail.pending")))]):t._e(),"Pause"===t.status?e("div",{staticClass:"pause"},[t._v(t._s(t.$t("TAC.workflowDetail.pause")))]):t._e(),"Completed"===t.status?e("div",{staticClass:"completed"},[t._v(t._s(t.$t("TAC.workflowDetail.completed")))]):t._e()])]),e("el-divider",{staticClass:"table-divider"}),e("div",{staticClass:"content"},[e("basic-info-item",{attrs:{basicInfo:t.basicInfoList}})],1)],1),e("div",{staticClass:"basic-info"},[e("div",{staticClass:"specific-info-title"},[t._v(t._s(t.$t("TAC.workflowDetail.specificInfo")))]),e("el-divider",{staticClass:"table-divider"}),e("div",{staticClass:"specific-content"},[e("div",{staticClass:"specific-content-title"},[t._v(t._s(t.$t("TAC.workflowDetail.basicInfo")))]),t.specificInfoDetail?t._e():e("basic-info-tow",{attrs:{basicInfoData:t.specificDetailData}}),t.specificInfoDetail?e("basic-info-box",{attrs:{basicInfoItem:t.specificBasicInfoList}}):t._e(),t.specificInfoDetail?e("el-divider",{staticClass:"table-divider"}):t._e(),t.specificInfoDetail?e("div",{staticClass:"specific-content-title"},[t._v(t._s(t.$t("TAC.workflowDetail.changeInfo")))]):t._e(),t.specificInfoDetail?e("basic-info-item-box",{attrs:{basicInfoItemList:t.specificChangeInfoList}}):t._e()],1)],1),e("div",{staticClass:"basic-info"},[e("div",{staticClass:"history-process-title"},[t._v(t._s(t.$t("TAC.workflowDetail.historyProcessRecord")))]),e("el-divider",{staticClass:"table-divider"}),e("div",[e("div",{staticClass:"history-process-record"},[e("el-collapse",{staticClass:"inner-text"},[e("el-collapse-item",{staticClass:"history-process-record-item"},[e("template",{slot:"title"},[e("span",{staticClass:"item-text"},[t._v(t._s(t.detailDatas.taskId)+" - "+t._s(t.taskName))])]),t._l(t.recordCommonList,(function(a){return e("div",{key:a.commentId},[a.commentText?e("el-collapse",{staticClass:"inner-text"},[e("el-collapse-item",{staticClass:"history-process-record-item"},[e("template",{slot:"title"},[e("span",{staticClass:"item-text"},[t._v(t._s(a.creatorId)+" - "+t._s(a.creatorName))]),e("span",{staticClass:"content-time"},[t._v(t._s(a.action))]),e("span",{staticClass:"content-time"},[t._v(t._s(a.createTime))])]),e("div",{staticClass:"item-content"},[e("span",{staticClass:"content-detail"},[t._v(t._s(a.commentText))])])],2)],1):t._e()],1)}))],2)],1)],1)])],1)])},s=[],n=a("7dfc"),o=a("8e76"),r=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"basic-info-box"},[e("el-row",t._l(t.configList,(function(a,i){return e("el-col",t._b({key:i,attrs:{span:8}},"el-col",t.colOptions,!1),[e("div",{staticClass:"basic-info-card"},[e("div",{staticClass:"basic-info-card__label bg-purple"},[t._v(t._s(a.label))]),e("div",{staticClass:"basic-info-card__value"},[t._v(t._s(a.value))])])])})),1)],1)])},c=[],l={name:"BasicInfoBox",props:{basicInfo:{type:Object,default:()=>({})}},data(){return{propsOrder:[{name:"processId",label:this.$t("TAC.workflowDetail.workflowId")},{name:"createTime",label:this.$t("TAC.workflowDetail.creationTime")},{name:"createTime",label:this.$t("TAC.workflowDetail.startTime")},{name:"initiatorId",label:this.$t("TAC.workflowDetail.initiator")},{name:"initiationChannel",label:this.$t("TAC.workflowDetail.initiationChannel")},{name:"eventSource",label:this.$t("TAC.workflowDetail.initiationResource")},{name:"initiationResourceSystem",label:this.$t("TAC.workflowDetail.initiationResourceSystem")},{name:"receiver",label:this.$t("TAC.workflowDetail.receiver")},{name:"taskState",label:this.$t("TAC.workflowDetail.taskStatus")}]}},computed:{configList(){const t=this.basicInfo;return this.propsOrder.map(e=>{const a=e.name,i=e.label;return{label:i,value:t[a]||"-"}})}}},u=l,f=(a("fd0a"),a("2877")),d=Object(f["a"])(u,r,c,!1,null,"c47eccb8",null),p=d.exports,b=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"basic-info-box"},[e("el-row",t._l(t.configList,(function(a,i){return e("el-col",t._b({key:i,attrs:{span:8}},"el-col",t.colOptions,!1),[e("div",{staticClass:"basic-info-card"},[e("div",{staticClass:"basic-info-card__label bg-purple"},[t._v(t._s(a.label))]),e("div",{staticClass:"basic-info-card__value"},[t._v(t._s(a.value))])])])})),1)],1)])},h=[],m={name:"BasicInfoBox",props:{basicInfoItem:{type:Object,default:()=>({})}},data(){return{propsOrder:[{name:"orgOperatorId",label:this.$t("TAC.workflowDetail.id")},{name:"status",label:this.$t("TAC.workflowDetail.identityStatus")},{name:"shortCode",label:this.$t("TAC.workflowDetail.organizationShortCode")},{name:"operatorName",label:this.$t("TAC.workflowDetail.userName")},{name:"operatorId",label:this.$t("TAC.workflowDetail.operatorId")},{name:"accessChannel",label:this.$t("TAC.workflowDetail.accessChannel")},{name:"language",label:this.$t("TAC.workflowDetail.Language")},{name:"ruleProfile",label:this.$t("TAC.workflowDetail.ruleProfile")},{name:"createTime",label:this.$t("TAC.workflowDetail.registrationTime")}]}},computed:{configList(){const t=this.basicInfoItem;return this.propsOrder.map(e=>{const a=e.name,i=e.label;return{label:i,value:t[a]||"-"}})}}},w=m,v=(a("2a87"),Object(f["a"])(w,b,h,!1,null,"11f434a5",null)),C=v.exports,k=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"basic-info-box"},[e("el-row",t._l(t.configList,(function(a,i){return e("el-col",t._b({key:i,attrs:{span:8}},"el-col",t.colOptions,!1),[e("div",{staticClass:"basic-info-card"},[e("div",{staticClass:"basic-info-card__label bg-purple"},[t._v(t._s(a.label))]),e("div",{staticClass:"basic-info-card__value"},[t._v(t._s(a.value))])])])})),1)],1)])},I=[],_={name:"BasicInfoBox",props:{basicInfoItemList:{type:Object,default:()=>({})}},data(){return{propsOrder:[{name:"oldStatus",label:this.$t("TAC.workflowDetail.oldStatus")},{name:"newStatus",label:this.$t("TAC.workflowDetail.newStatus")},{name:"reason",label:this.$t("TAC.workflowDetail.reason")},{name:"remark",label:this.$t("TAC.workflowDetail.remark")}]}},computed:{configList(){const t=this.basicInfoItemList;return this.propsOrder.map(e=>{const a=e.name,i=e.label;return{label:i,value:t[a]||"-"}})}}},D=_,O=(a("b4bb"),Object(f["a"])(D,k,I,!1,null,"acf061b0",null)),T=O.exports,g=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"basic-info"},[e("el-row",t._l(t.configList,(function(a,i){return e("el-col",t._b({key:i,attrs:{span:8}},"el-col",t.colOptions,!1),[e("div",{staticClass:"basic-info-card"},[e("div",{staticClass:"basic-info-card__label bg-purple"},[t._v(t._s(a.label))]),e("div",{staticClass:"basic-info-card__value"},[t._v(t._s(a.value))])])])})),1)],1)])},y=[],j={name:"BasicInfoTow",props:{basicInfoData:{type:Object,default:()=>({})}},data(){return{propsOrder:[{name:"parentTaskId",label:this.$t("TAC.taskDetail.originalTask")},{name:"taskDesc",label:this.$t("TAC.taskDetail.taskDescription")}]}},computed:{pathQuery(){return"detail?taskId=8K1000063"},configList(){const t=this.basicInfoData;return this.propsOrder.map(e=>{const a=e.name,i=e.label;return{label:i,value:t[a]||"-"}})}}},A=j,$=(a("6b76"),Object(f["a"])(A,g,y,!1,null,"ab607810",null)),L=$.exports,x=a("d8d3"),S={components:{BasicInfoItem:p,BasicInfoBox:C,BasicInfoItemBox:T,BasicInfoTow:L},data(){return{channel:"",specificInfoDetail:!1,recordCommonList:[],taskName:null,title:"",basicInfoList:{},specificDetailData:{},specificBasicInfoList:{},specificChangeInfoList:{}}},computed:{workflowId(){return this.$route.query.taskId},detailDatas(){return this.$route.query},status(){return this.$route.query.status}},created(){this.getDetailData()},methods:{showChannel(t){switch(t){case"1005":return"Web";case"1007":return"Handset";case"1010":return"API";default:return}},showStatus(t){return x["c"][t]||"-"},async getDetailData(){let t={taskId:this.workflowId},e=await Object(o["s"])(t);if(!e)return void(this.basicInfoList={});this.recordCommonList=e.comments?e.comments:[],this.title=e.taskDTO.taskId,this.taskName=e.taskDTO.taskName||"",this.basicInfoList={...e.taskDTO,...e.processDTO},this.basicInfoList.eventSource=e.bizContext?x["b"][e.bizContext.eventSource]:"";const a=e.bizContext&&e.bizContext.variables&&e.bizContext.variables.changeInfo;if(a){this.specificInfoDetail=!0,this.channel=e.bizContext.channel;let t="";t="1005"===this.channel||"1007"===this.channel||"1010"===this.channel?this.showChannel(this.channel):this.channel,this.basicInfoList.initiationChannel=t;let i=JSON.parse(a);const s="receiverIdentityId="+i.receiverIdentityId;let r=await Object(o["p"])(s);const c=r.orgOperatorInfo;c.accessChannel.forEach((t,e)=>{switch(t){case"1005":r.orgOperatorInfo.accessChannel[e]="Web";break;case"1007":r.orgOperatorInfo.accessChannel[e]="Handset";break;case"1010":r.orgOperatorInfo.accessChannel[e]="API";break;default:return}}),this.specificBasicInfoList=c,this.specificBasicInfoList.status=this.showStatus(c.status),this.specificBasicInfoList.accessChannel=c.accessChannel.join();let l=r.orgOperatorInfo.createTime.map(t=>t<10?"0"+t:t),u=l.join().replace(/,/g,"");this.specificBasicInfoList.createTime=Object(n["a"])(u,"DD-MM-YYYY HH:mm:ss","YYYYMMDDHHmmss"),this.specificChangeInfoList={oldStatus:this.showStatus(i.oldStatus),newStatus:this.showStatus(i.newStatus),reason:i.remark,remark:i.remark}}else this.specificInfoDetail=!1,this.specificDetailData={...e.taskDTO}}}},B=S,F=(a("7841"),Object(f["a"])(B,i,s,!1,null,"0c819812",null));e["default"]=F.exports},f259:function(t,e,a){},fd0a:function(t,e,a){"use strict";a("f259")}}]);
//# sourceMappingURL=chunk-106a90ce.js.map