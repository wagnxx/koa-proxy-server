{"version":3,"sources":["webpack:///./src/views/identifier-center/pages/organization-operator/detail/audit-log/index.vue?8484","webpack:///./src/common/utils/export-utils.js","webpack:///./src/views/identifier-center/pages/organization-operator/detail/audit-log/index.vue","webpack:///./src/views/identifier-center/pages/till/view/components/detail-dialog.vue","webpack:///./src/views/identifier-center/pages/till/view/components/descriptions-tooltip.vue","webpack:///src/views/identifier-center/pages/till/view/components/descriptions-tooltip.vue","webpack:///./src/views/identifier-center/pages/till/view/components/descriptions-tooltip.vue?a4f4","webpack:///./src/views/identifier-center/pages/till/view/components/descriptions-tooltip.vue?90dc","webpack:///src/views/identifier-center/pages/till/view/components/detail-dialog.vue","webpack:///./src/views/identifier-center/pages/till/view/components/detail-dialog.vue?b336","webpack:///./src/views/identifier-center/pages/till/view/components/detail-dialog.vue?eb0d","webpack:///src/views/identifier-center/pages/organization-operator/detail/audit-log/index.vue","webpack:///./src/views/identifier-center/pages/organization-operator/detail/audit-log/index.vue?c32f","webpack:///./src/views/identifier-center/pages/organization-operator/detail/audit-log/index.vue?5165","webpack:///./src/views/identifier-center/pages/till/view/components/detail-dialog.vue?a660","webpack:///./src/views/identifier-center/api/api-audit-log.js"],"names":["async","exportUtils","callBack","data","opt","fileType","blobType","res","type","reader","FileReader","readAsText","_this","this","onload","errorData","JSON","parse","result","$modal","msgError","header","responseDesc","rollupStart","Date","date","dateFormat","temp","toLowerCase","headers","split","blob","Blob","elink","document","createElement","download","style","display","href","URL","createObjectURL","body","appendChild","click","revokeObjectURL","removeChild","render","_vm","_c","_self","staticClass","class","isShowLine","staticStyle","attrs","titleConfig","ref","searchList","formConfigList","searchLoading","on","search","reset","exportData","directives","name","rawName","isExport","hasPerm","_v","_s","$t","slot","hasPage","columns","paginationConfig","getTableData","refreshTableFlag","sortArr","scopedSlots","_u","key","fn","scope","_f","row","logTime","$event","handleDetail","staticRenderFns","isShow","closeDialog","_l","detailsData","item","index","hidden","_e","label","isJump","value","labelData","list","tooltipShow","isShowTooltip","goDetails","props","default","methods","bulkPlanID","mode","path","query","params","component","components","DescriptionsTooltip","initiatorType","computed","isShowItem","isTaskHidden","isShowTakItem","showDetail","formatDta","dataType","TablePage","PortalForm","PortalHeader","DetailDialog","identityId","title","hasSplitline","total","pageIndex","pageSize","desc","event","eventGroup","initiatorId","startTime","endTime","time","categoryList","eventList","eventGroupList","prop","align","__slotName","width","direction","choiceDate","limitDays","pickerOptions","onPick","maxDate","minDate","disabledDate","maxTime","isReset","isHome","created","watch","handler","comp","options","bind","placeholder","id","formItemClass","sameGroup","description","obj","format","getColumns","column","isNull","maxDay","defaultDay","getdefaultTime","getEmpty","message","paramObj","auditLogId","referenceId","handleClose","done","resolve","totalRecords","success","pageNo","getListAuditLog","then","catch","getCategoryList","request","url","method","queryEventGroup","queryEventType","getLimitDay","queryAuditLogDetail","listTakeCallReferenceAuditLog","downloadAuditLog","needHeader","responseType"],"mappings":"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UAEA,CACAJ,yBACAE,sCACAjB,kBACAmB,UAEA,CACAJ,yBACAE,mCACAjB,eACAmB,UAEA,CACAJ,UACAE,iCACAjB,aACAmB,UAEA,CACAJ,2BACAE,oCACAjB,gBACAmB,UAEA,CACAJ,2BACAE,uCACAjB,eACAmB,UAEA,CACAJ,UACAE,mCACAjB,aACAmB,UAEA,CACAJ,UACAE,sCACAjB,kBACAmB,aAKAQ,SACAW,aACA,kBACA,YACA,SACA,QACA,WAGAC,eACA,0BAMAC,iBACA,0CAMAC,cACA,iBACA,mCACA,iBACA,eACA,kBAEAC,YACA,qBACA,eACA,iCACA,YACA,8CAKAhC,cACA,eACA,0CACA,8BAGAiC,YACA,2BACA,aAEA,OC9Oka,ICQ9Z,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,qDCmEA,GACfT,YAAAU,iBAAAC,kBAAAC,oBAAAC,gBACA/D,gBACAyC,OACAuB,YACA1H,YACAoG,YAEAU,eACA9G,YACAoG,iCAEAuB,OACA3H,YACAoG,gBAIAwB,cACA5H,aACAoG,aAGAzG,OACA,OACAkD,cACAe,YACAM,WACAd,iBACAkB,oBACAF,kBACAyD,QACAC,YACAC,aAEA/E,aACA2E,4CACAK,mCAEA9E,YACAlD,QACAiI,SACAC,cACAR,cACAS,eACArB,iBACAsB,aACAC,WACAC,SAEAC,gBACAC,WACA,CACA7C,YACAE,WAGA4C,gBACA,CACA9C,YACAE,WAGA1B,SACA,CACAwB,yCAEA,CACAA,qCAEA,CACAA,iCAEA,CACAA,iCAEA,CACAA,wCACA+C,iBACAC,aACAC,uBACAC,cAGAC,gBACAC,cACAC,aACAC,eAEAC,SAAAC,UAAAC,cACA,QACA,6BAEA,IACA,qBAGAC,iBACA,wFACA,gCAOA,qBAPA,CACA,0CACA,0BACAC,UACA,4BACA,uCAMA/E,WACAgF,WACAC,UACArB,iBAGAsB,UACA,mBACA,uBACA,iDACA,kCACA,+CACA,CACA,6DACA,QACA,+BACA,0CACA,gBAEA,gGAEA,kBACA,oBAEA,UACA,0BAEA,iBACA,gCAGA,aACA,6BAEA,oBACA,oCAGAC,OACAvB,cACA,8CAEA,mBACAwB,WACA,OACA,mBACA,4BAEA,8BACA,yBACA,gBACA,CACAhE,YACAE,cAMA,yBACA8D,WACA,MACA,sBAEA,yBACA,gBACA,CACAhE,YACAE,eAOAkB,UACA5D,iBACA,OACA,CACAwC,uCACAjB,WACAkF,iBACAC,0BACAC,MACAC,mDAGA,CACApE,qCACAjB,iBACAkF,iBACAE,MACAC,iDACAC,iBAEAH,6BAEA,CACAlE,oCACAjB,YACAkF,iBACAC,uBACAC,MACAC,kDAEAtE,WAEA,CACAwE,sCACAC,aACAvE,mCACAwE,6CAAAC,4BACA1B,YACAkB,MACA,CACAlF,WACAkF,sBACAE,MACAnB,cACA3I,qBACAqK,6BACA,sBACA,qCACA,uCACA,oCACA,kCACA,sCAGA,CACAT,SACAhH,qCAOAyD,SACAiE,cACA,gBACA,gBACA,gBACA,8BACA,aACA/E,wBACA,eACA,gDACA,qBACAgF,8BAGAA,kBACA,qBACAA,0BACAA,yBACA,uBACA,iBACA,aAGAA,wBACA,yBAEA,0BACA,yBAIA,mBACA5E,wCACA+C,iBACAC,aACAC,uBACAC,eAGA2B,UACA,UAEA,wBACA,6BACA,6BACA,+BAGA,2BACA,OACAxK,QAEA,8BACA,yBACA,8BACA,6BACA,6BAGA,oBACA,6BACA,IACA,uBAAAyK,UAAAC,cACA,iDAGAC,kBACA,6FACA,mFACA,0EAEA,sBACA,OACA3K,0BACAkI,cAEA,yBACA,8BACA,6BACA,wBAGA3E,QACA,mBACA,iBACA,iBACAvD,QACAiI,SACAC,cACAR,sCACAS,wCACArB,iBACAsB,aACAC,WACAC,SAEA,gBACA,yBACA,uBACAT,QACAC,YACAC,aAEA,qBACA,CACApC,YACAE,WAGA,gBACA,CACAF,YACAE,WAGA,cACA,CACAF,yCAEA,CACAA,qCAEA,CACAA,iCAEA,CACAA,iCAEA,CACAA,wCACA+C,iBACAC,aACAC,uBACAC,eAIAvF,SACA,sBACA,IACA,yBACA,oCAGAsH,WACA,iCACA,eAAAC,wCAAA7K,kBACA,MAEA,8EACA,eAAA6K,oCAAA7K,kBACA,IAIAwD,cACA,sBACA,MACA,qCACAxD,0BACA8G,iCACAmB,4BACAC,sCACAE,4FACAC,0FACAxI,aAEA,YACAiL,0CAEAA,+CAEA,gBACArL,yBAAAI,eAGA,sBACA,OACAkL,wBACA/K,YACA+E,mBAEA,0BACA,KACA,wBACA,kDACA,yBACApF,wBACAyI,oCACAC,gCACArI,YACAgL,2BAEArL,eACA4F,iDACA,IAEA7E,eAEAA,mCACAA,+BACA,sCAGAuK,eACAC,KAEA7G,eACA,gBAEA,OADA,gBACA,gBACA8G,GACApF,QACAqF,eACAvK,QACAwK,cAGA,yBACA,wBAGA,OACArL,0BACAiI,4BACAC,sCACAE,wDACAC,sDACAiD,uCACAvD,yCAOA,OALA,YACArB,0CAEAA,wCAEA,gBACA6E,kBACAC,SACA,qBACAzL,wBACA,gBACA,iBAEA,iBAEAA,wCACA,yBACA,sBACAoL,OAEApL,UACAA,iBACA,yBACA,sBACAoL,QAGAM,WACAN,WCjlB0Z,ICQtZ,G,UAAY,eACd,EACA5I,EACA2C,GACA,EACA,KACA,WACA,OAIa,e,2FCnBf,W,kCCAA,gSAEO,SAASwG,IACd,OAAOC,eAAQ,CACbC,IAAK,uCACLC,OAAQ,QAGL,SAASC,EAAgBnM,GAC9B,OAAOgM,eAAQ,CACbC,IAAK,uCACLC,OAAQ,OACRlM,KAAMA,IAGH,SAASoM,EAAepM,GAC7B,OAAOgM,eAAQ,CACbC,IAAK,sCACLC,OAAQ,OACRlM,SAGG,SAASqM,IACd,OAAOL,eAAQ,CACbC,IAAK,mCACLC,OAAQ,QAGL,SAASN,EAAgB5L,GAC9B,OAAOgM,eAAQ,CACbC,IAAK,oCACLC,OAAQ,OACRlM,SAGG,SAASsM,EAAoBtM,GAClC,OAAOgM,eAAQ,CACbC,IAAK,2CACLC,OAAQ,OACRlM,SAGG,SAASuM,EAA8BvM,GAC5C,OAAOgM,eAAQ,CACbC,IAAK,uDACLC,OAAQ,OACRlM,SAGG,SAASwM,EAAiBxM,GAC/B,OAAOgM,eAAQ,CACbC,IAAK,wCACLC,OAAQ,OACRO,YAAY,EACZzM,OACA0M,aAAc","file":"js/chunk-3c9a1c4e.js","sourcesContent":["export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=dc4e9ad8&prod&scoped=true&lang=scss&\"","import { dateFormat } from '@/common/utils/date-time-utils';\n\nexport async function exportUtils(callBack, data, opt) {\n  const { fileType, blobType = 'application/ms-excel' } = opt;\n  const res = await callBack(data);\n  if (res.type === 'application/json') {\n    const reader = new FileReader();\n    reader.readAsText(res);\n    const _this = this;\n    reader.onload = function () {\n      const errorData = JSON.parse(reader.result);\n      _this.$modal.msgError(errorData.header.responseDesc);\n    };\n  } else {\n    const rollupStart = new Date();\n    const date = dateFormat(rollupStart, 'YYYYMMDDHHmmss');\n    let temp = 'FINANCIAL_RECONCILIATION_' + date + '.' + fileType.toLowerCase();\n    if (res.headers) {\n      temp = res.headers['content-disposition'].split(';')[1].split('filename=')[1];\n    }\n    const blob = new Blob([res], { type: blobType }); // 解析后端返回的乱码\n    const elink = document.createElement('a');\n    elink.download = temp;\n    elink.style.display = 'none';\n    elink.href = URL.createObjectURL(blob);\n    document.body.appendChild(elink);\n    elink.click();\n    URL.revokeObjectURL(elink.href);\n    document.body.removeChild(elink);\n  }\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"role-config business-portal-page\",class:{ 'has-split-line': _vm.isShowLine }},[_c('div',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('portal-header',{attrs:{\"projectObj\":_vm.titleConfig,\"showBottomLine\":false}}),_c('portal-form',{ref:\"searchList\",attrs:{\"form-data\":_vm.searchList,\"form-config-list\":_vm.formConfigList,\"searchBtnLoading\":_vm.searchLoading},on:{\"common-enter-event\":_vm.search,\"reset-btn-click\":_vm.reset,\"search-btn-click\":_vm.search}}),_c('div',{staticClass:\"table-list-container\"},[_c('div',{staticStyle:{\"padding-bottom\":\"16px\"}},[_c('el-dropdown',{on:{\"command\":_vm.exportData}},[_c('el-button',{directives:[{name:\"preventReClick\",rawName:\"v-preventReClick\"}],attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":_vm.isExport || !_vm.hasPerm('IC_ORG_OPR_AUDITLOG_EXPORT_BTN')}},[_vm._v(\" \"+_vm._s(_vm.$t('common.button.export'))+\" \"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\",staticStyle:{\"font-size\":\"12px\"}})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"XLS\"}},[_vm._v(\"Excel\")]),_c('el-dropdown-item',{attrs:{\"command\":\"XLSX\"}},[_vm._v(\"Excel 2007\")]),_c('el-dropdown-item',{attrs:{\"command\":\"CSV\"}},[_vm._v(\"CSV\")]),_c('el-dropdown-item',{attrs:{\"command\":\"PDF\"}},[_vm._v(\"PDF\")]),_c('el-dropdown-item',{attrs:{\"command\":\"TXT\"}},[_vm._v(\"TXT\")])],1)],1)],1),_c('table-page',{staticClass:\"table-page\",attrs:{\"size\":\"small\",\"has-pagination\":_vm.hasPage,\"columns\":_vm.columns,\"pagination\":_vm.paginationConfig,\"getTableData\":_vm.getTableData,\"is-search\":_vm.refreshTableFlag,\"sortArr\":_vm.sortArr,\"initializingLoading\":false},scopedSlots:_vm._u([{key:\"logTime\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"dateformat\")(scope.data.row.logTime,'DD-MM-YYYY HH:mm:ss'))+\" \")]}},{key:\"operation\",fn:function(scope){return [_c('el-button',{staticClass:\"btn\",attrs:{\"type\":\"text\",\"disabled\":!_vm.hasPerm('IC_ORG_OPR_AUDITLOG_VIEW_BTN')},on:{\"click\":function($event){return _vm.handleDetail(scope.data.row)}}},[_vm._v(\" \"+_vm._s(_vm.$t('common.label.detail'))+\" \")])]}}])}),_c('DetailDialog',{ref:\"viewDetail\"})],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',{staticClass:\"dialog-container\",attrs:{\"title\":_vm.$t('IDC.till.viewDetails'),\"visible\":_vm.isShow,\"width\":\"560px\",\"close-on-click-modal\":false,\"labelClassName\":\"till-view-detail\"},on:{\"close\":function($event){return _vm.closeDialog()}}},[_c('div',_vm._l((_vm.detailsData),function(item,index){return _c('el-descriptions',{key:index,attrs:{\"column\":1}},[(!item.hidden)?_c('el-descriptions-item',{attrs:{\"label\":item.label}},[_c('descriptions-tooltip',{attrs:{\"isJump\":item.isJump || false,\"value\":_vm._f(\"formatEmpty\")(item.value)}})],1):_vm._e()],1)}),1),_c('div',{staticClass:\"take-call-list\"},[(_vm.labelData.list)?_c('el-table',{attrs:{\"data\":_vm.labelData.list,\"header-cell-class-name\":\"table-header-class\",\"cell-class-name\":\"table-cell-class\"}},[_c('el-table-column',{attrs:{\"property\":\"initiatorType\",\"label\":\"initiatorType\",\"show-overflow-tooltip\":\"\",\"width\":\"90\"}}),_c('el-table-column',{attrs:{\"property\":\"initiatorId\",\"label\":\"initiatorId\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"property\":\"time\",\"label\":\"time\",\"show-overflow-tooltip\":\"\",\"width\":\"70\"}}),_c('el-table-column',{attrs:{\"property\":\"event\",\"label\":\"event\",\"show-overflow-tooltip\":\"\"}})],1):_vm._e()],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-tooltip',{attrs:{\"content\":_vm.value,\"disabled\":_vm.tooltipShow,\"placement\":\"top-start\",\"visible-arrow\":false}},[(!_vm.isJump)?_c('span',{ref:\"content\",on:{\"mouseover\":_vm.isShowTooltip}},[_vm._v(_vm._s(_vm.value))]):_c('el-link',{ref:\"content\",attrs:{\"type\":\"primary\"},on:{\"mouseover\":_vm.isShowTooltip,\"click\":function($event){return _vm.goDetails(_vm.value)}}},[_vm._v(\" \"+_vm._s(_vm.value)+\" \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-tooltip :content=\"value\" :disabled=\"tooltipShow\" placement=\"top-start\" :visible-arrow=\"false\">\n    <span v-if=\"!isJump\" ref=\"content\" @mouseover=\"isShowTooltip\">{{ value }}</span>\n    <el-link @mouseover=\"isShowTooltip\" ref=\"content\" v-else @click=\"goDetails(value)\" type=\"primary\">\n      {{ value }}\n    </el-link>\n  </el-tooltip>\n</template>\n\n<script>\nexport default {\n  name: 'DescriptionsTooltip',\n  props: {\n    value: {\n      type: String,\n      default: '',\n    },\n    isJump: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      tooltipShow: false,\n    };\n  },\n  methods: {\n    isShowTooltip() {\n      const bool = this.$refs.content.offsetWidth < this.$refs.content.parentNode.offsetWidth;\n      this.tooltipShow = bool;\n    },\n    goDetails(value) {\n      let params = {\n        bulkPlanID: value,\n        mode: 'taskPlan',\n        type: 'details',\n      };\n      this.openNewWindow({\n        path: '/mainPage/identifierCenter/organizationInfo/till/bulkDetails',\n        query: { params: encodeURIComponent(JSON.stringify(params)) },\n      });\n    },\n  },\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./descriptions-tooltip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./descriptions-tooltip.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./descriptions-tooltip.vue?vue&type=template&id=1879110e&scoped=true&\"\nimport script from \"./descriptions-tooltip.vue?vue&type=script&lang=js&\"\nexport * from \"./descriptions-tooltip.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1879110e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <el-dialog\n    :title=\"$t('IDC.till.viewDetails')\"\n    :visible=\"isShow\"\n    width=\"560px\"\n    class=\"dialog-container\"\n    :close-on-click-modal=\"false\"\n    labelClassName=\"till-view-detail\"\n    @close=\"closeDialog()\"\n  >\n    <div>\n      <el-descriptions :column=\"1\" v-for=\"(item, index) in detailsData\" :key=\"index\">\n        <el-descriptions-item :label=\"item.label\" v-if=\"!item.hidden\"\n          ><descriptions-tooltip :isJump=\"item.isJump || false\" :value=\"item.value | formatEmpty\"></descriptions-tooltip\n        ></el-descriptions-item>\n      </el-descriptions>\n    </div>\n    <div class=\"take-call-list\">\n      <el-table\n        :data=\"labelData.list\"\n        v-if=\"labelData.list\"\n        header-cell-class-name=\"table-header-class\"\n        cell-class-name=\"table-cell-class\"\n      >\n        <el-table-column\n          property=\"initiatorType\"\n          label=\"initiatorType\"\n          show-overflow-tooltip\n          width=\"90\"\n        ></el-table-column>\n        <el-table-column property=\"initiatorId\" label=\"initiatorId\" show-overflow-tooltip></el-table-column>\n        <el-table-column property=\"time\" label=\"time\" show-overflow-tooltip width=\"70\"></el-table-column>\n        <el-table-column property=\"event\" label=\"event\" show-overflow-tooltip></el-table-column>\n      </el-table>\n    </div>\n  </el-dialog>\n</template>\n<script>\nimport DescriptionsTooltip from './descriptions-tooltip.vue';\nexport default {\n  name: 'detailDialog',\n  components: { DescriptionsTooltip },\n  props: {},\n  data() {\n    return {\n      isShow: false,\n      labelData: {},\n      type: '',\n      initiatorType: '',\n    };\n  },\n  computed: {\n    detailsData() {\n      return [\n        {\n          label: this.$t('IDC.till.masterType'),\n          key: 'masterType',\n          value: '',\n        },\n        {\n          label: this.$t('IDC.till.masterID'),\n          key: 'masterId',\n          value: '',\n        },\n        {\n          hidden: false,\n          label: this.$t('IDC.till.Initiator'),\n          key: 'initiatorInfo',\n          value: '',\n        },\n        {\n          hidden: false,\n          label: this.$t('IDC.till.times'),\n          key: 'logTime',\n          value: '',\n        },\n        {\n          hidden: false,\n          label: this.$t('IDC.till.event'),\n          key: 'event',\n          value: '',\n        },\n        {\n          hidden: this.isShowTakItem('IDENTITY'),\n          label: this.$t('IDC.till.beforeImage'),\n          key: 'beforeImage',\n          value: '',\n        },\n        {\n          hidden: this.isShowTakItem('IDENTITY'),\n          label: this.$t('IDC.till.afterImage'),\n          key: 'afterImage',\n          value: '',\n        },\n        {\n          hidden: false,\n          label: this.$t('IDC.till.startTime'),\n          key: 'startTime',\n          value: '',\n        },\n        {\n          hidden: false,\n          label: this.$t('IDC.till.endTime'),\n          key: 'endTime',\n          value: '',\n        },\n        {\n          isJump: true,\n          hidden: this.isShowTakItem(),\n          label: this.$t('IDC.till.taskID'),\n          key: 'taskId',\n          value: '',\n        },\n        {\n          hidden: this.isShowTakItem(),\n          label: this.$t('IDC.till.taskType'),\n          key: 'taskType',\n          value: '',\n        },\n        {\n          hidden: this.isShowTakItem(),\n          label: this.$t('IDC.till.taskCategory'),\n          key: 'taskCategory',\n          value: '',\n        },\n        {\n          hidden: this.isShowTakItem(),\n          label: this.$t('IDC.till.workflowID'),\n          key: 'relatedWorkflowId',\n          value: '',\n        },\n        {\n          hidden: this.isTaskHidden(),\n          label: this.$t('IDC.till.searchCriteria'),\n          key: 'searchCriteria',\n          value: '',\n        },\n        {\n          hidden: this.isShowItem(),\n          label: this.$t('IDC.till.hasBeenDownloaded'),\n          key: 'hasBeenDownloaded',\n          value: '',\n        },\n        {\n          hidden: this.isShowItem(),\n          label: this.$t('IDC.till.isSensitive'),\n          key: 'isSensitive',\n          value: '',\n        },\n        {\n          hidden: this.isShowItem(),\n          label: this.$t('IDC.till.infoType'),\n          key: 'infoType',\n          value: '',\n        },\n        {\n          hidden: false,\n          label: this.$t('IDC.till.reason'),\n          key: 'reason',\n          value: '',\n        },\n        {\n          hidden: this.isTaskHidden(),\n          label: this.$t('IDC.till.errorCode'),\n          key: 'errorCode',\n          value: '',\n        },\n        {\n          hidden: this.isTaskHidden(),\n          label: this.$t('IDC.till.errorMessage'),\n          key: 'errorMsg',\n          value: '',\n        },\n        {\n          hidden: false,\n          label: this.$t('IDC.till.clientIP'),\n          key: 'fromIp',\n          value: '',\n        },\n        {\n          hidden: false,\n          label: this.$t('IDC.till.eventResult'),\n          key: 'eventResult',\n          value: '',\n        },\n      ];\n    },\n  },\n  methods: {\n    isShowItem() {\n      switch (this.type) {\n        case 'QUERY':\n          return false;\n        default:\n          return true;\n      }\n    },\n    isTaskHidden() {\n      if (this.type === 'TASK') {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    isShowTakItem(type) {\n      if (this.type === 'TASK' || type === 'IDENTITY') {\n        return false;\n      } else {\n        return true;\n      }\n    },\n    showDetail(val) {\n      this.labelData = val;\n      this.initiatorType = val.initiatorType;\n      this.type = val.type;\n      this.isShow = true;\n      this.formatDta();\n    },\n    formatDta() {\n      let labelData = this.labelData;\n      for (var data in labelData) {\n        this.detailsData.forEach((item, index) => {\n          if (item.key === data) {\n            this.detailsData[index].value = labelData[data].toString();\n          }\n        });\n      }\n    },\n    closeDialog() {\n      this.isShow = false;\n      for (let i = 0; i < this.detailsData.length; i++) {\n        this.detailsData[i].value = '';\n      }\n    },\n    dataType(val) {\n      if (typeof val === 'boolean') {\n        return val.toString();\n      } else {\n        return '-';\n      }\n    },\n  },\n};\n</script>\n<style scoped lang=\"scss\">\n/deep/ .el-descriptions-row {\n  .el-descriptions-item__label {\n    color: $--line_color--strong;\n    font-size: 14px;\n  }\n  .el-descriptions-item__container {\n    position: relative;\n  }\n  .el-descriptions-item__content {\n    display: block;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    width: 290px;\n    position: absolute;\n    left: 158px;\n    color: $--text_color--emphasis;\n    font-size: 14px;\n  }\n}\n/deep/.el-descriptions__body .el-descriptions__table {\n  white-space: nowrap;\n}\n/deep/ .el-dialog {\n  overflow: hidden;\n}\n/deep/ .el-dialog__body {\n  height: 460px;\n  overflow: auto;\n}\n.take-call-list {\n  /deep/ .el-table__body {\n    font-size: 12px;\n  }\n  /deep/ .table-header-class > .cell,\n  /deep/ .table-cell-class > .cell {\n    padding: 0px !important;\n    text-align: center;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail-dialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail-dialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./detail-dialog.vue?vue&type=template&id=1458f88b&scoped=true&\"\nimport script from \"./detail-dialog.vue?vue&type=script&lang=js&\"\nexport * from \"./detail-dialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail-dialog.vue?vue&type=style&index=0&id=1458f88b&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1458f88b\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"role-config business-portal-page\" :class=\"{ 'has-split-line': isShowLine }\">\n    <div style=\"margin-bottom: 20px\">\n      <portal-header :projectObj=\"titleConfig\" :showBottomLine=\"false\" />\n      <!--search -->\n      <portal-form\n        ref=\"searchList\"\n        :form-data=\"searchList\"\n        :form-config-list=\"formConfigList\"\n        :searchBtnLoading=\"searchLoading\"\n        @common-enter-event=\"search\"\n        @reset-btn-click=\"reset\"\n        @search-btn-click=\"search\"\n      />\n      <!-- columns -->\n      <div class=\"table-list-container\">\n        <div style=\"padding-bottom: 16px\">\n          <el-dropdown @command=\"exportData\">\n            <el-button\n              type=\"primary\"\n              size=\"small\"\n              :disabled=\"isExport || !hasPerm('IC_ORG_OPR_AUDITLOG_EXPORT_BTN')\"\n              v-preventReClick\n            >\n              {{ $t('common.button.export') }}\n              <i class=\"el-icon-arrow-down el-icon--right\" style=\"font-size: 12px\"></i>\n            </el-button>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item command=\"XLS\">Excel</el-dropdown-item>\n              <el-dropdown-item command=\"XLSX\">Excel 2007</el-dropdown-item>\n              <el-dropdown-item command=\"CSV\">CSV</el-dropdown-item>\n              <el-dropdown-item command=\"PDF\">PDF</el-dropdown-item>\n              <el-dropdown-item command=\"TXT\">TXT</el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n        </div>\n        <table-page\n          size=\"small\"\n          class=\"table-page\"\n          :has-pagination=\"hasPage\"\n          :columns=\"columns\"\n          :pagination=\"paginationConfig\"\n          :getTableData=\"getTableData\"\n          :is-search=\"refreshTableFlag\"\n          :sortArr=\"sortArr\"\n          :initializingLoading=\"false\"\n        >\n          <template slot=\"logTime\" slot-scope=\"scope\">\n            {{ scope.data.row.logTime | dateformat('DD-MM-YYYY HH:mm:ss') }}\n          </template>\n          <template slot=\"operation\" slot-scope=\"scope\">\n            <el-button\n              type=\"text\"\n              class=\"btn\"\n              @click=\"handleDetail(scope.data.row)\"\n              :disabled=\"!hasPerm('IC_ORG_OPR_AUDITLOG_VIEW_BTN')\"\n            >\n              {{ $t('common.label.detail') }}\n            </el-button>\n          </template>\n        </table-page>\n        <DetailDialog ref=\"viewDetail\"></DetailDialog>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TablePage from '@/components/tablePage';\nimport PortalForm from '@/components/portal-form';\nimport PortalHeader from '@/components/portal-header';\nimport {\n  getListAuditLog,\n  queryEventGroup,\n  queryEventType,\n  getCategoryList,\n  queryAuditLogDetail,\n  downloadAuditLog,\n  getLimitDay,\n  listTakeCallReferenceAuditLog,\n} from '@/views/identifier-center/api/api-audit-log';\nimport DetailDialog from '@/views/identifier-center/pages/till/view/components/detail-dialog';\nimport dayjs from 'dayjs';\nimport { dateFormat } from '@/common/utils/date-time-utils.js';\nimport { exportUtils } from '@/common/utils/export-utils';\n\nexport default {\n  components: { TablePage, PortalForm, PortalHeader, DetailDialog },\n  name: 'AuditLog',\n  props: {\n    identityId: {\n      type: String,\n      default: '',\n    },\n    initiatorType: {\n      type: String,\n      default: 'Organization Operator',\n    },\n    title: {\n      type: Object,\n      default: () => {\n        return;\n      },\n    },\n    hasSplitline: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      isShowLine: false,\n      isExport: true,\n      hasPage: false,\n      searchLoading: false,\n      refreshTableFlag: false,\n      paginationConfig: {\n        total: 0,\n        pageIndex: 1,\n        pageSize: 10,\n      },\n      titleConfig: {\n        title: this.$t('IDC.auditlog.AuditLogTitle'),\n        desc: this.$t('IDC.auditlog.desc'),\n      },\n      searchList: {\n        type: '',\n        event: '',\n        eventGroup: '',\n        identityId: '',\n        initiatorId: '',\n        initiatorType: '',\n        startTime: '',\n        endTime: '',\n        time: [],\n      },\n      categoryList: [],\n      eventList: [\n        {\n          label: 'All',\n          value: '',\n        },\n      ],\n      eventGroupList: [\n        {\n          label: 'All',\n          value: '',\n        },\n      ],\n      columns: [\n        {\n          label: this.$t('IDC.till.initiatorType'),\n        },\n        {\n          label: this.$t('IDC.till.initiator'),\n        },\n        {\n          label: this.$t('IDC.till.times'),\n        },\n        {\n          label: this.$t('IDC.till.event'),\n        },\n        {\n          label: this.$t('IDC.auditlog.operation'),\n          prop: 'operation',\n          align: 'left',\n          __slotName: 'operation',\n          width: '100',\n        },\n      ],\n      direction: 'rtl',\n      choiceDate: '',\n      limitDays: {},\n      pickerOptions: {\n        // 选择开始时间\n        onPick: ({ maxDate, minDate }) => {\n          if (minDate && !maxDate) {\n            this.choiceDate = minDate.getTime();\n          }\n          if (maxDate) {\n            this.choiceDate = '';\n          }\n        },\n        disabledDate: (time) => {\n          let todayEndTime = new Date(dateFormat(new Date().getTime(), 'YYYY-MM-DD') + ' 23:59:59').getTime();\n          if (!this.isNull(this.choiceDate)) {\n            const one = this.limitDays.maxDay * 24 * 3600 * 1000;\n            let maxTime = this.choiceDate + one - 1;\n            maxTime = maxTime > todayEndTime ? todayEndTime : maxTime;\n            const minTime = this.choiceDate - one + 1;\n            return time.getTime() < minTime || time.getTime() > maxTime;\n          } else {\n            return time.getTime() > todayEndTime;\n          }\n        },\n      },\n      sortArr: [],\n      isReset: false,\n      isHome: false,\n      initiatorId: '',\n    };\n  },\n  created() {\n    this.getLimitDay();\n    this.getCategoryList();\n    let initiatorTypeList = ['Organization', 'Customer', 'Till', 'Group'];\n    if (initiatorTypeList.includes(this.initiatorType)) {\n      this.searchList.identityId = this.identityId;\n    } else {\n      let params = JSON.parse(decodeURIComponent(this.$route.query.data));\n      if (params.type) {\n        this.initiatorId = params.initiatorId;\n        this.searchList.initiatorId = params.initiatorId;\n        this.isHome = true;\n      } else {\n        this.searchList.identityId = JSON.parse(decodeURIComponent(this.$route.query.data)).orgOperatorId;\n      }\n      if (params.orgOperatorId) {\n        this.isShowLine = true;\n      }\n      if (params.title) {\n        this.titleConfig = params.title;\n      }\n      if (params.hasSplitline) {\n        this.isShowLine = params.hasSplitline;\n      }\n    }\n    if (this.title) {\n      this.titleConfig = this.title;\n    }\n    if (this.hasSplitline) {\n      this.isShowLine = this.hasSplitline;\n    }\n  },\n  watch: {\n    initiatorId() {\n      this.searchList.initiatorId = this.initiatorId;\n    },\n    'searchList.type': {\n      handler(value) {\n        if (value != '') {\n          this.getColumns(value);\n          this.getGroupEventList(value);\n        } else {\n          this.searchList.eventGroup = '';\n          this.searchList.event = '';\n          this.eventList = [\n            {\n              label: 'All',\n              value: '',\n            },\n          ];\n        }\n      },\n    },\n    'searchList.eventGroup': {\n      handler(value) {\n        if (value != '') {\n          this.getEventList(value);\n        } else {\n          this.searchList.event = '';\n          this.eventList = [\n            {\n              label: 'All',\n              value: '',\n            },\n          ];\n        }\n      },\n    },\n  },\n  computed: {\n    formConfigList() {\n      return [\n        {\n          label: this.$t('IDC.auditlog.category'),\n          key: 'type',\n          comp: 'el-select',\n          options: this.categoryList,\n          bind: {\n            placeholder: this.$t('common.placeholder.select'),\n          },\n        },\n        {\n          label: this.$t('IDC.till.eventGroup'),\n          key: 'eventGroup',\n          comp: 'el-select',\n          bind: {\n            placeholder: this.$t('common.placeholder.select'),\n            id: 'eventGroup',\n          },\n          options: this.eventGroupList,\n        },\n        {\n          label: this.$t('IDC.auditlog.event'),\n          key: 'event',\n          comp: 'el-select',\n          options: this.eventList,\n          bind: {\n            placeholder: this.$t('common.placeholder.select'),\n          },\n          hidden: false,\n        },\n        {\n          formItemClass: 'form-special-date-box',\n          sameGroup: true,\n          label: this.$t('IDC.auditlog.time'),\n          description: this.$t('IDC.auditlog.timeDesc', { obj: this.limitDays.maxDay }),\n          prop: 'time',\n          comp: [\n            {\n              key: 'time',\n              comp: 'el-date-picker',\n              bind: {\n                align: 'right',\n                type: 'datetimerange',\n                format: 'dd/MM/yyyy HH:mm:ss',\n                'range-separator': '-',\n                'value-format': 'yyyy-MM-dd HH:mm:ss',\n                'default-time': ['00:00:00', '23:59:59'],\n                'start-placeholder': 'Please select',\n                'end-placeholder': 'Please select',\n                'picker-options': this.pickerOptions,\n              },\n            },\n            {\n              comp: 'i',\n              class: 'el-icon-date data_icon',\n            },\n          ],\n        },\n      ];\n    },\n  },\n  methods: {\n    getColumns(value) {\n      this.hasPage = true;\n      this.columns = [];\n      this.sortArr = [];\n      this.categoryList.forEach((item) => {\n        if (item.value === value) {\n          item.tableHead.forEach((column) => {\n            if (value === 'TASK') {\n              let propsList = ['taskType', 'taskId', 'relatedWorkflowId'];\n              if (propsList.includes(column.prop)) {\n                column.prop = 'extraResult.' + column.prop;\n              }\n            }\n            column['align'] = 'left';\n            if (column.prop === 'logTime') {\n              column['__slotName'] = 'logTime';\n              column['sort-method'] = (a, b) => {\n                const aTime = dayjs(a.logTime);\n                const bTime = dayjs(b.logTime);\n                return aTime - bTime;\n              };\n            }\n            column['sort-method'] = (a, b) => {\n              return a[column.prop] > b[column.prop] ? 1 : -1;\n            };\n            this.sortArr.push(column.prop);\n            this.columns.push(column);\n          });\n        }\n      });\n      this.columns.push({\n        label: this.$t('IDC.auditlog.operation'),\n        prop: 'operation',\n        align: 'left',\n        __slotName: 'operation',\n        width: '100',\n      });\n    },\n    isNull(value) {\n      return !value;\n    },\n    async getCategoryList() {\n      let res = await getCategoryList();\n      if (res.header && res.header.success) {\n        this.categoryList = res.list || [];\n      }\n    },\n    async getGroupEventList(value) {\n      let param = {\n        type: value,\n      };\n      this.searchList.eventGroup = '';\n      this.searchList.event = '';\n      let res = await queryEventGroup(param);\n      if (res.header && res.header.success) {\n        this.eventGroupList = res.list;\n      }\n    },\n    async getLimitDay() {\n      let res = await getLimitDay();\n      if (res) {\n        this.limitDays = res.map || { maxDay: 30, defaultDay: 7 };\n        this.getdefaultTime(this.limitDays.defaultDay);\n      }\n    },\n    getdefaultTime(time) {\n      this.searchList.startTime = dateFormat(new Date().getTime() - 3600 * 1000 * 24 * time, 'YYYY-MM-DD HH:mm:ss');\n      this.searchList.endTime = dateFormat(new Date().getTime(), 'YYYY-MM-DD HH:mm:ss');\n      this.searchList.time = [this.searchList.startTime, this.searchList.endTime];\n    },\n    async getEventList(value) {\n      let param = {\n        type: this.searchList.type,\n        eventGroup: value,\n      };\n      this.searchList.event = '';\n      let res = await queryEventType(param);\n      if (res.header && res.header.success) {\n        this.eventList = res.list;\n      }\n    },\n    reset() {\n      this.getLimitDay();\n      this.isExport = true;\n      this.searchList = {\n        type: '',\n        event: '',\n        eventGroup: '',\n        identityId: this.searchList.identityId,\n        initiatorId: this.searchList.initiatorId,\n        initiatorType: '',\n        startTime: '',\n        endTime: '',\n        time: [],\n      };\n      this.isReset = true;\n      this.refreshTableFlag = true;\n      this.paginationConfig = {\n        total: 0,\n        pageIndex: 1,\n        pageSize: 10,\n      };\n      this.eventGroupList = [\n        {\n          label: 'All',\n          value: '',\n        },\n      ];\n      this.eventList = [\n        {\n          label: 'All',\n          value: '',\n        },\n      ];\n      this.columns = [\n        {\n          label: this.$t('IDC.till.initiatorType'),\n        },\n        {\n          label: this.$t('IDC.till.initiator'),\n        },\n        {\n          label: this.$t('IDC.till.times'),\n        },\n        {\n          label: this.$t('IDC.till.event'),\n        },\n        {\n          label: this.$t('IDC.auditlog.operation'),\n          prop: 'operation',\n          align: 'left',\n          __slotName: 'operation',\n          width: '100',\n        },\n      ];\n    },\n    search() {\n      let res = this.getEmpty();\n      if (res) {\n        this.refreshTableFlag = true;\n        this.paginationConfig.pageIndex = 1;\n      }\n    },\n    getEmpty() {\n      if (this.searchList.type === '') {\n        this.$message({ message: 'The category cannot be empty.', type: 'warning' });\n        return false;\n      }\n      if (!this.searchList.time || (this.searchList.time && this.searchList.time.length == 0)) {\n        this.$message({ message: 'The time cannot be empty.', type: 'warning' });\n        return false;\n      }\n      return true;\n    },\n    exportData(fileType) {\n      let res = this.getEmpty();\n      if (res) {\n        let paramObj = Object.assign(this.searchList, {\n          type: this.searchList.type,\n          initiatorType: this.initiatorType,\n          event: this.searchList.event,\n          eventGroup: this.searchList.eventGroup,\n          startTime: dayjs(this.searchList.time[0]).format('YYYY-MM-DD HH:mm:ss') || '2022-11-01 00:00:00',\n          endTime: dayjs(this.searchList.time[1]).format('YYYY-MM-DD HH:mm:ss') || '2022-11-30 23:59:59',\n          fileType: fileType,\n        });\n        if (this.isHome) {\n          paramObj.initiatorId = this.searchList.initiatorId;\n        } else {\n          paramObj.identityId = this.searchList.identityId;\n        }\n        delete paramObj.initiatorType;\n        exportUtils(downloadAuditLog, paramObj, { fileType });\n      }\n    },\n    async handleDetail(val) {\n      let param = {\n        auditLogId: val.auditLogId,\n        type: val.type,\n        logTime: val.logTime,\n      };\n      let res = await queryAuditLogDetail(param);\n      let data = {};\n      if (res && res.header.success) {\n        let result = Object.assign(res.commonDetail, res.extraDetail);\n        if (val.event == 'Take a Call') {\n          data = await listTakeCallReferenceAuditLog({\n            startTime: this.searchList.startTime,\n            endTime: this.searchList.endTime,\n            type: val.type,\n            referenceId: val.auditLogId,\n          });\n          data.list.map((item) => {\n            item.time = item.logTime.slice(0, 10).split('-').join('');\n            return item;\n          });\n          result.list = data.list;\n        }\n        result.initiatorType = this.initiatorType;\n        result['eventResult'] = res.eventResult;\n        this.$refs.viewDetail.showDetail(result);\n      }\n    },\n    handleClose(done) {\n      done();\n    },\n    getTableData() {\n      if (this.isReset) {\n        this.isReset = false;\n        return new Promise((resolve) => {\n          resolve({\n            list: [],\n            totalRecords: 0,\n            header: {\n              success: false,\n            },\n          });\n          this.refreshTableFlag = false;\n          this.searchLoading = false;\n        });\n      }\n      let params = {\n        type: this.searchList.type,\n        event: this.searchList.event,\n        eventGroup: this.searchList.eventGroup,\n        startTime: this.searchList.time && this.searchList.time[0],\n        endTime: this.searchList.time && this.searchList.time[1],\n        pageNo: this.paginationConfig.pageIndex,\n        pageSize: this.paginationConfig.pageSize,\n      };\n      if (this.isHome) {\n        params.initiatorId = this.searchList.initiatorId;\n      } else {\n        params.identityId = this.searchList.identityId;\n      }\n      return new Promise((resolve) => {\n        getListAuditLog(params)\n          .then((res) => {\n            if (res && res.header.success) {\n              res.list = res.resultList || [];\n              if (res.list.length > 0) {\n                this.isExport = false;\n              } else {\n                this.isExport = true;\n              }\n              res.totalRecords = Number(res.totalAmount) || 0;\n              this.refreshTableFlag = false;\n              this.searchLoading = false;\n              resolve(res);\n            } else {\n              res.list = [];\n              res.totalRecords = 0;\n              this.refreshTableFlag = false;\n              this.searchLoading = false;\n              resolve(res);\n            }\n          })\n          .catch(() => {\n            resolve();\n          });\n      });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n/deep/ .el-drawer__body {\n  padding-left: 20px;\n}\n/deep/.page-desc {\n  font-size: 12px;\n  color: $--text_color--secondary;\n}\n.has-split-line .page-header {\n  border-bottom: 1px solid $--fill_color--regular !important;\n}\n.business-portal-page {\n  background-color: $--global-background_color;\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=dc4e9ad8&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=dc4e9ad8&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dc4e9ad8\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail-dialog.vue?vue&type=style&index=0&id=1458f88b&prod&scoped=true&lang=scss&\"","import request from '@/common/utils/request';\n\nexport function getCategoryList() {\n  return request({\n    url: '/fintech/v1/auditLog/getCategoryList',\n    method: 'get',\n  });\n}\nexport function queryEventGroup(data) {\n  return request({\n    url: '/fintech/v1/auditLog/queryEventGroup',\n    method: 'post',\n    data: data,\n  });\n}\nexport function queryEventType(data) {\n  return request({\n    url: '/fintech/v1/auditLog/queryEventType',\n    method: 'post',\n    data,\n  });\n}\nexport function getLimitDay() {\n  return request({\n    url: '/fintech/v1/auditLog/getLimitDay',\n    method: 'get',\n  });\n}\nexport function getListAuditLog(data) {\n  return request({\n    url: '/fintech/v1/auditLog/listAuditLog',\n    method: 'post',\n    data,\n  });\n}\nexport function queryAuditLogDetail(data) {\n  return request({\n    url: '/fintech/v1/auditLog/queryAuditLogDetail',\n    method: 'post',\n    data,\n  });\n}\nexport function listTakeCallReferenceAuditLog(data) {\n  return request({\n    url: '/fintech/v1/auditLog/listTakeCallReferenceAuditLog  ',\n    method: 'post',\n    data,\n  });\n}\nexport function downloadAuditLog(data) {\n  return request({\n    url: '/fintech/v1/auditLog/downloadAuditLog',\n    method: 'post',\n    needHeader: true,\n    data,\n    responseType: 'blob',\n  });\n}\n"],"sourceRoot":""}