(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ebcff32"],{2419:function(e,t,o){"use strict";o("e6fa")},"405a":function(e,t,o){},"5a5f":function(e,t,o){"use strict";o("5f67")},"5f67":function(e,t,o){},"6b1e":function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"review-transaction"},[t("portal-header",{attrs:{projectObj:e.titleConfig}}),t("portal-form",{ref:"orgForm",attrs:{"form-data":e.orgForm,"form-config-list":e.formConfigList,needOperateBtn:!0,"form-rules":e.orgFormRules,needBottomLine:!1,searchBtnDisabled:!e.hasPerm("IC_IDENTITY_CREATEORG_SEARCH_BTN"),searchBtnLoading:e.isSearching},on:{"reset-btn-click":e.orgFormField,"search-btn-click":e.searchBtnClickHandle}}),t("div",{staticClass:"table-area pageContainer"},[t("el-divider",{staticClass:"task-divider"}),t("div",{staticClass:"row-btn"},[t("el-button",{attrs:{type:"primary",disabled:!e.hasPerm("IC_IDENTITY_CREATESUBORG_NEXT_BTN"),size:"small",icon:"el-icon-plus"},on:{click:e.gotoCreatePage}},[e._v(" "+e._s(e.$t("common.button.create"))+" ")]),t("div",{staticClass:"sort-condition"},[""!==e.orgForm.sortingQueryResultsBy?t("el-select",{staticClass:"sort-condition-ascending",attrs:{size:"small"},model:{value:e.orgForm.sortAcs,callback:function(t){e.$set(e.orgForm,"sortAcs",t)},expression:"orgForm.sortAcs"}},[t("el-option",{attrs:{value:"Ascending",label:"Ascending"}}),t("el-option",{attrs:{value:"Descending",label:"Descending"}})],1):e._e(),t("el-select",{attrs:{size:"small",placeholder:e.$t("common.placeholder.select")+""},on:{change:e.onSortByChange},model:{value:e.orgForm.sortingQueryResultsBy,callback:function(t){e.$set(e.orgForm,"sortingQueryResultsBy",t)},expression:"orgForm.sortingQueryResultsBy"}},[t("el-option",{attrs:{value:"",label:"Sort By"}}),t("el-option",{attrs:{value:"City",label:"City"}}),t("el-option",{attrs:{value:"Organization Name",label:"Organization Name"}}),t("el-option",{attrs:{value:"Organization Short Code",label:"Organization Short Code"}})],1)],1)],1),t("portal-table",{attrs:{size:"small",columns:e.orgColumns,getTableData:e.getTableData,"initializing-loading":!1,isSearch:e.isSearching,pagination:e.paginationConfig,sortArr:["organizationId","shortCode","organizationName","status","region","city"]},scopedSlots:e._u([{key:"status",fn:function(o){return[t("div",{staticClass:"status-group"},[t("span",{staticClass:"status-circle",style:e.statusStyle(o.data.row.status)}),t("span",{staticClass:"status-name"},[e._v(e._s(e.showStatus(o.data.row.status)))]),e.showAllowedEditIcon(o.data.row.status)?t("el-link",{attrs:{underline:!1,icon:"el-icon-edit"},on:{click:function(t){return e.showEditDialog(o.data.row)}}}):e._e()],1)]}},{key:"operation",fn:function(o){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.scanOrgDetail(o.data.row)}}},[e._v("Detail ")]),e.showCloseBtn(o.data.row)?t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleClose(o.data.row)}}},[e._v("Close")]):e._e()]}}])})],1),t("org-edit-status",{attrs:{editStatusVisible:e.statusDialogVisible,curStatus:e.oldStatus,receiverIdentityId:e.receiverIdentityId},on:{"update:editStatusVisible":function(t){e.statusDialogVisible=t},"update:edit-status-visible":function(t){e.statusDialogVisible=t},"update:curStatus":function(t){e.oldStatus=t},"update:cur-status":function(t){e.oldStatus=t},"update:receiverIdentityId":function(t){e.receiverIdentityId=t},"update:receiver-identity-id":function(t){e.receiverIdentityId=t},changSearch:e.changSearch}}),t("portal-short-code",{attrs:{"search-visible":e.showShortCodeDialog,"short-code":e.orgForm.shortCode},on:{"update:searchVisible":function(t){e.showShortCodeDialog=t},"update:search-visible":function(t){e.showShortCodeDialog=t},"update:shortCode":function(t){return e.$set(e.orgForm,"shortCode",t)},"update:short-code":function(t){return e.$set(e.orgForm,"shortCode",t)}}}),t("dialog-product",{attrs:{check:!0,checked:{productId:e.orgForm.productId,productName:e.orgForm.productName},"data-loader":e.loadProducts,"single-check":!0,visible:e.showProductDialog},on:{"update:visible":function(t){e.showProductDialog=t},confirm:e.updateProduct}}),t("dialog-region",{attrs:{"init-check":this.orgForm.regionId,"show-dialog":e.showRegionDialog},on:{"update:showDialog":function(t){e.showRegionDialog=t},"update:show-dialog":function(t){e.showRegionDialog=t},confirm:e.updateRegion}}),t("portal-dialog",{attrs:{confirmText:"Submit",cancelText:"Cancel",visible:e.closeDialogVisible,title:"Close Organization",submitLoading:e.confirmLoading},on:{"cancel-btn-click":e.closeOrgDialog,"confirm-btn-click":e.submitClose,close:e.closeOrgDialog}},[t("template",{slot:"content"},[t("span",[e._v(e._s(e.closeDialogContent))]),t("el-divider",{staticClass:"divider"}),t("div",{staticClass:"dialog-form"},[t("el-form",{ref:"formRef",attrs:{model:e.closeOrgFormData,rules:e.closeOrgFormRules}},[t("el-form-item",{attrs:{label:"Remark",prop:"remark",required:""}},[t("el-input",{staticClass:"input-area",attrs:{type:"textarea",placeholder:"Please enter"},model:{value:e.closeOrgFormData.remark,callback:function(t){e.$set(e.closeOrgFormData,"remark",t)},expression:"closeOrgFormData.remark"}})],1)],1)],1)],1)],2)],1)},s=[],a=o("3186"),r=o("c811"),n=o("4c09"),l=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:e.$t("IDC.orgOperator.editStatus"),visible:e.editStatusVisible,width:"448px","before-close":e.closeEdit},on:{"update:visible":function(t){e.editStatusVisible=t}}},[t("el-form",{ref:"editForm",attrs:{size:"small","label-position":"top",model:e.editForm,rules:e.editFormRules}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:e.$t("IDC.orgOperator.currentStatus"),prop:"oldStatus"}},[t("div",{staticClass:"text",domProps:{textContent:e._s(e.showStatus(e.editForm.oldStatus))}})])],1),t("el-col",{staticClass:"new-status",attrs:{span:24}},[t("el-form-item",{attrs:{label:e.$t("IDC.orgOperator.newStatus"),prop:"newStatus"}},[t("el-select",{attrs:{size:"small",placeholder:e.$t("common.placeholder.select")},model:{value:e.editForm.newStatus,callback:function(t){e.$set(e.editForm,"newStatus",t)},expression:"editForm.newStatus"}},e._l(e.newStatusList,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("el-col",{attrs:{span:24}},[t("el-form-item",{staticClass:"margin-bottom-0",attrs:{label:e.$t("IDC.orgOperator.reason"),prop:"reason"}},[t("el-input",{attrs:{size:"small",type:"textarea",rows:"4"},model:{value:e.editForm.reason,callback:function(t){e.$set(e.editForm,"reason",t)},expression:"editForm.reason"}})],1)],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"small"},on:{click:e.closeEdit}},[e._v(e._s(e.$t("common.button.cancel")))]),t("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary",size:"small"},on:{click:e.editSubmit}},[e._v(e._s(e.$t("common.button.submit")))])],1)],1)},c=[],d=o("cb9d"),u=o("d8d3"),h={name:"OrgEditStatus",props:{editStatusVisible:{type:Boolean,default:!1},curStatus:{type:String,default:()=>""},receiverIdentityId:{type:String,default:()=>""}},data(){return{editForm:{oldStatus:"",newStatus:"",reason:"",receiverIdentityId:""},newStatusList:[],reasonList:[{label:"Not Use",value:"1"},{label:"Id Expired",value:"2"}],editFormRules:{newStatus:[{required:!0,message:"Please select content",trigger:"change"}],reason:[{required:!0,message:"Please enter content",trigger:"blur"}]},operatorId:""}},watch:{curStatus:{handler(e){this.editForm.oldStatus=e}},receiverIdentityId:{handler(e){this.editForm.receiverIdentityId=e}},editStatusVisible:{handler(e){e&&this.getStatusList(this.curStatus)}}},methods:{showStatus(e){return u["c"][e]||"-"},getStatusList(e){this.newStatusList=[],e&&Object(d["v"])({statusCode:e}).then(e=>{e.header&&e.header.success&&e.statusList.length>0&&e.statusList.forEach(e=>{this.newStatusList.push({value:e.code,label:e.name})})})},resetFormFields(){this.$refs["editForm"].resetFields(),this.$emit("update:editStatusVisible",!1),this.$emit("update:curStatus",""),this.$emit("update:receiverIdentityId","")},closeEdit(){this.resetFormFields()},editSubmit(){this.$refs["editForm"].validate(e=>{if(e){let e={...this.editForm};Object(d["x"])(e).then(e=>{if(this.$emit("update:editStatusVisible",!1),e.header&&e.header.success){this.resetFormFields();let t="Status edited successfully.";e.header.responseDesc&&(t=e.header.responseDesc),this.$message.success(t),this.$emit("changSearch",!0)}else{let t="Status edited failed.";t=e.header&&e.header.responseDesc?e.header.responseDesc:e.errorMessage||t,this.$message.error(t),this.$emit("update:editStatusVisible",!1)}}).catch(()=>{this.$emit("update:editStatusVisible",!1)})}})}}},g=h,m=(o("5a5f"),o("2877")),p=Object(m["a"])(g,l,c,!1,null,"556ee47f",null),f=p.exports,b=o("8f48"),C=o("02e3"),y=o("7c5e"),S=o("9a16"),k=function(){var e=this,t=e._self._c;return t("portal-dialog",{attrs:{title:e.$t("IDC.organization.dialogRegion.dialogTitle")+"",visible:e.visible,"append-to-body":"","destroy-on-close":"",top:"12vh",width:"560px"},on:{"update:visible":function(t){e.visible=t},"cancel-btn-click":e.cancel,"closed-dialog":e.cancel,"confirm-btn-click":e.confirm,opened:e.onOpen},scopedSlots:e._u([{key:"content",fn:function(){return[t("div",{staticClass:"select_tree_container"},[t("el-input",{attrs:{clearable:"",size:"small","suffix-icon":"el-icon-search"},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),t("el-tree",{ref:"regionTree",class:{"single-check":e.singleCheck},attrs:{data:e.regions,"default-checked-keys":e.checkedKeys,"default-expanded-keys":e.checkedKeys,"filter-node-method":e.nodeFilter,indent:26,props:e.defaultProps,accordion:"","check-strictly":"","highlight-current":"","node-key":"regionId","show-checkbox":""},on:{check:e.checkNode}})],1)]},proxy:!0}])})},v=[],I=o("8ac9"),D=o("3cf3"),w=o("c004"),N={name:"DialogRegion",components:{PortalDialog:I["a"]},mixins:{},props:{showDialog:{type:Boolean,default:!1},initCheck:{type:String,default:()=>""},singleCheck:{type:Boolean,default:!0}},data(){return{checkedKeys:[],defaultExpandedKeys:[],defaultProps:{children:"regionInfoTreeDatas",label:"regionName"},item:{},regions:[],searchText:"",visible:!1}},computed:{},watch:{searchText(e){this.$refs.regionTree.filter(e)},showDialog(e){this.visible=e}},filter:{},created:function(){this.loadRegions()},activated:function(){},mounted:function(){},methods:{loadRegions(){Object(D["f"])().then(e=>{const{header:t}=e;if(t&&t.success){const{regionInfoTreeDatas:{regionInfoTreeDatas:t=[]}}=e;Object(w["t"])(t),this.$set(this.item,"regionCode2FullNameMap",Object(w["p"])(t)),this.regions=t}})},cancel(){this.closeDialog()},checkAllParent(e,t){for(let o in e){if(e[o].regionId===t)return[e[o].regionId];if(e[o].regionInfoTreeDatas){let i=this.checkAllParent(e[o].regionInfoTreeDatas,t);if(i)return i.concat(e[o].regionId)}}},checkNode(e){let t=this.checkedKeys.includes(e.regionId);if(this.singleCheck)this.checkedKeys=t?[]:[e.regionId];else{let o=this.checkAllParent(this.regions,e.regionId);this.checkedKeys=t?o.slice(1):o}this.$refs.regionTree.setCheckedKeys(this.checkedKeys)},confirm(){const e=this.$refs.regionTree.getCheckedNodes(!1,!1);if(e&&e.length){const t=e[e.length-1];this.$emit("confirm",t)}else this.$emit("confirm",null);this.closeDialog(!1)},closeDialog(e=!0){e&&this.reset(!1),this.$emit("update:show-dialog",!1)},nodeFilter(e,t){if(!e)return!0;let o=e.toLowerCase(),i=t[this.defaultProps.label].toLowerCase();return-1!==i.indexOf(o)},onOpen(){this.restore()},reset(e=!0){this.searchText="",this.restore(),e&&this.search()},restore(){this.initCheck?this.checkedKeys=this.singleCheck?[this.initCheck]:this.checkAllParent(this.regions,this.initCheck)||[]:this.checkedKeys=[],this.$refs.regionTree.setCheckedKeys(this.checkedKeys)},search(){this.searching=!0}}},F=N,O=(o("2419"),Object(m["a"])(F,k,v,!1,null,"2ace6a80",null)),z=O.exports,$=o("df7c8"),_=o("0360"),R={name:"OrganizationList",components:{DialogProduct:S["a"],DialogRegion:z,OrgEditStatus:f,PortalForm:a["a"],PortalHeader:r["a"],PortalShortCode:b["a"],PortalTable:n["a"],PortalDialog:I["a"]},data(){return{checkedProduct:[],statusDialogVisible:!1,oldStatus:"",receiverIdentityId:"",isSearching:!1,titleConfig:{title:"Organization",desc:"You can query organizations based on organization information and select a record in the query result to access the organization management page."},orgForm:{city:"%",organizationName:"%",productId:null,regionId:"",regionName:"",shortCode:"",sortAcs:"Ascending",sortingQueryResultsBy:"",status:"",tillMsisdn:""},orgFormRules:{city:[C["v"]],organizationName:[C["v"]],shortCode:[C["l"],C["v"]],tillMsisdn:[C["w"]]},paginationConfig:{total:0,pageNo:1,pageSize:10},orgColumns:[{label:this.$t("IDC.organization.table.identityID"),prop:"organizationId","sort-method":(e,t)=>e.organizationId>t.organizationId?1:-1,"min-width":220},{label:this.$t("IDC.organization.table.organizationShortCode"),prop:"shortCode","sort-method":(e,t)=>e.shortCode>t.shortCode?1:-1,width:220},{label:this.$t("IDC.organization.table.organizationName"),prop:"organizationName","sort-method":(e,t)=>e.organizationName>t.organizationName?1:-1,"min-width":200},{label:this.$t("IDC.organization.table.status"),prop:"status","sort-method":(e,t)=>e.status>t.status?1:-1,__slotName:"status","min-width":120},{label:this.$t("IDC.organization.table.region"),prop:"region","sort-method":(e,t)=>e.region>t.region?1:-1,"min-width":100},{label:this.$t("IDC.organization.table.city"),prop:"city","sort-method":(e,t)=>e.city>t.city?1:-1,"min-width":100},{__slotName:"operation",label:this.$t("IDC.organization.table.operation"),width:120,fixed:"right"}],showShortCodeDialog:!1,showOrganizationDialog:!1,showProductDialog:!1,showRegionDialog:!1,closeOrgFormData:{remark:""},closeOrgFormRules:{remark:[C["p"]]},closeDialogVisible:!1,confirmLoading:!1,closeDialogContent:"",closeShortCode:"",closeOrgName:"",closeOrgId:"",showCloseBtnArr:["03","04","05","08"],closeOldStatus:""}},computed:{formConfigList(){return[{bind:{clearable:!0,"popper-append-to-body":!1,placeholder:this.$t("common.placeholder.enter"),"min-width":"500px"},comp:"el-input",formItemClass:"form-more-select-box",key:"shortCode",label:this.$t("IDC.organization.organizationShortCode"),options:[],prop:"shortCode",slots:[{name:"append",comp:"el-link",class:"short-code-icon",bind:{icon:"el-icon-more",underline:!1},event:{click:()=>{this.showShortCodeDialog=!0},change:()=>{}}}]},{bind:{clearable:!0,placeholder:this.$t("common.placeholder.enter")},comp:"el-input",event:{change:()=>{}},key:"organizationName",label:this.$t("IDC.organization.organizationName"),prop:"organizationName"},{bind:{clearable:!0,"popper-append-to-body":!1,placeholder:this.$t("common.placeholder.select"),readonly:!0},event:{focus:()=>{this.showProductDialog=!0}},comp:"el-input",formItemClass:"form-more-select-box",key:"productName",label:this.$t("IDC.organization.product"),options:[],prop:"productName",slots:[{name:"append",comp:"el-link",class:"short-code-icon",bind:{icon:"el-icon-more",underline:!1},event:{click:()=>{this.showProductDialog=!0}}}]},{bind:{clearable:!0,placeholder:this.$t("common.placeholder.select")},comp:"el-select",event:{change:()=>{}},key:"status",label:this.$t("IDC.organization.status"),options:[{label:"All",value:""},{label:"Active",value:"03"},{label:"Closed",value:"06"},{label:"Dormant",value:"08"},{label:"Frozen",value:"05"},{label:"New",value:"00"},{label:"Suspended",value:"04"}]},{bind:{clearable:!0,"popper-append-to-body":!1,placeholder:this.$t("common.placeholder.select"),readonly:!0},comp:"el-input",event:{change:e=>{e||(this.orgForm.regionId=null)},focus:()=>{this.showRegionDialog=!0}},formItemClass:"form-more-select-box",key:"regionName",label:this.$t("IDC.organization.region"),options:[],prop:"regionName",slots:[{name:"append",comp:"el-link",class:"short-code-icon",bind:{icon:"el-icon-more",underline:!1},event:{click:()=>{this.showRegionDialog=!0}}}]},{bind:{clearable:!0,placeholder:this.$t("common.placeholder.enter")},comp:"el-input",key:"city",label:this.$t("IDC.organization.city"),prop:"city"},{bind:{placeholder:this.$t("common.placeholder.enter"),prop:"tillMsisdn"},clearable:!0,comp:"el-input",key:"tillMsisdn",label:this.$t("IDC.organization.tillMSISDN")}]},statusStyle(){return e=>{switch(e){case"03":return{"background-color":"#658DF9"};case"06":return{"background-color":""+this.GlobalStyleVariables.fillStrongColor};case"07":return{"background-color":""+this.GlobalStyleVariables.statusSuccessColor};case"00":return{"background-color":"#658DF9"};case"02":return{"background-color":""+this.GlobalStyleVariables.statusSuccessColor};case"04":return{"background-color":""+this.GlobalStyleVariables.statusSuccessColor};case"05":return{"background-color":""+this.GlobalStyleVariables.fillStrongColor};case"08":return{"background-color":""+this.GlobalStyleVariables.fillStrongColor};default:return}}}},mounted(){},methods:{changSearch(e){this.isSearching=e},showEditDialog(e){this.receiverIdentityId=e.organizationId,this.oldStatus=e.status,this.statusDialogVisible=!0},async loadProducts(e){e.identitySubType="5001";let t=await Object(d["I"])(e);return t.header.success&&(t.totalRecords=t.total),t},onSortByChange(){},searchBtnClickHandle(){const{shortCode:e,organizationName:t,regionId:o,status:i,productId:s,city:a,tillMsisdn:r}=this.orgForm,n=e||t||o||i||s||a;if(n&&r){const e="When the till MSISDN is used as the search criterion, other search criteria should not be used.";this.$alert(e,"System Info",{confirmButtonText:"Confirm"})}else this.isSearching=!0,this.paginationConfig.pageIndex=1},async orgFormValidate(){try{let e={shortCode:this.orgForm.shortCode,organizationName:this.orgForm.organizationName,city:this.orgForm.city,status:this.orgForm.status,productId:this.orgForm.productId,tillMsisdn:this.orgForm.tillMsisdn,region:this.orgForm.regionName};return Object(C["a"])(e)?await this.$refs["orgForm"].validate():(this.$modal.msgError("Enter at least one query condition."),this.isSearch=!1,void(this.searchLoading=!1))}catch(e){return!1}},async getTableData(){const e=await this.orgFormValidate();if(!e)return this.isSearching=!1,{header:{success:!0},totalRecords:0,list:[]};let t,o={};Object.assign(o,this.orgForm),delete o.regionName,this.orgForm.sortingQueryResultsBy?o.sortAcs="Ascending"===this.orgForm.sortAcs:o.sortAcs=!0,o.pageNo=this.paginationConfig.pageIndex,o.pageSize=this.paginationConfig.pageSize;try{t=await Object(d["G"])(o),t.totalRecords||(t.totalRecords=t.totalRecord||0)}catch(i){t={header:{success:!1}}}finally{this.isSearching=!1}return t},scanOrgDetail(e){let{organizationId:t,parentId:o,organizationName:i,parentShortCode:s}=e;if(!e||!e.organizationId)return;o&&sessionStorage.setItem(t,JSON.stringify({organizationName:i,parentShortCode:s}));const a=e.organizationId,r={id:a,identityId:a,organizationId:a,propShortCode:e.shortCode};this.openNewWindow({path:"detail",query:{data:encodeURIComponent(JSON.stringify(r))}})},gotoCreatePage(){this.openNewWindow({path:"create"})},orgFormField(){this.$refs["orgForm"].resetFields()},showAllowedEditIcon(e){return Object(y["e"])(e)},showStatus(e){return Object(y["c"])(e)},updateRegion(e){this.orgForm.regionId=e&&e.regionId||"",this.orgForm.regionName=e&&e.regionName||""},updateProduct(e){e&&e.length?(this.orgForm.productId=e[0].productIndex,this.orgForm.productName=e[0].productName):(this.orgForm.productId="",this.orgForm.productName="")},handleClose(e){this.oldStatus=e.status,this.closeOrgId=e.organizationId,this.closeShortCode=e.shortCode,this.closeOrgName=e.organizationName,this.closeOldStatus=e.status,this.closeDialogContent=`Are you sure to close the organization "${e.shortCode} - ${e.organizationName}" ?`,this.closeDialogVisible=!0},closeOrgDialog(){this.closeDialogVisible=!1,this.closeOrgFormData.remark=""},submitClose(){this.$refs.formRef.validate(e=>{if(e){const e={receiverIdentityId:this.closeOrgId,remark:this.closeOrgFormData.remark,oldStatus:this.oldStatus,newStatus:"06"};this.confirmLoading=!0,Object(d["k"])(e).then(e=>{e.header&&e.header.success&&(this.isSearching=!0,this.closeDialogVisible=!1,e.taskId?this.$message.success("The request must be approved by another operator."):this.$message.success(`Organization "${this.closeShortCode} - ${this.closeOrgName}" closed successfully.`))}).finally(()=>{this.isSearching=!1,this.confirmLoading=!1,this.closeShortCode===_["default"].get("initiatorShortCode")&&this.$confirm(`Organization ${this.closeShortCode} - ${this.closeOrgName} closed successfully. You will be forced to exit.`,"System Info",{confirmButtonText:"Confirm",showCancelButton:!1,showClose:!1}).then(()=>{Object($["g"])().then(e=>{e&&e.header.success&&(this.$router.push({path:"/login"}),this.$store.dispatch("baseStore/setLogoutVisible",!1))})})})}})},showCloseBtn(e){return!!this.showCloseBtnArr.includes(e.status)}}},E=R,A=(o("e6b3"),Object(m["a"])(E,i,s,!1,null,"3824b766",null));t["default"]=A.exports},"6c23":function(e,t,o){},"6cbc":function(e,t,o){"use strict";o("405a")},"7c5e":function(e,t,o){"use strict";o.d(t,"b",(function(){return s})),o.d(t,"c",(function(){return a})),o.d(t,"e",(function(){return r})),o.d(t,"a",(function(){return n})),o.d(t,"d",(function(){return l}));var i=o("d8d3");const s={NEW:"00",PENDING_ACTIVE:"02",ACTIVE:"03",SUSPENDED:"04",FROZEN:"05",CLOSED:"06",CAPPED:"07",DORMANT:"08"};function a(e){return i["c"][e]||"-"}function r(e){const t={[s.ACTIVE]:"ACTIVE",[s.SUSPENDED]:"SUSPENDED",[s.FROZEN]:"FROZEN"};return t[e]}const n={CAN_MAKE_AGGREGATOR:"0000",CAN_MAKE_OWNED:"0001",CAN_MAKE_ALLTYPE:"0002",NONEHIERARCHY:"0003",AGGREGATOR:"0100",CENTRAL_OWNED:"0101"},l=e=>{switch(e){case n.CAN_MAKE_AGGREGATOR:return"Can Make Aggregator";case n.CAN_MAKE_OWNED:return"Can Make Owned";case n.CAN_MAKE_ALLTYPE:return"Can Make AllType";case n.NONEHIERARCHY:return"NoneHierarchy";case n.AGGREGATOR:return"Aggregator";case n.CENTRAL_OWNED:return"Central Owned";default:return}}},"9a16":function(e,t,o){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("el-dialog",{attrs:{title:e.$t("IDC.organization.dialogProduct.dialogTitle")+"",visible:e.visible,width:"800px","close-on-click-modal":!1,"before-close":e.cancel},on:{"update:visible":function(t){e.visible=t}}},[t("div",{staticClass:"container-condition"},[t("el-form",{ref:"condition",class:["add-form","form-flex-container"],attrs:{size:"small",model:e.condition,"label-position":"top"},nativeOn:{submit:function(e){e.preventDefault()}}},[t("el-form-item",{attrs:{label:e.$t("IDC.organization.dialogProduct.productName")+"",prop:"operatorName"}},[t("el-input",{attrs:{size:"small",placeholder:"Please enter"},on:{focus:()=>{}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(()=>{}).apply(null,arguments)}},model:{value:e.condition.productName,callback:function(t){e.$set(e.condition,"productName","string"===typeof t?t.trim():t)},expression:"condition.productName"}})],1)],1),t("div",{staticClass:"condition-options"},[t("el-button",{attrs:{plain:"",size:"small"},on:{click:e.reset}},[e._v(e._s(e.$t("common.button.reset")))]),t("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{plain:"",size:"small",type:"primary"},on:{click:e.search}},[e._v(e._s(e.$t("common.button.search"))+" ")])],1)],1),t("div",{staticClass:"container-products"},[t("table-page",{attrs:{columns:e.columns,"get-table-data":e.loadData,"init-checks":e.checks,"is-check":!0,"is-search":e.searching,"is-single-check":!0,pagination:e.pagination,"id-key":"productIndex",id:"table",size:"small"},on:{"selection-change":e.onSelectionChange,"single-selection-change":e.onSingleSelectionChange}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("div",{staticClass:"option-buttons"},[t("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{size:"small",type:"primary"},on:{click:e.confirm}},[e._v(e._s(e.$t("common.button.confirm"))+" ")]),t("el-button",{attrs:{plain:"",size:"small"},on:{click:e.cancel}},[e._v(e._s(e.$t("common.button.cancel")))])],1)])])],1)},s=[],a=o("4c09"),r={name:"DialogProduct",components:{TablePage:a["a"]},mixins:{},props:{check:{type:Boolean,default:!1},checked:{type:Object,default:()=>({})},singleCheck:{type:Boolean,default:!1},visible:{type:Boolean,default:!1},dataLoader:{type:Function,default:()=>{}}},data(){return{checks:[],condition:{productName:""},searching:!1}},computed:{columns(){return[{label:this.$t("IDC.organization.dialogProduct.productName"),prop:"productName",align:"left","sort-method":(e,t)=>e.productName>t.productName?1:-1},{label:this.$t("common.label.description"),prop:"description",align:"left"}]},pagination(){return{pageIndex:1,pageSize:10,layout:"total, prev, pager, next"}}},watch:{checked(e){e&&e.productName?this.checks=[{productIndex:e.productId,productName:e.productName}]:this.checks=[]}},filter:{},created:function(){},activated:function(){},mounted:function(){},methods:{cancel(){this.closeDialog()},confirm(){this.$emit("confirm",this.checks),this.closeDialog(!1)},closeDialog(e=!0){e&&this.reset(!1),this.$emit("update:visible",!1)},async loadData(e){if(Object.assign(e,this.condition),this.dataLoader){let o;try{o=await this.dataLoader(e)}catch(t){o={header:{success:!1}}}finally{this.searching=!1}return o}},onSelectionChange(e){this.checks=e},onSingleSelectionChange(e){this.checks=[e]},reset(e=!0){this.condition.productName="",this.pagination.pageIndex=1,e&&this.search()},search(){this.searching=!0}}},n=r,l=(o("6cbc"),o("2877")),c=Object(l["a"])(n,i,s,!1,null,"128da0fc",null);t["a"]=c.exports},e6b3:function(e,t,o){"use strict";o("6c23")},e6fa:function(e,t,o){}}]);
//# sourceMappingURL=chunk-0ebcff32.js.map