(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cc3098b2"],{"02e3":function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"y",(function(){return r})),a.d(t,"z",(function(){return o})),a.d(t,"w",(function(){return c})),a.d(t,"f",(function(){return s})),a.d(t,"u",(function(){return l})),a.d(t,"v",(function(){return d})),a.d(t,"x",(function(){return u})),a.d(t,"g",(function(){return h})),a.d(t,"s",(function(){return m})),a.d(t,"n",(function(){return g})),a.d(t,"r",(function(){return p})),a.d(t,"j",(function(){return f})),a.d(t,"l",(function(){return C})),a.d(t,"q",(function(){return v})),a.d(t,"m",(function(){return b})),a.d(t,"p",(function(){return S})),a.d(t,"k",(function(){return y})),a.d(t,"i",(function(){return k})),a.d(t,"h",(function(){return O})),a.d(t,"t",(function(){return L})),a.d(t,"d",(function(){return x})),a.d(t,"o",(function(){return w})),a.d(t,"a",(function(){return F})),a.d(t,"b",(function(){return T}));let n={required:!0,message:"Please enter content",trigger:"blur"},i={required:!0,message:"Please check content",trigger:"blur"},o={required:!0,message:"Please select content",trigger:"change"},r={pattern:/^[0-9a-zA-Z]*$/,message:"Must be number and letters.",trigger:"blur"},s={pattern:/^[+-]?[0-9]*$/,message:"Must be integer number.",trigger:"blur"},l={pattern:/[0-9]{4}/,message:"The MSISDN must contain at least 4 dligits",trigger:"blur"},c={pattern:/^[^@~`！!#$%^*（）()\-+=|,/<>《》?？;':\"“\[\]{}\\&]*$/,message:"Cannot contain special characters (~`!#$%^*()-+=|,/<>?;':\"[]{}\\&)",trigger:"blur"},d={pattern:/^[^@~`！!#$^*（）()\-+=|,/<>《》?？;':\"“\[\]{}\\&]*$/,message:"Cannot contain special characters (~`!#$^*()-+=|,/<>?;':\"[]{}\\&)",trigger:"blur"},u={pattern:/^[\w- ]+$/,message:"Please do not enter any special characters.",trigger:"blur"};x({minLen:0,maxLen:11});const h=x({minLen:0,maxLen:18}),m=(x({minLen:3,maxLen:3}),x({minLen:6,maxLen:16})),g=(x({minLen:8,maxLen:10}),x({minLen:8,maxLen:11}),x({minLen:4,maxLen:12})),p=x({minLen:6,maxLen:12}),f=x({minLen:0,maxLen:19}),C=x({minLen:0,maxLen:24}),v=x({minLen:0,maxLen:64}),b=(x({minLen:0,maxLen:100}),x({minLen:0,maxLen:256})),S=x({minLen:0,maxLen:512}),y=(x({minLen:8,maxLen:50}),x({minLen:1,maxLen:18})),k=x({minLen:0,maxLen:32}),O=x({minLen:0,maxLen:30}),L=x({minLen:9,maxLen:18});x({minLen:2,maxLen:256});function x({minLen:e=0,maxLen:t=100}){let a="";return a=e>0?`Must be between ${e} and ${t} characters`:`Must be less than ${t} characters`,{min:e,max:t,message:a,trigger:"blur"}}const w=x({minLen:0,maxLen:4});function F(e){let t=[];for(let a in e)e[a]&&e[a].toString().startsWith("%")&&1===e[a].length||!e[a]?t.push(!1):t.push(!0);return!t.every(e=>!1===e)}function T(e){return{validator:(t,a,n)=>{a&&a.startsWith("%")&&1===a.length?n(new Error(""+e)):n()},trigger:"blur"}}},"034d":function(e,t,a){},"2fa8":function(e,t){e.exports="data:image/png;base64,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"},4865:function(e,t,a){"use strict";a.d(t,"r",(function(){return o})),a.d(t,"s",(function(){return r})),a.d(t,"g",(function(){return s})),a.d(t,"u",(function(){return l})),a.d(t,"n",(function(){return c})),a.d(t,"l",(function(){return d})),a.d(t,"m",(function(){return u})),a.d(t,"a",(function(){return h})),a.d(t,"A",(function(){return m})),a.d(t,"v",(function(){return g})),a.d(t,"c",(function(){return p})),a.d(t,"w",(function(){return f})),a.d(t,"y",(function(){return C})),a.d(t,"x",(function(){return v})),a.d(t,"t",(function(){return b})),a.d(t,"o",(function(){return S})),a.d(t,"j",(function(){return y})),a.d(t,"d",(function(){return k})),a.d(t,"z",(function(){return O})),a.d(t,"k",(function(){return L})),a.d(t,"f",(function(){return x})),a.d(t,"q",(function(){return F})),a.d(t,"p",(function(){return T})),a.d(t,"B",(function(){return A})),a.d(t,"h",(function(){return _})),a.d(t,"b",(function(){return D})),a.d(t,"e",(function(){return B})),a.d(t,"i",(function(){return P}));var n=a("0bbd"),i=a("5f9a");function o(e){return Object(n["a"])({url:"/fintech/v1/orgOperator/queryOrgOperatorList",method:"post",data:e})}function r(e){return Object(n["a"])({url:Object(i["a"])("/fintech/v1/organization/list",e),method:"get"})}function s(e){return Object(n["a"])({url:Object(i["a"])("/fintech/v1/orgOperator/changeStatus"),method:"post",data:e})}function l(e){return Object(n["a"])({url:Object(i["a"])("/fintech/v1/orgOperator/status",e),method:"get"})}function c(e){return Object(n["a"])({url:Object(i["a"])("/fintech/v1/orgOperator/closeOrgOperator"),method:"post",data:e})}function d(e){return Object(n["a"])({url:"/fintech/v1/identity/verify/"+e,method:"post",data:{}})}function u(e){return Object(n["a"])({url:"/fintech/v1/identity/verify/userName",method:"post",data:e})}function h(e){return Object(n["a"])({url:"/fintech/v1/orgOperator/create",method:"post",data:e})}function m(e){return Object(n["a"])({url:"/fintech/v1/orgOperator/roles",method:"post",data:e})}function g(e){return Object(n["a"])({url:Object(i["a"])("/fintech/v1/orgOperator/detail",e),method:"get"})}function p(e){return Object(n["a"])({url:"/fintech/v1/orgOperator/changeIdentityLanguage",method:"post",data:e})}function f(e){return Object(n["a"])({url:"/fintech/v1/orgOperator/pin/reset",method:"post",data:e})}function C(e){return Object(n["a"])({url:"/fintech/v1/orgOperator/pin/unlock",method:"post",data:e})}function v(e){return Object(n["a"])({url:"/fintech/v1/orgOperator/pin/setPassword",method:"post",data:e})}function b(e){return Object(n["a"])({url:"/fintech/v1/orgOperator/getOrgOperatorRuleProfile",method:"post",data:e})}function S(e){return Object(n["a"])({url:"/fintech/v1/orgOperator/getRule",method:"get",data:e})}function y(e){return Object(n["a"])({url:"/fintech/v1/orgOperator/checkMsisdn",method:"post",data:e})}function k(e){return Object(n["a"])({url:"/fintech/v1/orgOperator/changeMsisdn",method:"post",data:e})}function O(e){return Object(n["a"])({url:"/fintech/v1/orgOperator/resetPassword",method:"post",data:e})}function L(e){return Object(n["a"])({url:"/fintech/v1/identity/verify/operatorId",method:"post",data:e})}function x(e){return Object(n["a"])({url:"/fintech/v1/orgOperator/changeOrgOperatorRuleProfile",method:"post",data:e})}const w="/fintech/v1/notification_type";function F(e){return Object(n["a"])({url:Object(i["a"])(w+"/list",e),method:"get"})}function T(e){return Object(n["a"])({url:`${w}/queryInfo?typeId=${e}`,method:"get"})}function A(e){return Object(n["a"])({url:"/fintech/v1/notification/send",method:"post",data:e})}function _(e){return Object(n["a"])({url:"fintech/v1/orgOperator/checkAPIPasswordFormat",method:"post",data:e})}function D(e){return Object(n["a"])({url:"fintech/v1/orgOperator/changeAuthentication",method:"post",data:e})}function B(e){return Object(n["a"])({url:Object(i["a"])("/fintech/v1/changeOrgOperatorRole"),method:"post",data:e})}function P(e){return Object(n["a"])({url:"/fintech/v1/orgOperator/checkInputKyc",method:"post",data:e})}},6198:function(e,t,a){"use strict";a("bfbd")},6226:function(e,t,a){e.exports={activeMenuColor:"#366bfc",primaryColor:"#366bfc",menuColor:"#5c5c5c",fillEmphasisColor:"#5c5c5c",fillLightColor:"#fafafa",fillStrongColor:"#c7c7c7",fillRegularColor:"#f0f0f0",fillColorDark:"#e0e0e0",lineStrongColor:"#8f8f8f",textEmphasisColor:"#282828",backgroundColor:"#fff",statusErrorColor:"#ff4040",statusSuccessColor:"#27bf88",statusColorwarning:"#ff7420",statusColorSAecondaryWarning:"#faaf0c",statusNoticeColor:"#338bff",statusDark:"#c7c7c7",initialColor:"#E0E0E0",statusNoticeBackgroundColor:"#F0F9FF",statusErrorBackgroundColor:"#FFF2F0",statusSuccessBackgroundColor:"#F0FFF7",statusSecondaryWarningBackgroundColor:"#FFFBE6",statusWarningBackgroundColor:"#FFF6E6",statusDarkBackgroundColor:"#FAFAFA",lineColorBlue:"#ADD9FF",lineColorError:"#FFC1BA",lineColorGreen:"#A5E6C6",lineColorWarning:"#FFF7ed"}},"64e7":function(e,t,a){"use strict";var n=a("0360"),i=a("5c96");t["a"]={downLoadFile:function(e,t,a,o){let r=new XMLHttpRequest;r.open(a||"POST",e,!0),r.setRequestHeader("Content-type","application/json"),o&&r.setRequestHeader("X-XSRF-TOKEN",n["default"].get("O-XSRF-TOKEN")),r.setRequestHeader("o-token",n["default"].get("o-token")),r.setRequestHeader("Cache-Control","no-store, max-age=0, must-revalidate"),r.responseType="blob",r.onload=function(){if(200===this.status){let e=this.response,t=r.getResponseHeader("content-disposition").split(";")[1].split("filename=")[1],a=decodeURIComponent(t),n=URL.createObjectURL(e),i=document.createElement("a");i.href=n,i.download=a,i.click()}else i["MessageBox"].alert("Download failed.","Error",{type:"error",confirmButtonText:"Confirm"})},r.send(JSON.stringify(t))}}},"67d5":function(e,t,a){"use strict";a("034d")},"8a67":function(e,t,a){"use strict";a("e3d0")},9981:function(e,t,a){"use strict";var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"create-success"},[e._m(0),e.iconText?t("div",{staticClass:"icon-text"},[e._v(e._s(e.iconText))]):e._e(),t("div",{staticClass:"success-info"},[e._v(e._s(e.successText))]),e.tip?t("div",{staticClass:"success-tip"},[e._v(e._s(e.tip))]):e._e(),t("div",{staticClass:"success-operate"},[t("span",{staticClass:"success-operate__pretext"},[e._v("You can:")]),e.detailText?t("span",{staticClass:"view-detail operate-btn",attrs:{id:"viewDetail"},on:{click:e.handleViewDetail}},[e._v(" "+e._s(e.detailText)+" ")]):e._e(),t("span",{staticClass:"operate-btn",attrs:{id:"continueAdd"},on:{click:e.handleContinueAddClick}},[e._v(e._s(e.addText))])])])},i=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"check-icon"},[t("i",{staticClass:"el-icon-a-create-successsmall success-icon"})])}],o={name:"PortalCreateSuccess",props:{iconText:{type:String,default:""},successText:{type:String,default:"created successfully."},detailText:{type:String,default:"View Detail >>"},addText:{type:String,default:"Continue to Add >>"}},data(){return{tip:""}},methods:{handleViewDetail(){this.$emit("view-detail")},handleContinueAddClick(){this.$emit("continue-add")}}},r=o,s=(a("6198"),a("2877")),l=Object(s["a"])(r,n,i,!1,null,"c62ed3d4",null);t["a"]=l.exports},"9cd1":function(e,t,a){"use strict";a("6226")},"9cfe":function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return r})),a.d(t,"h",(function(){return s})),a.d(t,"a",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"c",(function(){return d})),a.d(t,"g",(function(){return u}));var n=a("0bbd");function i(e){return Object(n["a"])({url:"/fintech/v1/settlement/revenue/org/queryOrgRevenuePlans",method:"post",data:e})}function o(e){return Object(n["a"])({url:"/fintech/v1/settlement/revenue/org/queryOrgRevenuePlanDetail",method:"post",data:e})}function r(e){return Object(n["a"])({url:"/fintech/v1/settlement/revenue/org/execOrgAutoSweep",method:"post",data:e})}function s(e){return Object(n["a"])({url:"/fintech/v1/workflow/process/details",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/fintech/v1/workflow/mytask/task/batchProcess",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/fintech/v1/settlement/dict/query",method:"post",data:e})}function d(){return Object(n["a"])({url:"/fintech/v1/trust/currencyDisplay/query",method:"get"})}function u(e){return Object(n["a"])({url:"/fintech/v1/settlement/revenue/org/queryOrgAndProfile",method:"post",data:e})}},a1b9:function(e,t,a){e.exports={activeMenuColor:"#366bfc",primaryColor:"#366bfc",menuColor:"#5c5c5c",fillEmphasisColor:"#5c5c5c",fillLightColor:"#fafafa",fillStrongColor:"#c7c7c7",fillRegularColor:"#f0f0f0",fillColorDark:"#e0e0e0",lineStrongColor:"#8f8f8f",textEmphasisColor:"#282828",backgroundColor:"#fff",statusErrorColor:"#ff4040",statusSuccessColor:"#27bf88",statusColorwarning:"#ff7420",statusColorSAecondaryWarning:"#faaf0c",statusNoticeColor:"#338bff",statusDark:"#c7c7c7",initialColor:"#E0E0E0",statusNoticeBackgroundColor:"#F0F9FF",statusErrorBackgroundColor:"#FFF2F0",statusSuccessBackgroundColor:"#F0FFF7",statusSecondaryWarningBackgroundColor:"#FFFBE6",statusWarningBackgroundColor:"#FFF6E6",statusDarkBackgroundColor:"#FAFAFA",lineColorBlue:"#ADD9FF",lineColorError:"#FFC1BA",lineColorGreen:"#A5E6C6",lineColorWarning:"#FFF7ed"}},bfbd:function(e,t,a){},d3d3:function(e,t,a){"use strict";var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"footer-tap-button"},[t("div",{staticClass:"footer-tap-content",class:{"has-sidebar":e.hasSidebar}},[e.showCancel?t("el-button",{attrs:{id:"reset",type:"primary",plain:"",size:"small"},on:{click:e.resetHndle}},[e._v(e._s(e.$t("common.button.cancel")))]):e._e(),e.showCancel||e.hasOnlySubmitBtn?e._e():t("el-button",{attrs:{id:"reset",type:"primary",plain:"",size:"small"},on:{click:e.resetHndle}},[e._v(e._s(e.$t("common.button.reset")))]),e.showPrevious?t("el-button",{attrs:{id:"previous",size:"small",type:"primary",plain:""},on:{click:e.previousHandle}},[e._v(e._s(e.$t("common.button.prevent"))+" ")]):e._e(),e.showNext?t("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{id:"next",size:"small",type:"primary",disabled:e.submitDisabled,loading:e.submitLoading},on:{click:e.nextHandle}},[e._v(e._s(e.$t("common.button.next")))]):t("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{id:"Submit",size:"small",type:"primary",disabled:e.submitDisabled,loading:e.submitLoading},on:{click:e.submitHanle}},[e._v(" "+e._s(e.$t("common.button.submit"))+" ")])],1)])},i=[],o={name:"footer-tap-button",props:{activeName:{type:String,default:""},steps:{type:Array,default:()=>[]},submitLoading:{type:Boolean,default:!1},submitDisabled:{type:Boolean,default:!1},showCancel:{type:Boolean,default:!1},hasSidebar:{type:Boolean,default:!1},hasOnlySubmitBtn:{type:Boolean,default:!1}},data(){return{inputeValue:"",showQuickLinks:!1}},computed:{showNext(){const{steps:e,activeName:t}=this;return e.length&&e[e.length-1].name!==t},showPrevious(){const{steps:e,activeName:t}=this;return e.length&&e[0].name!==t}},methods:{resetHndle(){this.$emit("reset")},nextHandle(){this.$emit("next")},previousHandle(){this.$emit("previous")},submitHanle(){this.$emit("submit")}}},r=o,s=(a("67d5"),a("9cd1"),a("2877")),l=Object(s["a"])(r,n,i,!1,null,"6b579326",null);t["a"]=l.exports},e0d3:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("div",[e.isListPage?t("div",{staticClass:"commission-wrapper"},[t("portal-header",{attrs:{projectObj:e.titleConfig}}),t("div",{staticClass:"search-area"},[t("portal-form",{ref:"settlementFormRef",attrs:{"form-data":e.settlementForm,formRules:e.formRules,searchBtnDisabled:!1,"form-config-list":e.formConfigArray,searchBtnLoading:e.searchLoading},on:{"common-enter-event":e.search,"reset-btn-click":e.reset,"search-btn-click":e.search}}),t("portal-short-code",{attrs:{"invoking-flag":"createOrgOperator",searchVisible:e.searchVisible,"merchant-id":e.settlementForm.merchantId,"short-code":e.settlementForm.orgShortCode,isSelect:!0},on:{"update:searchVisible":function(t){e.searchVisible=t},"update:search-visible":function(t){e.searchVisible=t},"update:merchantId":function(t){return e.$set(e.settlementForm,"merchantId",t)},"update:merchant-id":function(t){return e.$set(e.settlementForm,"merchantId",t)},"update:shortCode":function(t){return e.$set(e.settlementForm,"orgShortCode",t)},"update:short-code":function(t){return e.$set(e.settlementForm,"orgShortCode",t)}}})],1),t("div",{staticStyle:{"padding-bottom":"16px","margin-left":"20px","margin-top":"20px"}},[t("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus",disabled:!e.hasPerm("TC_ORG_REVENUE_SETTLEMENT_INIT_BTN")},on:{click:e.toAddPage}},[e._v(" "+e._s(e.$t("BUC.revenueSettlement.initiateRevenueSettlement"))+" ")]),t("div",{staticClass:"listTable"},[t("table-page",{staticClass:"margin-top-16",staticStyle:{"padding-bottom":"16px"},attrs:{id:"table",size:"small","has-pagination":!0,isSearch:e.isSearch,columns:e.columns,initializingLoading:!0,sortArr:["planId","organizationShortCode","organizationName","settlementAccount","initiationTime","completionTime","operator","currency"],pagination:e.paginationConfig,getTableData:e.getTableData},scopedSlots:e._u([{key:"taskStatus",fn:function(a){return[t("div",{staticClass:"flex flex-align"},[t("span",{staticClass:"status-circle",style:e.statusStyle(a.data.row.statusName)}),t("span",[e._v(e._s(a.data.row.statusName))])])]}},{key:"opera",fn:function(a){return["Prepared"!==a.data.row.statusName&&"First Settlement Failed"!==a.data.row.statusName&&"Second Settlement Failed"!==a.data.row.statusName||!a.data.row.processAuth?e._e():t("el-button",{staticClass:"btn",staticStyle:{padding:"0"},attrs:{type:"text"},on:{click:function(t){return e.handleProcessClick(a.data.row)}}},[e._v(" "+e._s(e.$t("common.button.process"))+" ")]),"Completed"===a.data.row.statusName?t("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],staticClass:"btn",staticStyle:{padding:"0"},attrs:{type:"text"},on:{click:function(t){return e.handleDownloadClick(a.data.row)}}},[e._v(" "+e._s(e.$t("common.button.download"))+" ")]):e._e(),"Running"===a.data.row.statusName||"Terminated"===a.data.row.statusName||"Cancelled"===a.data.row.statusName||"Completed"===a.data.row.statusName?t("el-button",{staticClass:"btn",staticStyle:{padding:"0"},attrs:{type:"text",disabled:!e.hasPerm("TC_ORG_SETTLEMENT_HISTORY_DETAIL_BTN")},on:{click:function(t){return e.handleDetailClick(a.data.row)}}},[e._v(" "+e._s(e.$t("common.button.detail"))+" ")]):e._e()]}}],null,!1,1031381677)})],1)],1)],1):e._e(),e.isInitiate?t("div",{staticClass:"initiate-revenue-settlement"},[t("div",{staticClass:"breadcrumb"},[t("i",{staticClass:"el-icon-arrow-left arrow"}),e._v("  "),0==e.checkedList2.length?t("span",{staticClass:"firstStep",on:{click:e.toFirstStep}},[e._v(e._s(e.$t("BUC.revenueSettlement.netRevenue")))]):e._e(),0!=e.checkedList2.length?t("span",{staticClass:"firstStep",on:{click:e.toFirstStepAsk}},[e._v(e._s(e.$t("BUC.revenueSettlement.netRevenue")))]):e._e(),t("span",{staticClass:"separate"},[e._v(" / ")]),t("span",{staticClass:"secondStep"},[e._v(e._s(e.$t("BUC.revenueSettlement.pageTitleSecond")))])]),t("div",{staticClass:"color-area"},[t("div",{staticClass:"pageTitle"},[t("portal-header",{staticClass:"pageTitle",attrs:{projectObj:e.titleConfigSecond}})],1),t("div",{staticClass:"middle-content"},[t("div",{staticClass:"middle-title"},[e._v(e._s(e.$t("BUC.revenueSettlement.selectOrganizations")))]),t("el-button",{staticClass:"addBtn",attrs:{size:"small",icon:"el-icon-plus"},on:{click:function(t){return e.addBtnClick()}}},[e._v(" "+e._s(e.$t("common.button.add"))+" ")]),e.showCreateList?t("table-page",{staticClass:"margin-top-16",staticStyle:{padding:"0 20px 16px"},attrs:{id:"table",size:"small",height:"400",isSearch:e.addPageIsSearch,columns:e.addPageColumns,sortArr:["organizationShortCode","organizationName"],getTableData:e.getAddPageTableData},scopedSlots:e._u([{key:"amount",fn:function(a){return[t("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",size:"mini"},model:{value:a.data.row.expectedRevenueAmount,callback:function(t){e.$set(a.data.row,"expectedRevenueAmount",t)},expression:"scope.data.row.expectedRevenueAmount"}})]}},{key:"opera",fn:function(a){return[t("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],staticClass:"btn",staticStyle:{padding:"0"},attrs:{type:"text"},on:{click:function(t){return e.handleDeleteClick(a.data.row)}}},[e._v(" "+e._s(e.$t("common.button.delete"))+" ")])]}}],null,!1,4167515490)}):e._e()],1),t("el-dialog",{staticClass:"orgDialog",attrs:{visible:e.addDialogVisible,width:"800px",title:e.$t("BUC.revenueSettlement.dialogTitle"),"before-close":e.addDialogCancel},on:{"update:visible":function(t){e.addDialogVisible=t}}},[t("portal-form",{ref:"addDialogFormRef",staticStyle:{"padding-left":"0px","padding-right":"0px"},attrs:{bigAutoColumn:2,smallAutoColumn:2,"form-data":e.dialogSearchForm,"form-config-list":e.dialogFormConfigArray,searchBtnLoading:e.dialogSearchLoading},on:{"reset-btn-click":e.dialogReset,"search-btn-click":e.dialogSearch},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.dialogSearch.apply(null,arguments)}}}),t("table-page",{ref:"addDialogTableRef",staticClass:"margin-top-16 add-dialog",staticStyle:{"padding-bottom":"16px"},attrs:{isCheck:!0,id:"table",idKey:"organizationId",size:"small","has-pagination":!0,isSearch:e.addDialogIsSearch,columns:e.addDialogColumns,sortArr:["planId"],checkSelectable:e.isSelectable,pagination:e.addDialogPaginationConfig,getTableData:e.getAddDialogTableData},on:{"selection-change":e.handleSelectionChange},scopedSlots:e._u([{key:"opera",fn:function(a){return[t("el-button",{staticClass:"btn",staticStyle:{padding:"0"},attrs:{type:"text"},on:{click:function(t){return e.toOrgDetail(a.data.row)}}},[e._v(" "+e._s(e.$t("common.button.detail"))+" ")])]}}],null,!1,269937047)},[t("template",{slot:"emptya"},[t("div",{staticClass:"svgPic"},[t("div",{staticClass:"iconBox"},[t("img",{staticClass:"svgIcon",attrs:{src:a("2fa8"),alt:""}}),t("div",{staticClass:"noOrganization"},[e._v("No Available Organization.")]),t("div",{staticClass:"checkReason",on:{click:e.viewReasonDialog}},[e._v("Check the reason")])])])])],2),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{staticClass:"dialogCancel",attrs:{size:"small",type:"default"},on:{click:e.addDialogCancel}},[e._v("Cancel")]),t("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],staticClass:"margin-left-8 dialogConfirm",attrs:{size:"small",type:"primary"},on:{click:e.addDialogConfirm}},[e._v("Confirm")])],1)],1),t("div",{staticClass:"reasonDialog"},[t("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:"Help Center",visible:e.reasonDialogVisible,"close-on-click-modal":!1,modal:!1,width:"360px",top:"20px"},on:{"update:visible":function(t){e.reasonDialogVisible=t}}},[t("p",{staticClass:"reason-title"},[t("span",{staticStyle:{"white-space":"pre-wrap"}},[e._v("Why there is no available organizations when I initiate Revenue Settlement?")])]),t("p",{staticClass:"reason-content"},[e._v(" Before you add organizations to initiate Revenue Settlement, you have to configure Revenue Settlement for a child organization or your organization. ")]),t("p",{staticClass:"reason-title"},[e._v("How to configure Revenue Settlement for your organization?")]),t("div",{staticClass:"reason-content"},[t("div",[t("span",[e._v("1. Choose Identity ")]),t("span",{staticClass:"reasona"},[e._v("Center > My Organization.")])]),t("div",[e._v("2. Click "),t("span",{staticClass:"reasona"},[e._v("View Detail.")]),e._v(" The organization details page is displayed.")]),t("div",[e._v(" 3. Click "),t("span",{staticClass:"reasona"},[e._v("Edit")]),e._v(" on the "),t("span",{staticClass:"reasona"},[e._v("Revenue Settlement Configuration")]),e._v(" tab page to configure revenue settlement for the organization. ")])]),t("p",{staticClass:"reason-title"},[e._v("How to configure Revenue Settlement for a child organization?")]),t("div",{staticClass:"reason-content"},[t("div",[e._v("1. Choose "),t("span",{staticClass:"reasona"},[e._v("Identity > Organization.")])]),t("div",[e._v("2. Set search criteria and click "),t("span",{staticClass:"reasona"},[e._v("Search.")])]),t("div",[e._v(" 3. Click "),t("span",{staticClass:"reasona"},[e._v("Detail")]),e._v(" corresponding to the target organization. The organization details page is displayed. ")]),t("div",[e._v(" 4. Click "),t("span",{staticClass:"reasona"},[e._v("Edit")]),e._v(" on the "),t("span",{staticClass:"reasonb"},[e._v("Revenue Settlement ")]),t("span",{staticClass:"reasona"},[e._v("Configuration")]),e._v(" tab page to configure revenue settlement for the organization. ")])])])],1)],1),t("footer-tap",{attrs:{submitDisabled:e.isSubmitBtnActive&&!e.hasPerm("TC_ORG_REVENUE_SETTLEMENT_INIT_BTN"),"submit-loading":e.submitLoading,hasOnlySubmitBtn:!0,hasSidebar:!0},on:{submit:e.submitCreate}})],1):e._e(),e.isCreateSuccess?t("div",[t("div",{staticClass:"breadcrumb"},[t("i",{staticClass:"el-icon-arrow-left arrow"}),e._v("  "),t("span",{staticClass:"firstStep",on:{click:e.toFirstStep}},[e._v(e._s(e.$t("BUC.revenueSettlement.netRevenue")))]),t("span",{staticClass:"separate"},[e._v(" / ")]),t("span",{staticClass:"secondStep"},[e._v(e._s(e.$t("BUC.revenueSettlement.pageTitleSecond")))])]),t("portal-create-success",{attrs:{successText:"Operation succeeded.",detailText:"",addText:"Initiate Revenue Settlement"},on:{"continue-add":e.backToInitiate}})],1):e._e()])},i=[],o=a("c811"),r=a("9981"),s=a("3186"),l=a("4c09"),c=a("8f48"),d={bind(e,t,a){const[n,i]=[e.querySelector(".el-dialog"),e.querySelector(".el-dialog__header")];i.style.cssText+=";cursor:move;",n.style.cssText+=";top:0px;";const o=function(){return(e,t)=>window.document.currentStyle?e.currentStyle[t]:getComputedStyle(e,!1)[t]}();i.onmousedown=e=>{const[t,r]=[n.offsetWidth,n.offsetHeight],[s,l]=[e.clientX-i.offsetLeft,e.clientY-i.offsetTop],c=n.offsetLeft+280,d=document.body.clientWidth-n.offsetLeft-t+280,u=n.offsetTop,h=window.innerHeight-n.offsetTop-r;let[m,g]=[o(n,"left"),o(n,"top")];m.includes("%")?(m=+document.body.clientWidth*(+m.replace(/%/g,"")/100),g=+document.body.clientHeight*(+g.replace(/%/g,"")/100)):(m=+m.replace(/\px/g,""),g=+g.replace(/\px/g,"")),document.onmousemove=function(e){let[t,i]=[e.clientX-s,e.clientY-l];-t>c?t=-c:t>d&&(t=d),-i>u?i=-u:i>h&&(i=h),n.style.cssText+=`;left:${t+m}px;top:${i+g}px;`,a.child.$emit("dragDialog")},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null}}}};const u=function(e){e.directive("el-drag-dialog",d)};d.install=u;var h=d,m=a("64e7"),g=a("4865"),p=a("9cfe"),f=a("7dfc"),C=a("5a0c"),v=a.n(C),b=a("d3d3"),S={name:"Commission",components:{PortalHeader:o["a"],PortalForm:s["a"],TablePage:l["a"],portalShortCode:c["a"],PortalCreateSuccess:r["a"],footerTap:b["a"]},directives:{elDragDialog:h},data(){let e=(e,t,a)=>{if(0==t.length&&a(),t){let e=t[0],n=new Date(e).getTime(),i=t[1],o=new Date(i).getTime(),r=o-n<26784e5;r?a():a(new Error("The time period cannot exceed 31 days"))}a()};return{pickerOptions:{onPick:({maxDate:e,minDate:t})=>{this.selectDate=t.getTime(),e&&(this.selectDate="")},disabledDate:e=>{if(""!==this.selectDate){const t=2592e6,a=this.selectDate-t,n=this.selectDate+t;return e.getTime()<a||e.getTime()>n}}},isCreateSuccess:!1,dialogSearchForm:{shortCode:"%",organizationName:"%"},submitLoading:!1,reasonDialogVisible:!1,addDialogVisible:!1,dialogSearchLoading:!1,addPageColumns:[{label:this.$t("BUC.revenueSettlement.organizationShortCode"),prop:"shortCode",align:"left"},{label:this.$t("BUC.revenueSettlement.organizationName"),prop:"organizationName",align:"left"},{label:"Support Settlement",prop:"hasProfile",align:"left"},{label:this.$t("BUC.revenueSettlement.amount"),prop:"amount",align:"left","min-width":"110",__slotName:"amount","render-header":(e,{column:t})=>e("div",[e("span",t.label),e("el-tooltip",{props:{placement:"top","popper-class":"tool-tip",content:"The system supports partial revenue settlement. When initiates a revenue settlement transaction for an organization, you can specify the expected net revenue amount transferred to the Working Account of the organization after settlement."}},[e("svg-icon",{props:{"icon-class":"questionMark"},class:"svgIcon",style:"color:#409eff;margin-left:5px;"})])])},{label:this.$t("BUC.revenueSettlement.operation"),prop:"operation",align:"left",__slotName:"opera"}],addPageIsSearch:!1,isInitiate:!1,isListPage:!0,paginationConfig:{pageIndex:1,pageSize:10},addDialogPaginationConfig:{pageIndex:1,pageSize:5,layout:"total, prev, pager, next"},titleConfig:{title:this.$t("BUC.revenueSettlement.pageTitle"),desc:this.$t("BUC.revenueSettlement.desc")},titleConfigSecond:{title:this.$t("BUC.revenueSettlement.pageTitleSecond"),desc:this.$t("BUC.revenueSettlement.descSecond")},settlementForm:{planId:"",status:"",triggerModel:"",fundingSource:"",merchantId:"",orgShortCode:"",initiationTime:[],settlementEndTime:[]},formRules:{initiationTime:[{validator:e,trigger:"blur"}]},isSearch:!1,searchVisible:!1,searchLoading:!1,isSubmitBtnActive:!0,searchOptions:{statusList:[{label:"All",value:""}],triggerModelList:[{label:"All",value:""}],fundingSourceList:[{label:"All",value:""}]},addDialogIsSearch:!1,showCreateList:!1,checkedList:[],checkedList2:[],addDialogColumns:[{label:this.$t("BUC.revenueSettlement.shortCode"),prop:"shortCode",align:"left",width:"200"},{label:this.$t("BUC.revenueSettlement.organizationName"),prop:"organizationName",align:"left"},{label:"Support Settlement",prop:"hasProfile",align:"left"},{label:this.$t("BUC.revenueSettlement.operation"),prop:"operation",align:"left",__slotName:"opera",width:"150"}],columns:[{label:this.$t("BUC.revenueSettlement.planId"),prop:"planOrderId",align:"left","sort-method":(e,t)=>e.planId>t.planId?1:-1,width:"100"},{label:this.$t("BUC.revenueSettlement.organizationShortCode"),prop:"shortCode",align:"left",width:"215","sort-method":(e,t)=>e.organizationShortCode>t.organizationShortCode?1:-1},{label:this.$t("BUC.revenueSettlement.organizationName"),prop:"orgName",align:"left",width:"180","sort-method":(e,t)=>e.organizationName>t.organizationName?1:-1},{label:this.$t("BUC.revenueSettlement.settlementAccount"),prop:"settlementAccountTypeName",align:"left",width:"185","sort-method":(e,t)=>e.settlementAccount>t.settlementAccount?1:-1},{label:this.$t("BUC.revenueSettlement.status"),prop:"statusName",align:"left",__slotName:"taskStatus",width:"220"},{label:this.$t("BUC.revenueSettlement.initiationTime"),prop:"createTimeNew",align:"left",width:"170","sort-method":(e,t)=>e.initiationTime>t.initiationTime?1:-1},{label:this.$t("BUC.revenueSettlement.completionTime"),prop:"endTimeNew",align:"left",width:"170","sort-method":(e,t)=>e.completionTime>t.completionTime?1:-1},{label:this.$t("BUC.revenueSettlement.operator"),prop:"lastUpdateOpername",align:"left",width:"110","sort-method":(e,t)=>e.operator>t.operator?1:-1},{label:this.$t("BUC.revenueSettlement.expectedNetRevenueAmount"),prop:"expectedNetAmount",align:"left",width:"240"},{label:this.$t("BUC.revenueSettlement.currency"),prop:"currency",align:"left",width:"116","sort-method":(e,t)=>e.currency>t.currency?1:-1},{label:this.$t("BUC.revenueSettlement.fundingSource"),prop:"fundingSourceValue",align:"left",width:"140"},{label:this.$t("BUC.revenueSettlement.triggerModel"),prop:"planTypeName",align:"left",width:"140"},{label:this.$t("BUC.revenueSettlement.operation"),prop:"operation",align:"left",fixed:"right",width:150,__slotName:"opera"}]}},computed:{formConfigArray(){return[{label:this.$t("BUC.revenueSettlement.planId"),key:"planId",comp:"el-input",bind:{placeholder:"Please enter",id:"planId"}},{label:this.$t("BUC.revenueSettlement.status"),key:"status",comp:"el-select",options:this.searchOptions.statusList,bind:{placeholder:"Please select",id:"status"}},{formItemClass:"org-short-code",label:this.$t("BUC.commissionRollDown.orgShortCode"),key:"orgShortCode",prop:"orgShortCode",comp:"el-input",bind:{placeholder:this.$t("common.placeholder.select"),clearable:!0},slots:[{name:"append",comp:"el-link",class:"short-code-icon",bind:{icon:"el-icon-more",underline:!1},event:{click:()=>{this.searchVisible=!0}}}]},{label:this.$t("BUC.revenueSettlement.triggerModel"),key:"triggerModel",comp:"el-select",options:this.searchOptions.triggerModelList,bind:{placeholder:"Please select",id:"triggerModel"}},{formItemClass:"form-special-date-box",label:this.$t("BUC.revenueSettlement.initiationTime"),key:"initiationTime",prop:"initiationTime",comp:"el-date-picker",bind:{placeholder:this.$t("common.placeholder.enter"),type:"daterange",format:"dd/MM/yyyy","range-separator":"-","start-placeholder":"Start","end-placeholder":"End","picker-options":this.pickerOptions}},{formItemClass:"form-special-date-box",label:this.$t("BUC.revenueSettlement.settlementEndTime"),key:"settlementEndTime",comp:"el-date-picker",bind:{placeholder:this.$t("common.placeholder.enter"),type:"daterange",format:"dd/MM/yyyy","range-separator":"-","start-placeholder":"Start","end-placeholder":"End"}},{label:this.$t("BUC.revenueSettlement.fundingSource"),key:"fundingSource",comp:"el-select",options:this.searchOptions.fundingSourceList,bind:{placeholder:"Please select",id:"fundingSource"}}]},dialogFormConfigArray(){return[{label:this.$t("BUC.revenueSettlement.shortCode"),key:"shortCode",comp:"el-input",bind:{placeholder:"Please enter",id:"shortCode"}},{label:this.$t("BUC.revenueSettlement.organizationName"),key:"organizationName",comp:"el-input",bind:{placeholder:"Please enter",id:"organizationName"}}]},statusStyle(){return e=>{switch(e){case"Terminated":return{"background-color":""+this.GlobalStyleVariables.fillStrongColor};case"Cancelled":return{"background-color":""+this.GlobalStyleVariables.fillStrongColor};case"Completed":return{"background-color":""+this.GlobalStyleVariables.statusSuccessColor};case"Running":return{"background-color":""+this.GlobalStyleVariables.statusNoticeColor};case"Prepared":return{"background-color":""+this.GlobalStyleVariables.statusColorwarning};case"Second Settlement Failed":return{"background-color":""+this.GlobalStyleVariables.statusColorwarning};case"First Settlement Failed":return{"background-color":""+this.GlobalStyleVariables.statusColorwarning};default:return}}}},created(){this.getSearchOptions()},methods:{isSelectable(e){return"Yes"===e.hasProfile||"No"!==e.hasProfile&&void 0},async getSearchOptions(){let e=["SettlementProcessStatus","SettlementTriggerModel","FundingSource"],t=[this.searchOptions.statusList,this.searchOptions.triggerModelList,this.searchOptions.fundingSourceList];for(let a=0;a<e.length;a++){let n=await Object(p["f"])({type:e[a]});n.header&&n.header.success&&n.dictList.forEach(e=>{t[a].push({label:e.value,value:e.key})})}},addDialogConfirm(){this.checkedList.forEach(e=>{if(0===this.checkedList2.length)this.checkedList2.push(e);else{let t=!1;this.checkedList2.forEach(a=>{a.organizationId===e.organizationId&&(t=!0)}),t||this.checkedList2.push(e)}}),this.checkedList=[],this.addDialogVisible=!1,this.dialogSearchForm.shortCode="%",this.dialogSearchForm.organizationName="%",this.checkedList2.length>0?(this.showCreateList=!0,this.isSubmitBtnActive=!1):(this.showCreateList=!1,this.isSubmitBtnActive=!0),this.addPageIsSearch=!0},handleSelectionChange(e){this.checkedList=e},getAddDialogTableData(){return new Promise(e=>{let t={orgShortCode:this.dialogSearchForm.shortCode,orgName:this.dialogSearchForm.organizationName,pageIndex:this.addDialogPaginationConfig.pageIndex,pageSize:this.addDialogPaginationConfig.pageSize};Object(p["g"])(t).then(t=>{if(t.header&&t.header.success){if(this.addDialogIsSearch=!1,this.dialogSearchLoading=!1,t.list){t.totalRecords=t.total;let e=t.list;t.list[0]&&t.list[0].organizationDTO&&(e=[],t.list.forEach(t=>{e.push({...t.organizationDTO,hasProfile:t.hasProfile})})),t.list=e,t.list.forEach(e=>{!0===e.hasProfile?e.hasProfile="Yes":!1===e.hasProfile&&(e.hasProfile="No")})}else t.list=[];e(t)}}).finally(()=>{this.dialogSearchLoading=!1,this.addDialogIsSearch=!1})})},submitCreate(){this.$confirm("Initiating revenue settlement on the portal has performance risks and may fail to be completed due to timeout. You are advised to initiate the system task plan Org Revenue Settlement Process. Are you sure you want to continue?","Confirm",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",closeOnClickModal:!1,type:"warning",customClass:"box-logout"}).then(async()=>{let e=[];this.checkedList2.forEach(t=>{e.push({orgId:t.organizationId,amount:t.expectedRevenueAmount||""})});let t={isAllOrg:!1,list:e},a=await Object(p["b"])(t);a.header&&a.header.success&&(this.checkedList2.forEach(e=>{e.expectedRevenueAmount=""}),this.checkedList2=[],this.isCreateSuccess=!0,this.isListPage=!1,this.isInitiate=!1)}).catch(()=>{})},getAddPageTableData(){return new Promise(e=>{this.addPageIsSearch=!1;let t={header:{success:!0},list:this.checkedList2};e(t)})},toFirstStep(){this.checkedList2.forEach(e=>{e.expectedRevenueAmount=""}),this.isListPage=!0,this.isInitiate=!1,this.isCreateSuccess=!1,this.checkedList2=[],this.addDialogConfirm()},toFirstStepAsk(){this.$confirm("All data you have entered/selected in this page will be cancelled","Are you sure to return Revenue Settlement?",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",closeOnClickModal:!1,type:"warning",customClass:"box-logout"}).then(()=>{this.checkedList2.forEach(e=>{e.expectedRevenueAmount=""}),this.isListPage=!0,this.isInitiate=!1,this.isCreateSuccess=!1,this.checkedList2=[],this.addDialogConfirm()}).catch(()=>{})},addBtnClick(){this.addDialogVisible=!0,this.addDialogIsSearch=!0},search(){this.$refs["settlementFormRef"].validate(e=>{e&&(this.searchLoading=!0,this.isSearch=!0,this.paginationConfig={pageIndex:1,pageSize:10})})},reset(){this.$refs.settlementFormRef.resetFields(),this.isSearch=!0,this.searchLoading=!0,this.paginationConfig.pageIndex=1,this.paginationConfig.pageSize=10},handleDeleteClick(e){this.$confirm("Are you sure you want to delete the Organization?",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",closeOnClickModal:!1,type:"warning",customClass:"box-logout"}).then(()=>{this.checkedList2.forEach(t=>{t.organizationId===e.organizationId&&(this.checkedList2.splice(this.checkedList2.indexOf(t),1),t.expectedRevenueAmount="")}),this.addDialogConfirm()}).catch(()=>{})},getOrgShortCode(){return new Promise(e=>{let t={shortCode:this.settlementForm.orgShortCode||""};Object(g["s"])(t).then(t=>{this.searchLoading=!1,t.header&&t.header.success&&t.organizationInfo?e(t.organizationInfo.organizationId):e("")})})},async getTableData(){let e;return this.settlementForm.orgShortCode&&(e=await this.getOrgShortCode(),!e)?(this.searchLoading=!1,this.isSearch=!1,{header:{success:!1}}):new Promise(t=>{let a=Object(f["a"])(this.settlementForm.initiationTime[0],"YYYY-MM-DDTHH:mm:ss")||"",n=Object(f["a"])(this.settlementForm.initiationTime[1],"YYYY-MM-DDTHH:mm:ss")||"",i=Object(f["a"])(this.settlementForm.settlementEndTime[0],"YYYY-MM-DDTHH:mm:ss")||"",o=Object(f["a"])(this.settlementForm.settlementEndTime[1],"YYYY-MM-DDTHH:mm:ss")||"",r={planId:this.settlementForm.planId,statusCode:this.settlementForm.status,orgId:e,triggerModelCode:this.settlementForm.triggerModel,initiationEarliestTime:a,initiationLatestTime:n,settlementStartTime:i,settlementEndTime:o,fundingSourceCode:this.settlementForm.fundingSource,spQuery:!1,pageNo:this.paginationConfig.pageIndex,pageSize:this.paginationConfig.pageSize};Object(p["e"])(r).then(e=>{this.searchLoading=!1,this.isSearch=!1,e.header&&e.header.success&&(e.list.forEach(e=>{e.createTimeNew=e.createTime?v()(e.createTime).format("DD/MM/YYYY HH:mm:ss"):"",e.endTimeNew=e.endTime?v()(e.endTime).format("DD/MM/YYYY HH:mm:ss"):"",e.lastUpdateOpername||e.lastUpdateOpername||(e.lastUpdateOpername=e.createOperName)}),e.totalRecords=e.total,t(e))})})},toAddPage(){this.isInitiate=!0,this.isListPage=!1},handleProcessClick(e){this.openNewWindow({path:"settlementProcess",query:{params:JSON.stringify(e)}})},handleDownloadClick(e){let t={planOrderId:e.planOrderId,exportType:"Excel"};const a="/orgportal/fintech/v1/settlement/revenue/org/downloadOrgRevenueReport";m["a"].downLoadFile(a,t,"POST",!0)},handleDetailClick(e){this.openNewWindow({path:"settlementDetail",query:{params:JSON.stringify(e)}})},toOrgDetail(e){let t={organizationId:e.organizationId,propShortCode:e.shortCode,identityId:e.organizationId};this.openNewWindow({path:"/mainPage/identifierCenter/organizationInfo/organization/detail",query:{data:encodeURIComponent(JSON.stringify(t))}})},viewReasonDialog(){this.reasonDialogVisible=!0},dialogReset(){this.$refs["addDialogFormRef"].resetFields(),this.checkedList=[],this.addDialogIsSearch=!0,this.dialogSearchLoading=!0,this.addDialogPaginationConfig.pageIndex=1},dialogSearch(){this.dialogSearchLoading=!0,this.addDialogIsSearch=!0,this.addDialogPaginationConfig.pageIndex=1},addDialogCancel(){this.addDialogVisible=!1,this.$refs["addDialogFormRef"].resetFields()},backToInitiate(){this.addDialogConfirm(),this.isListPage=!1,this.isInitiate=!0,this.isCreateSuccess=!1}}},y=S,k=(a("8a67"),a("eb6e"),a("2877")),O=Object(k["a"])(y,n,i,!1,null,"add829ba",null);t["default"]=O.exports},e3d0:function(e,t,a){},eb6e:function(e,t,a){"use strict";a("a1b9")}}]);
//# sourceMappingURL=chunk-cc3098b2.js.map