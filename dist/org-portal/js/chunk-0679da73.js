(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0679da73","chunk-43eec914"],{"02e3":function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"y",(function(){return i})),n.d(t,"z",(function(){return a})),n.d(t,"w",(function(){return u})),n.d(t,"f",(function(){return c})),n.d(t,"u",(function(){return s})),n.d(t,"v",(function(){return l})),n.d(t,"x",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"s",(function(){return m})),n.d(t,"n",(function(){return h})),n.d(t,"r",(function(){return g})),n.d(t,"j",(function(){return f})),n.d(t,"l",(function(){return b})),n.d(t,"q",(function(){return v})),n.d(t,"m",(function(){return C})),n.d(t,"p",(function(){return y})),n.d(t,"k",(function(){return N})),n.d(t,"i",(function(){return L})),n.d(t,"h",(function(){return k})),n.d(t,"t",(function(){return x})),n.d(t,"d",(function(){return P})),n.d(t,"o",(function(){return _})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return j}));let o={required:!0,message:"Please enter content",trigger:"blur"},r={required:!0,message:"Please check content",trigger:"blur"},a={required:!0,message:"Please select content",trigger:"change"},i={pattern:/^[0-9a-zA-Z]*$/,message:"Must be number and letters.",trigger:"blur"},c={pattern:/^[+-]?[0-9]*$/,message:"Must be integer number.",trigger:"blur"},s={pattern:/[0-9]{4}/,message:"The MSISDN must contain at least 4 dligits",trigger:"blur"},u={pattern:/^[^@~`！!#$%^*（）()\-+=|,/<>《》?？;':\"“\[\]{}\\&]*$/,message:"Cannot contain special characters (~`!#$%^*()-+=|,/<>?;':\"[]{}\\&)",trigger:"blur"},l={pattern:/^[^@~`！!#$^*（）()\-+=|,/<>《》?？;':\"“\[\]{}\\&]*$/,message:"Cannot contain special characters (~`!#$^*()-+=|,/<>?;':\"[]{}\\&)",trigger:"blur"},d={pattern:/^[\w- ]+$/,message:"Please do not enter any special characters.",trigger:"blur"};P({minLen:0,maxLen:11});const p=P({minLen:0,maxLen:18}),m=(P({minLen:3,maxLen:3}),P({minLen:6,maxLen:16})),h=(P({minLen:8,maxLen:10}),P({minLen:8,maxLen:11}),P({minLen:4,maxLen:12})),g=P({minLen:6,maxLen:12}),f=P({minLen:0,maxLen:19}),b=P({minLen:0,maxLen:24}),v=P({minLen:0,maxLen:64}),C=(P({minLen:0,maxLen:100}),P({minLen:0,maxLen:256})),y=P({minLen:0,maxLen:512}),N=(P({minLen:8,maxLen:50}),P({minLen:1,maxLen:18})),L=P({minLen:0,maxLen:32}),k=P({minLen:0,maxLen:30}),x=P({minLen:9,maxLen:18});P({minLen:2,maxLen:256});function P({minLen:e=0,maxLen:t=100}){let n="";return n=e>0?`Must be between ${e} and ${t} characters`:`Must be less than ${t} characters`,{min:e,max:t,message:n,trigger:"blur"}}const _=P({minLen:0,maxLen:4});function O(e){let t=[];for(let n in e)e[n]&&e[n].toString().startsWith("%")&&1===e[n].length||!e[n]?t.push(!1):t.push(!0);return!t.every(e=>!1===e)}function j(e){return{validator:(t,n,o)=>{n&&n.startsWith("%")&&1===n.length?o(new Error(""+e)):o()},trigger:"blur"}}},"0e19":function(e,t,n){},3038:function(e,t,n){"use strict";n("cd52")},"35a4":function(e,t,n){"use strict";n.d(t,"n",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"p",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"o",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"i",(function(){return h})),n.d(t,"l",(function(){return g})),n.d(t,"m",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"q",(function(){return C})),n.d(t,"f",(function(){return y}));var o=n("0bbd");function r(e){return Object(o["a"])({url:"/fintech/v1/group/product",method:"post",data:e})}function a(e){return Object(o["a"])({url:"/fintech/v1/group/checkInputKyc",method:"post",data:e})}function i(e){return Object(o["a"])({url:"/fintech/v1/group/trustLevelAndSegment",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/fintech/v1/group/assign/product",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/fintech/v1/group/queryAccountType",method:"post",data:e})}function u(e){return Object(o["a"])({url:"fintech/v1/identity/verify/activeMsisdn",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/fintech/v1/group/create",method:"post",data:e})}function d(e){return Object(o["a"])({url:"/fintech/v1/identity/generateIdentifier",method:"post",data:e})}function p(e){return Object(o["a"])({url:"/fintech/v1/identity/verify/groupCode",method:"post",data:e})}function m(e){return Object(o["a"])({url:"/fintech/v1/group/dcc/queryProduct",method:"POST",data:e})}function h(e){return Object(o["a"])({url:"fintech/v1/group/queryBusinessGroupList",method:"post",data:e})}function g(e){return Object(o["a"])({url:"fintech/v1/groupMember/listGroupMembersByCustomer",method:"post",data:e})}function f(e){return Object(o["a"])({url:"fintech/v1/groupMember/queryGroupMemberRule",method:"post",data:e})}function b(e){return Object(o["a"])({url:"fintech/v1/groupMember/changeGroupMember/rule",method:"post",data:e})}function v(e){return Object(o["a"])({url:"fintech/v1/groupMember/addGroupMember",method:"post",data:e})}function C(e){return Object(o["a"])({url:"fintech/v1/groupMember/removeGroupMember",method:"post",data:e})}function y(e){return Object(o["a"])({url:"fintech/v1/group/info",method:"post",data:e})}},"405a":function(e,t,n){},"698d":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"group-list-config business-portal-page"},[t("portal-header",{attrs:{projectObj:e.titleConfig}}),t("portal-form",{ref:"resForm",attrs:{"form-data":e.condition,"form-config-list":e.formConfigList,formRules:e.groupRules,searchBtnLoading:e.searchLoading,searchBtnDisabled:!e.hasPerm("IC_IDENTITY_GROUP_SEARCH_BTN")},on:{"reset-btn-click":e.reset,"search-btn-click":e.search}}),t("div",{staticClass:"content"},[t("div",{staticClass:"createDiv",staticStyle:{"padding-bottom":"16px"}},[t("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus",disabled:!e.hasPerm("IC_IDENTITY_CREATEGROUP_BTN")},on:{click:e.addCreate}},[e._v(" Create ")]),t("div",[e.sortField.length>0?t("el-select",{staticClass:"sortType",attrs:{placeholder:e.$t("common.placeholder.select")+""},model:{value:e.sortType,callback:function(t){e.sortType=t},expression:"sortType"}},e._l(e.sortListType,(function(e){return t("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})})),1):e._e(),t("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:e.$t("common.placeholder.select")+""},model:{value:e.sortField,callback:function(t){e.sortField=t},expression:"sortField"}},e._l(e.sortList,(function(e){return t("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})})),1)],1)],1),t("div",[t("table-page",{ref:"group-table",staticClass:"table-page",attrs:{size:"small","has-pagination":!0,columns:e.columns,pagination:e.paginationConfig,initializingLoading:!1,getTableData:e.getTableData,"is-search":e.isSearch,sortArr:e.sortArr},scopedSlots:e._u([{key:"status",fn:function(n){return[t("span",{class:["status-circle",e.statusStyle(n.data.row.status)]}),t("span",{staticClass:"status-name"},[e._v(e._s(e.showStatus(n.data.row.status)))])]}},{key:"operation",fn:function(n){return[t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.handleDetail(n.data.row)}}},[e._v(e._s(e.$t("common.button.detail")))])]}}])})],1)]),t("dialog-product",{attrs:{check:!0,checked:{productId:e.condition.productId,productName:e.condition.productName},"data-loader":e.loadProducts,"single-check":!0,visible:e.showProductDialog},on:{"update:visible":function(t){e.showProductDialog=t},confirm:e.onProductChange}})],1)},r=[],a=n("4c09"),i=n("c811"),c=n("3186"),s=n("9a16"),u=n("35a4"),l=n("d8d3"),d=n("02e3"),p={components:{DialogProduct:s["a"],TablePage:a["a"],PortalHeader:i["a"],PortalForm:c["a"]},name:"GroupListPage",data(){return{columns:[{label:"Group Code",prop:"groupCode",align:"left","sort-method":(e,t)=>e.groupCode>t.groupCode?1:-1},{label:"Group Name",prop:"groupName",align:"left","sort-method":(e,t)=>e.groupName>t.groupName?1:-1},{"sort-method":(e,t)=>e.status>t.status?1:-1,__slotName:"status",align:"left",label:"Status",prop:"status"},{label:"Group Product",prop:"productName",align:"left","sort-method":(e,t)=>e.productName>t.productName?1:-1},{label:"Operation",prop:"operation",align:"left",__slotName:"operation",width:104}],groupRules:{groupCode:[d["l"],d["v"]],groupName:[d["q"],d["v"]]},paginationConfig:{total:0,pageIndex:1,pageSize:10},sortArr:["status"],showProductDialog:!1,isSearch:!1,searchBtnDisabled:!1,searchBtnLoading:!1,searchLoading:!1,condition:{groupCode:"%",groupName:"%",status:"",productName:"",productId:""},sortField:"",sortType:"ASC",sortList:[{name:"Sort By",code:""},{name:"Group Code",code:"GROUP_CODE"},{name:"Group Name",code:"Group_Name"}],sortListType:[{name:"Ascending",code:"ASC"},{name:"Descending",code:"DESC"}],searchVisible:!1,productPopupConf:{title:this.$t("IDC.dialogProduct.dialogTitle"),label:"Product Name",columns:[{label:this.$t("IDC.dialogProduct.productName"),prop:"productName",align:"left"},{label:this.$t("common.label.description"),prop:"description",align:"left"}],searchForm:{formData:{productName:null},formConf:[{bind:{clearable:!0,placeholder:this.$t("common.placeholder.enter")},comp:"el-input",event:{change:()=>{}},key:"productName",label:this.$t("IDC.dialogProduct.productName"),prop:"productName"}]}}}},computed:{formConfigList(){return[{label:"Group Code",key:"groupCode",comp:"el-input",bind:{id:"Name",placeholder:this.$t("common.placeholder.enter"),"show-word-limit":!0}},{label:"Group Name",key:"groupName",comp:"el-input",bind:{id:"Name",placeholder:this.$t("common.placeholder.enter"),"show-word-limit":!0}},{label:"Status",key:"status",comp:"el-select",options:[{value:"",label:"All"},{value:"03",label:"Active"},{value:"07",label:"Capped"},{value:"06",label:"Closed"},{value:"08",label:"Dormant"},{value:"05",label:"Frozen"},{value:"00",label:"New"},{value:"02",label:"Pending Active"},{value:"04",label:"Suspended"}],event:{change:this.changeType},bind:{id:"Name",placeholder:this.$t("common.placeholder.enter"),"show-word-limit":!0,clearable:!0}},{bind:{placeholder:this.$t("common.placeholder.select"),clearable:!0,readonly:!0},comp:"el-input",key:"productName",label:"Group Product",prop:"productName",slots:[{name:"append",comp:"el-link",class:"short-code-icon",bind:{icon:"el-icon-more",underline:!1},event:{click:()=>{this.showProductDialog=!0}}}]}]},titleConfig(){return{title:"Group",desc:""}},configRouteType(){return this.getConfigRouteType()},basePath(){return"/identity/group/"}},created(){},activated(){},methods:{addCreate(){this.openNewWindow({path:"create"})},search(){this.condition.groupCode&&"%"!==this.condition.groupCode||this.condition.groupName&&"%"!==this.condition.groupName||this.condition.productId?(this.searchBtnLoading=!0,this.isSearch=!0):this.$modal.msgError(this.$t("IDC.group.list.conditionNotice"))},reset(){this.condition.groupCode="%",this.condition.groupName="%",this.condition.status="",this.condition.productName="",this.condition.productId="",this.sortField="",this.sortType="ASC",this.$refs["group-table"].tableData=[],this.$refs["group-table"].$refs["tableRef"].clearSort()},handleSearchClick(){},handleResetClick(){},handleDetail(e){let t={groupCode:e.groupCode,identityId:e.identityId};this.openNewWindow({path:"detail",query:{params:encodeURIComponent(JSON.stringify(t))}})},openVisible(){this.searchVisible=!0},changeType(){},onProductChange(e){e&&e.length?(this.condition.productId=e[0].productIndex,this.condition.productName=e[0].productName):(this.condition.productId="",this.condition.productName="")},async loadProducts(e){let t=await Object(u["j"])(e);return t.header&&t.header.success&&(t.totalRecords=t.total),t},getTableData(){let e;try{let t={groupCode:this.condition.groupCode,groupName:this.condition.groupName,identitySortTypeDTO:{sortField:this.sortField,sortType:this.sortType},pageNo:this.paginationConfig.pageIndex,pageSize:this.paginationConfig.pageSize,productId:this.condition.productId,status:this.condition.status};const n={groupCode:t.groupCode,groupName:t.groupName,productId:t.productId};if(!Object(d["a"])(n))return this.$modal.msgError("Specify at least one search condition of Group Code,Group Name and Group Product."),this.isSearch=!1,void(this.searchLoading=!1);e=Object(u["i"])(t)}catch(t){e={header:{success:!1}}}finally{this.searchBtnLoading=!1,this.isSearch=!1}return e},statusStyle(e){switch(e){case"03":return"notice";case"04":case"05":case"08":return"warning";case"06":return"closed";default:return"none"}},showStatus(e){return l["c"][e]||"-"}}},m=p,h=(n("3038"),n("2877")),g=Object(h["a"])(m,o,r,!1,null,"17452e50",null);t["default"]=g.exports},"6cbc":function(e,t,n){"use strict";n("405a")},9488:function(e,t,n){"use strict";n("0e19")},"9a16":function(e,t,n){"use strict";var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("el-dialog",{attrs:{title:e.$t("IDC.organization.dialogProduct.dialogTitle")+"",visible:e.visible,width:"800px","close-on-click-modal":!1,"before-close":e.cancel},on:{"update:visible":function(t){e.visible=t}}},[t("div",{staticClass:"container-condition"},[t("el-form",{ref:"condition",class:["add-form","form-flex-container"],attrs:{size:"small",model:e.condition,"label-position":"top"},nativeOn:{submit:function(e){e.preventDefault()}}},[t("el-form-item",{attrs:{label:e.$t("IDC.organization.dialogProduct.productName")+"",prop:"operatorName"}},[t("el-input",{attrs:{size:"small",placeholder:"Please enter"},on:{focus:()=>{}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(()=>{}).apply(null,arguments)}},model:{value:e.condition.productName,callback:function(t){e.$set(e.condition,"productName","string"===typeof t?t.trim():t)},expression:"condition.productName"}})],1)],1),t("div",{staticClass:"condition-options"},[t("el-button",{attrs:{plain:"",size:"small"},on:{click:e.reset}},[e._v(e._s(e.$t("common.button.reset")))]),t("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{plain:"",size:"small",type:"primary"},on:{click:e.search}},[e._v(e._s(e.$t("common.button.search"))+" ")])],1)],1),t("div",{staticClass:"container-products"},[t("table-page",{attrs:{columns:e.columns,"get-table-data":e.loadData,"init-checks":e.checks,"is-check":!0,"is-search":e.searching,"is-single-check":!0,pagination:e.pagination,"id-key":"productIndex",id:"table",size:"small"},on:{"selection-change":e.onSelectionChange,"single-selection-change":e.onSingleSelectionChange}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("div",{staticClass:"option-buttons"},[t("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{size:"small",type:"primary"},on:{click:e.confirm}},[e._v(e._s(e.$t("common.button.confirm"))+" ")]),t("el-button",{attrs:{plain:"",size:"small"},on:{click:e.cancel}},[e._v(e._s(e.$t("common.button.cancel")))])],1)])])],1)},r=[],a=n("4c09"),i={name:"DialogProduct",components:{TablePage:a["a"]},mixins:{},props:{check:{type:Boolean,default:!1},checked:{type:Object,default:()=>({})},singleCheck:{type:Boolean,default:!1},visible:{type:Boolean,default:!1},dataLoader:{type:Function,default:()=>{}}},data(){return{checks:[],condition:{productName:""},searching:!1}},computed:{columns(){return[{label:this.$t("IDC.organization.dialogProduct.productName"),prop:"productName",align:"left","sort-method":(e,t)=>e.productName>t.productName?1:-1},{label:this.$t("common.label.description"),prop:"description",align:"left"}]},pagination(){return{pageIndex:1,pageSize:10,layout:"total, prev, pager, next"}}},watch:{checked(e){e&&e.productName?this.checks=[{productIndex:e.productId,productName:e.productName}]:this.checks=[]}},filter:{},created:function(){},activated:function(){},mounted:function(){},methods:{cancel(){this.closeDialog()},confirm(){this.$emit("confirm",this.checks),this.closeDialog(!1)},closeDialog(e=!0){e&&this.reset(!1),this.$emit("update:visible",!1)},async loadData(e){if(Object.assign(e,this.condition),this.dataLoader){let n;try{n=await this.dataLoader(e)}catch(t){n={header:{success:!1}}}finally{this.searching=!1}return n}},onSelectionChange(e){this.checks=e},onSingleSelectionChange(e){this.checks=[e]},reset(e=!0){this.condition.productName="",this.pagination.pageIndex=1,e&&this.search()},search(){this.searching=!0}}},c=i,s=(n("6cbc"),n("2877")),u=Object(s["a"])(c,o,r,!1,null,"128da0fc",null);t["a"]=u.exports},c811:function(e,t,n){"use strict";var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"page-header",class:{"no-bottom-border":!e.showBottomLine,"no-desc-height":!e.projectObj.desc}},[t("div",{staticClass:"header-left"},[e.projectObj.title?t("div",{staticClass:"page-title"},[e._v(" "+e._s(e.projectObj.title)+" "),e._t("title-suffix")],2):e._e(),e.projectObj.desc?t("div",{staticClass:"page-desc"},[e._v(" "+e._s(e.projectObj.desc)+" ")]):e._e()]),t("div",{staticClass:"header-right"},[e._t("header-right")],2)])},r=[],a={name:"PortalHeader",components:{},props:{projectObj:{type:Object,default(){return{}}},showBottomLine:{type:Boolean,default:!0}}},i=a,c=(n("9488"),n("2877")),s=Object(c["a"])(i,o,r,!1,null,"73566ca8",null);t["a"]=s.exports},cd52:function(e,t,n){},d8d3:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));const o={"00":"New","02":"Pending Active","03":"Active","04":"Suspended","05":"Frozen","06":"Closed","07":"Capped","08":"Dormant"},r={1005:"Web",1007:"Handset",1010:"API"},a={1:"Porta",2:"AG",3:"ThirdParty",4:"System",5:"NC",6:"TransactionCenter",7:"IdentityBusiness",8:"BulkCenter"}}}]);
//# sourceMappingURL=chunk-0679da73.js.map